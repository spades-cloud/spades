<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spades | The Elite Productivity Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              display: ['Outfit', 'sans-serif'],
              mono: ['JetBrains Mono', 'monospace'],
            },
            colors: {
              brand: {
                obsidian: '#050505',
                charcoal: '#0a0a0a',
                card: '#0d0d0d',
                red: '#d92323',
                deepRed: '#3d0606',
                gold: '#e2b15b',
                goldDim: '#8a6d3b',
                platinum: '#e5e5e5',
              }
            },
            animation: {
              'pulse-slow': 'pulse 8s cubic-bezier(0.4, 0, 0.6, 1) infinite',
              'float': 'float 12s ease-in-out infinite',
              'shine': 'shine 8s linear infinite',
              'shimmer': 'shimmer 4s ease-in-out infinite alternate',
              'glow': 'glow 6s ease-in-out infinite alternate',
              'reveal': 'reveal 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards',
              'border-flow': 'border-flow 4s linear infinite',
            },
            keyframes: {
              float: {
                '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                '50%': { transform: 'translateY(-25px) rotate(1deg)' },
              },
              shine: {
                '0%': { backgroundPosition: '200% center' },
                '100%': { backgroundPosition: '-200% center' },
              },
              shimmer: {
                '0%': { opacity: 0.4 },
                '100%': { opacity: 1 },
              },
              glow: {
                '0%': { boxShadow: '0 0 15px rgba(217, 35, 35, 0.1)' },
                '100%': { boxShadow: '0 0 45px rgba(217, 35, 35, 0.4), 0 0 20px rgba(226, 177, 91, 0.15)' }
              },
              reveal: {
                '0%': { opacity: 0, transform: 'translateY(30px) scale(0.98)' },
                '100%': { opacity: 1, transform: 'translateY(0) scale(1)' }
              },
              'border-flow': {
                '0%': { backgroundPosition: '0% 50%' },
                '100%': { backgroundPosition: '200% 50%' }
              }
            }
          }
        }
      }
    </script>
    <style>
      :root {
        --brand-red: #d92323;
        --brand-gold: #e2b15b;
        --brand-obsidian: #050505;
      }

      body {
        background-color: #020202;
        color: #f5f5f5;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        cursor: none;
      }
      
      html {
        scroll-behavior: smooth;
      }

      .cinematic-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: -1;
        background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, -20%), #1a0505 0%, #020202 60%);
        pointer-events: none;
        transition: background 0.2s ease-out;
      }

      .noise-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
        opacity: 0.06;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        pointer-events: none;
        mix-blend-mode: overlay;
      }

      .cursor-dot {
        width: 6px;
        height: 6px;
        background: white;
        position: fixed;
        border-radius: 50%;
        z-index: 9999;
        pointer-events: none;
        transition: transform 0.1s ease;
      }
      .cursor-outline {
        width: 40px;
        height: 40px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        position: fixed;
        border-radius: 50%;
        z-index: 9998;
        pointer-events: none;
        transition: transform 0.15s ease-out, width 0.3s ease, height 0.3s ease, border 0.3s ease;
      }
      
      .cursor-active .cursor-outline {
        width: 60px;
        height: 60px;
        border-color: var(--brand-red);
        background: rgba(217, 35, 35, 0.05);
      }

      ::-webkit-scrollbar {
        width: 3px;
      }
      ::-webkit-scrollbar-track {
        background: #020202;
      }
      ::-webkit-scrollbar-thumb {
        background: linear-gradient(to bottom, #333, var(--brand-red), #333);
        border-radius: 10px;
      }
      
      .glass-panel {
        background: rgba(13, 13, 13, 0.7) !important;
        backdrop-filter: blur(30px) saturate(180%) !important;
        -webkit-backdrop-filter: blur(30px) saturate(180%) !important;
        border: 1px solid rgba(255, 255, 255, 0.03) !important;
        box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.6) !important;
      }
      
      .glass-card-hover {
        transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1) !important;
      }
      .glass-card-hover:hover {
        background: rgba(20, 20, 20, 0.85) !important;
        border-color: rgba(217, 35, 35, 0.3) !important;
        transform: translateY(-8px) scale(1.02) !important;
        box-shadow: 0 30px 70px rgba(0, 0, 0, 0.8), 0 0 20px rgba(217, 35, 35, 0.1) !important;
      }

      .text-luxury {
        letter-spacing: -0.02em;
        line-height: 0.9;
      }
      
      .text-gradient-gold {
        background: linear-gradient(135deg, #fff 0%, #fceeb5 20%, #e2b15b 50%, #8a6d3b 80%, #5c4827 100%) !important;
        -webkit-background-clip: text !important;
        -webkit-text-fill-color: transparent !important;
        background-size: 200% auto !important;
        animation: shine 10s linear infinite !important;
      }
      
      .text-gradient-red {
        background: linear-gradient(135deg, #ff4d4d 0%, #d92323 50%, #500808 100%) !important;
        -webkit-background-clip: text !important;
        -webkit-text-fill-color: transparent !important;
      }

      .reveal-on-scroll {
        opacity: 0;
        transform: translateY(30px);
        transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
      }
      .reveal-on-scroll.active {
        opacity: 1;
        transform: translateY(0);
      }

      .premium-border {
        position: relative;
        overflow: hidden;
      }
      .premium-border::after {
        content: '';
        position: absolute;
        inset: 0;
        padding: 1px;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
      }

      @media (max-width: 768px) {
        .cursor-dot, .cursor-outline { display: none; }
        body { cursor: auto; }
      }
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const dot = document.createElement('div');
        dot.className = 'cursor-dot';
        const outline = document.createElement('div');
        outline.className = 'cursor-outline';
        document.body.appendChild(dot);
        document.body.appendChild(outline);

        document.addEventListener('mousemove', (e) => {
          const x = e.clientX;
          const y = e.clientY;
          dot.style.left = `${x}px`;
          dot.style.top = `${y}px`;
          outline.animate({
            left: `${x - 20}px`,
            top: `${y - 20}px`
          }, { duration: 500, fill: 'forwards' });

          const xPct = (x / window.innerWidth) * 100;
          const yPct = (y / window.innerHeight) * 100;
          document.body.style.setProperty('--mouse-x', `${xPct}%`);
          document.body.style.setProperty('--mouse-y', `${yPct}%`);
        });

        document.addEventListener('mousedown', () => document.body.classList.add('cursor-active'));
        document.addEventListener('mouseup', () => document.body.classList.remove('cursor-active'));

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('active');
            }
          });
        }, { threshold: 0.1 });

        const setupObserver = () => {
          document.querySelectorAll('section, .glass-panel, .glass-card-hover').forEach(el => {
            if (!el.classList.contains('reveal-on-scroll')) {
              el.classList.add('reveal-on-scroll');
              observer.observe(el);
            }
          });
        };
        
        setupObserver();
        setInterval(setupObserver, 2000); // Re-run for dynamic content
      });
    </script>
  </head>
  <body>
    <div class="cinematic-bg"></div>
    <div class="noise-overlay"></div>
    <div id="root"></div>

    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@19.0.0",
        "react/": "https://esm.sh/react@19.0.0/",
        "react-dom": "https://esm.sh/react-dom@19.0.0",
        "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
        "@google/genai": "https://esm.sh/@google/genai@1.32.0",
        "lucide-react": "https://esm.sh/lucide-react@0.460.0?external=react,react-dom",
        "recharts": "https://esm.sh/recharts@2.13.3?external=react,react-dom",
        "path": "https://esm.sh/path-browserify@1.0.1",
        "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.1.2",
        "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
        "vite": "https://esm.sh/vite@^7.3.1"
      }
    }
    </script>
    <script type="module">
var I6=Object.defineProperty;var N6=(t,e,n)=>e in t?I6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var w0=(t,e,n)=>N6(t,typeof e!="symbol"?e+"":e,n);function P6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ea(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S0={exports:{}},gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function R6(){if(B1)return gf;B1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return gf.Fragment=e,gf.jsx=n,gf.jsxs=n,gf}var q1;function M6(){return q1||(q1=1,S0.exports=R6()),S0.exports}var x=M6(),T0={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function D6(){if(F1)return ze;F1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function R($,te,pe){this.props=$,this.context=te,this.refs=T,this.updater=pe||S}R.prototype.isReactComponent={},R.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=R.prototype;function L($,te,pe){this.props=$,this.context=te,this.refs=T,this.updater=pe||S}var B=L.prototype=new j;B.constructor=L,A(B,R.prototype),B.isPureReactComponent=!0;var H=Array.isArray;function F(){}var D={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function k($,te,pe){var me=pe.ref;return{$$typeof:t,type:$,key:te,ref:me!==void 0?me:null,props:pe}}function G($,te){return k($.type,te,$.props)}function q($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function M($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(pe){return te[pe]})}var V=/\/+/g;function de($,te){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):te.toString(36)}function ye($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(F,F):($.status="pending",$.then(function(te){$.status==="pending"&&($.status="fulfilled",$.value=te)},function(te){$.status==="pending"&&($.status="rejected",$.reason=te)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function W($,te,pe,me,Ee){var Me=typeof $;(Me==="undefined"||Me==="boolean")&&($=null);var Ae=!1;if($===null)Ae=!0;else switch(Me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch($.$$typeof){case t:case e:Ae=!0;break;case h:return Ae=$._init,W(Ae($._payload),te,pe,me,Ee)}}if(Ae)return Ee=Ee($),Ae=me===""?"."+de($,0):me,H(Ee)?(pe="",Ae!=null&&(pe=Ae.replace(V,"$&/")+"/"),W(Ee,te,pe,"",function(Ve){return Ve})):Ee!=null&&(q(Ee)&&(Ee=G(Ee,pe+(Ee.key==null||$&&$.key===Ee.key?"":(""+Ee.key).replace(V,"$&/")+"/")+Ae)),te.push(Ee)),1;Ae=0;var bt=me===""?".":me+":";if(H($))for(var ae=0;ae<$.length;ae++)me=$[ae],Me=bt+de(me,ae),Ae+=W(me,te,pe,Me,Ee);else if(ae=E($),typeof ae=="function")for($=ae.call($),ae=0;!(me=$.next()).done;)me=me.value,Me=bt+de(me,ae++),Ae+=W(me,te,pe,Me,Ee);else if(Me==="object"){if(typeof $.then=="function")return W(ye($),te,pe,me,Ee);throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function oe($,te,pe){if($==null)return $;var me=[],Ee=0;return W($,me,"","",function(Me){return te.call(pe,Me,Ee++)}),me}function ve($){if($._status===-1){var te=$._result;te=te(),te.then(function(pe){($._status===0||$._status===-1)&&($._status=1,$._result=pe)},function(pe){($._status===0||$._status===-1)&&($._status=2,$._result=pe)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var ce=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},_e={map:oe,forEach:function($,te,pe){oe($,function(){te.apply(this,arguments)},pe)},count:function($){var te=0;return oe($,function(){te++}),te},toArray:function($){return oe($,function(te){return te})||[]},only:function($){if(!q($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return ze.Activity=m,ze.Children=_e,ze.Component=R,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=L,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ze.__COMPILER_RUNTIME={__proto__:null,c:function($){return D.H.useMemoCache($)}},ze.cache=function($){return function(){return $.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function($,te,pe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var me=A({},$.props),Ee=$.key;if(te!=null)for(Me in te.key!==void 0&&(Ee=""+te.key),te)!O.call(te,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&te.ref===void 0||(me[Me]=te[Me]);var Me=arguments.length-2;if(Me===1)me.children=pe;else if(1<Me){for(var Ae=Array(Me),bt=0;bt<Me;bt++)Ae[bt]=arguments[bt+2];me.children=Ae}return k($.type,Ee,me)},ze.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},ze.createElement=function($,te,pe){var me,Ee={},Me=null;if(te!=null)for(me in te.key!==void 0&&(Me=""+te.key),te)O.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ee[me]=te[me]);var Ae=arguments.length-2;if(Ae===1)Ee.children=pe;else if(1<Ae){for(var bt=Array(Ae),ae=0;ae<Ae;ae++)bt[ae]=arguments[ae+2];Ee.children=bt}if($&&$.defaultProps)for(me in Ae=$.defaultProps,Ae)Ee[me]===void 0&&(Ee[me]=Ae[me]);return k($,Me,Ee)},ze.createRef=function(){return{current:null}},ze.forwardRef=function($){return{$$typeof:u,render:$}},ze.isValidElement=q,ze.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:ve}},ze.memo=function($,te){return{$$typeof:d,type:$,compare:te===void 0?null:te}},ze.startTransition=function($){var te=D.T,pe={};D.T=pe;try{var me=$(),Ee=D.S;Ee!==null&&Ee(pe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(F,ce)}catch(Me){ce(Me)}finally{te!==null&&pe.types!==null&&(te.types=pe.types),D.T=te}},ze.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ze.use=function($){return D.H.use($)},ze.useActionState=function($,te,pe){return D.H.useActionState($,te,pe)},ze.useCallback=function($,te){return D.H.useCallback($,te)},ze.useContext=function($){return D.H.useContext($)},ze.useDebugValue=function(){},ze.useDeferredValue=function($,te){return D.H.useDeferredValue($,te)},ze.useEffect=function($,te){return D.H.useEffect($,te)},ze.useEffectEvent=function($){return D.H.useEffectEvent($)},ze.useId=function(){return D.H.useId()},ze.useImperativeHandle=function($,te,pe){return D.H.useImperativeHandle($,te,pe)},ze.useInsertionEffect=function($,te){return D.H.useInsertionEffect($,te)},ze.useLayoutEffect=function($,te){return D.H.useLayoutEffect($,te)},ze.useMemo=function($,te){return D.H.useMemo($,te)},ze.useOptimistic=function($,te){return D.H.useOptimistic($,te)},ze.useReducer=function($,te,pe){return D.H.useReducer($,te,pe)},ze.useRef=function($){return D.H.useRef($)},ze.useState=function($){return D.H.useState($)},ze.useSyncExternalStore=function($,te,pe){return D.H.useSyncExternalStore($,te,pe)},ze.useTransition=function(){return D.H.useTransition()},ze.version="19.2.3",ze}var G1;function Ku(){return G1||(G1=1,T0.exports=D6()),T0.exports}var N=Ku();const gD=ea(N),O6=P6({__proto__:null,default:gD},[N]);var A0={exports:{}},vf={},C0={exports:{}},I0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function k6(){return H1||(H1=1,(function(t){function e(W,oe){var ve=W.length;W.push(oe);e:for(;0<ve;){var ce=ve-1>>>1,_e=W[ce];if(0<i(_e,oe))W[ce]=oe,W[ve]=_e,ve=ce;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],ve=W.pop();if(ve!==oe){W[0]=ve;e:for(var ce=0,_e=W.length,$=_e>>>1;ce<$;){var te=2*(ce+1)-1,pe=W[te],me=te+1,Ee=W[me];if(0>i(pe,ve))me<_e&&0>i(Ee,pe)?(W[ce]=Ee,W[me]=ve,ce=me):(W[ce]=pe,W[te]=ve,ce=te);else if(me<_e&&0>i(Ee,ve))W[ce]=Ee,W[me]=ve,ce=me;else break e}}return oe}function i(W,oe){var ve=W.sortIndex-oe.sortIndex;return ve!==0?ve:W.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,m=null,v=3,E=!1,S=!1,A=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function B(W){for(var oe=n(d);oe!==null;){if(oe.callback===null)r(d);else if(oe.startTime<=W)r(d),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=n(d)}}function H(W){if(A=!1,B(W),!S)if(n(f)!==null)S=!0,F||(F=!0,M());else{var oe=n(d);oe!==null&&ye(H,oe.startTime-W)}}var F=!1,D=-1,O=5,k=-1;function G(){return T?!0:!(t.unstable_now()-k<O)}function q(){if(T=!1,F){var W=t.unstable_now();k=W;var oe=!0;try{e:{S=!1,A&&(A=!1,j(D),D=-1),E=!0;var ve=v;try{t:{for(B(W),m=n(f);m!==null&&!(m.expirationTime>W&&G());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,v=m.priorityLevel;var _e=ce(m.expirationTime<=W);if(W=t.unstable_now(),typeof _e=="function"){m.callback=_e,B(W),oe=!0;break t}m===n(f)&&r(f),B(W)}else r(f);m=n(f)}if(m!==null)oe=!0;else{var $=n(d);$!==null&&ye(H,$.startTime-W),oe=!1}}break e}finally{m=null,v=ve,E=!1}oe=void 0}}finally{oe?M():F=!1}}}var M;if(typeof L=="function")M=function(){L(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,de=V.port2;V.port1.onmessage=q,M=function(){de.postMessage(null)}}else M=function(){R(q,0)};function ye(W,oe){D=R(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var oe=3;break;default:oe=v}var ve=v;v=oe;try{return W()}finally{v=ve}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ve=v;v=W;try{return oe()}finally{v=ve}},t.unstable_scheduleCallback=function(W,oe,ve){var ce=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ce+ve:ce):ve=ce,W){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ve+_e,W={id:h++,callback:oe,priorityLevel:W,startTime:ve,expirationTime:_e,sortIndex:-1},ve>ce?(W.sortIndex=ve,e(d,W),n(f)===null&&W===n(d)&&(A?(j(D),D=-1):A=!0,ye(H,ve-ce))):(W.sortIndex=_e,e(f,W),S||E||(S=!0,F||(F=!0,M()))),W},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(W){var oe=v;return function(){var ve=v;v=oe;try{return W.apply(this,arguments)}finally{v=ve}}}})(I0)),I0}var $1;function L6(){return $1||($1=1,C0.exports=k6()),C0.exports}var N0={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function V6(){if(K1)return qn;K1=1;var t=Ku();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qn.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,h)},qn.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},qn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},qn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},qn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:E}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},qn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},qn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},qn.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},qn.requestFormReset=function(f){r.d.r(f)},qn.unstable_batchedUpdates=function(f,d){return f(d)},qn.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},qn.useFormStatus=function(){return l.H.useHostTransitionStatus()},qn.version="19.2.3",qn}var Y1;function vD(){if(Y1)return N0.exports;Y1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),N0.exports=V6(),N0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function U6(){if(W1)return vf;W1=1;var t=L6(),e=Ku(),n=vD();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var _=c.return;if(_===null)break;var w=_.alternate;if(w===null){if(p=_.return,p!==null){c=p;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===c)return f(_),a;if(w===p)return f(_),s;w=w.sibling}throw Error(r(188))}if(c.return!==p.return)c=_,p=w;else{for(var I=!1,U=_.child;U;){if(U===c){I=!0,c=_,p=w;break}if(U===p){I=!0,p=_,c=w;break}U=U.sibling}if(!I){for(U=w.child;U;){if(U===c){I=!0,c=w,p=_;break}if(U===p){I=!0,p=w,c=_;break}U=U.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function de(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case F:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case L:return a.displayName||"Context";case j:return(a._context.displayName||"Context")+".Consumer";case B:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return s=a.displayName||null,s!==null?s:de(a.type)||"Memo";case O:s=a._payload,a=a._init;try{return de(a(s))}catch{}}return null}var ye=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ce=[],_e=-1;function $(a){return{current:a}}function te(a){0>_e||(a.current=ce[_e],ce[_e]=null,_e--)}function pe(a,s){_e++,ce[_e]=a.current,a.current=s}var me=$(null),Ee=$(null),Me=$(null),Ae=$(null);function bt(a,s){switch(pe(Me,s),pe(Ee,a),pe(me,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?c1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=c1(s),a=f1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}te(me),pe(me,a)}function ae(){te(me),te(Ee),te(Me)}function Ve(a){a.memoizedState!==null&&pe(Ae,a);var s=me.current,c=f1(s,a.type);s!==c&&(pe(Ee,a),pe(me,c))}function Ge(a){Ee.current===a&&(te(me),te(Ee)),Ae.current===a&&(te(Ae),df._currentValue=ve)}var ge,jt;function $e(a){if(ge===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ge=s&&s[1]||"",jt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+a+jt}var sn=!1;function zt(a,s){if(!a||sn)return"";sn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var ee=re}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(re){ee=re}a.call(fe.prototype)}}else{try{throw Error()}catch(re){ee=re}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&ee&&typeof re.stack=="string")return[re.stack,ee.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),I=w[0],U=w[1];if(I&&U){var K=I.split(`
`),Z=U.split(`
`);for(_=p=0;p<K.length&&!K[p].includes("DetermineComponentFrameRoot");)p++;for(;_<Z.length&&!Z[_].includes("DetermineComponentFrameRoot");)_++;if(p===K.length||_===Z.length)for(p=K.length-1,_=Z.length-1;1<=p&&0<=_&&K[p]!==Z[_];)_--;for(;1<=p&&0<=_;p--,_--)if(K[p]!==Z[_]){if(p!==1||_!==1)do if(p--,_--,0>_||K[p]!==Z[_]){var se=`
`+K[p].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=p&&0<=_);break}}}finally{sn=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?$e(c):""}function _r(a,s){switch(a.tag){case 26:case 27:case 5:return $e(a.type);case 16:return $e("Lazy");case 13:return a.child!==s&&s!==null?$e("Suspense Fallback"):$e("Suspense");case 19:return $e("SuspenseList");case 0:case 15:return zt(a.type,!1);case 11:return zt(a.type.render,!1);case 1:return zt(a.type,!0);case 31:return $e("Activity");default:return""}}function fa(a){try{var s="",c=null;do s+=_r(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Kt=Object.prototype.hasOwnProperty,ln=t.unstable_scheduleCallback,da=t.unstable_cancelCallback,Tv=t.unstable_shouldYield,Vd=t.unstable_requestPaint,Jn=t.unstable_now,gs=t.unstable_getCurrentPriorityLevel,pc=t.unstable_ImmediatePriority,mc=t.unstable_UserBlockingPriority,ha=t.unstable_NormalPriority,Av=t.unstable_LowPriority,Ud=t.unstable_IdlePriority,jd=t.log,zd=t.unstable_setDisableYieldValue,oi=null,An=null;function Lr(a){if(typeof jd=="function"&&zd(a),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(oi,a)}catch{}}var Bt=Math.clz32?Math.clz32:qd,Bd=Math.log,wl=Math.LN2;function qd(a){return a>>>=0,a===0?32:31-(Bd(a)/wl|0)|0}var Ri=256,vs=262144,Yt=4194304;function Mi(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Di(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var _=0,w=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var U=p&134217727;return U!==0?(p=U&~w,p!==0?_=Mi(p):(I&=U,I!==0?_=Mi(I):c||(c=U&~a,c!==0&&(_=Mi(c))))):(U=p&~w,U!==0?_=Mi(U):I!==0?_=Mi(I):c||(c=p&~a,c!==0&&(_=Mi(c)))),_===0?0:s!==0&&s!==_&&(s&w)===0&&(w=_&-_,c=s&-s,w>=c||w===32&&(c&4194048)!==0)?s:_}function ai(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Cv(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fd(){var a=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),a}function Oi(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function ys(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Iv(a,s,c,p,_,w){var I=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var U=a.entanglements,K=a.expirationTimes,Z=a.hiddenUpdates;for(c=I&~c;0<c;){var se=31-Bt(c),fe=1<<se;U[se]=0,K[se]=-1;var ee=Z[se];if(ee!==null)for(Z[se]=null,se=0;se<ee.length;se++){var re=ee[se];re!==null&&(re.lane&=-536870913)}c&=~fe}p!==0&&bs(a,p,0),w!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=w&~(I&~s))}function bs(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-Bt(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function gc(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-Bt(c),_=1<<p;_&s|a[p]&s&&(a[p]|=s),c&=~_}}function vc(a,s){var c=s&-s;return c=(c&42)!==0?1:_s(c),(c&(a.suspendedLanes|s))!==0?0:c}function _s(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function vo(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Gd(){var a=oe.p;return a!==0?a:(a=window.event,a===void 0?32:O1(a.type))}function si(a,s){var c=oe.p;try{return oe.p=a,s()}finally{oe.p=c}}var li=Math.random().toString(36).slice(2),Wt="__reactFiber$"+li,pn="__reactProps$"+li,ki="__reactContainer$"+li,Sl="__reactEvents$"+li,Nv="__reactListeners$"+li,Hd="__reactHandles$"+li,$d="__reactResources$"+li,Li="__reactMarker$"+li;function Tl(a){delete a[Wt],delete a[pn],delete a[Sl],delete a[Nv],delete a[Hd]}function Vi(a){var s=a[Wt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[ki]||c[Wt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=y1(a);a!==null;){if(c=a[Wt])return c;a=y1(a)}return s}a=c,c=a.parentNode}return null}function Vr(a){if(a=a[Wt]||a[ki]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function xr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Ui(a){var s=a[$d];return s||(s=a[$d]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(a){a[Li]=!0}var yc=new Set,bc={};function ji(a,s){zi(a,s),zi(a+"Capture",s)}function zi(a,s){for(bc[a]=s,a=0;a<s.length;a++)yc.add(s[a])}var _c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xc={},Ec={};function Kd(a){return Kt.call(Ec,a)?!0:Kt.call(xc,a)?!1:_c.test(a)?Ec[a]=!0:(xc[a]=!0,!1)}function Al(a,s,c){if(Kd(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Er(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Xt(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function mn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function pa(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wc(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,w=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return _.call(this)},set:function(I){c=""+I,w.call(this,I)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ct(a){if(!a._valueTracker){var s=pa(a)?"checked":"value";a._valueTracker=wc(a,s,""+a[s])}}function xs(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=pa(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function Bi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Es=/[\n"\\]/g;function or(a){return a.replace(Es,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Cl(a,s,c,p,_,w,I,U){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),s!=null?I==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+mn(s)):a.value!==""+mn(s)&&(a.value=""+mn(s)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),s!=null?Sc(a,I,mn(s)):c!=null?Sc(a,I,mn(c)):p!=null&&a.removeAttribute("value"),_==null&&w!=null&&(a.defaultChecked=!!w),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+mn(U):a.removeAttribute("name")}function Yd(a,s,c,p,_,w,I,U){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),s!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){ct(a);return}c=c!=null?""+mn(c):"",s=s!=null?""+mn(s):c,U||s===a.value||(a.value=s),a.defaultValue=s}p=p??_,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=U?a.checked:!!p,a.defaultChecked=!!p,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),ct(a)}function Sc(a,s,c){s==="number"&&Bi(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ma(a,s,c,p){if(a=a.options,s){s={};for(var _=0;_<c.length;_++)s["$"+c[_]]=!0;for(c=0;c<a.length;c++)_=s.hasOwnProperty("$"+a[c].value),a[c].selected!==_&&(a[c].selected=_),_&&p&&(a[c].defaultSelected=!0)}else{for(c=""+mn(c),s=null,_=0;_<a.length;_++){if(a[_].value===c){a[_].selected=!0,p&&(a[_].defaultSelected=!0);return}s!==null||a[_].disabled||(s=a[_])}s!==null&&(s.selected=!0)}}function Wd(a,s,c){if(s!=null&&(s=""+mn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+mn(c):""}function ga(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(ye(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=mn(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),ct(a)}function ar(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var Jd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||Jd.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Ac(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var _ in s)p=s[_],s.hasOwnProperty(_)&&c[_]!==p&&Tc(a,_,p)}else for(var w in s)s.hasOwnProperty(w)&&Tc(a,w,s[w])}function Il(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),va=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(a){return va.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ui(){}var Cc=null;function Ur(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ya=null,qi=null;function ws(a){var s=Vr(a);if(s&&(a=s.stateNode)){var c=a[pn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Cl(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+or(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var _=p[pn]||null;if(!_)throw Error(r(90));Cl(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&xs(p)}break e;case"textarea":Wd(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&ma(a,!!c.multiple,s,!1)}}}var Pl=!1;function ba(a,s,c){if(Pl)return a(s,c);Pl=!0;try{var p=a(s);return p}finally{if(Pl=!1,(ya!==null||qi!==null)&&(Gh(),ya&&(s=ya,a=qi,qi=ya=null,ws(s),a)))for(s=0;s<a.length;s++)ws(a[s])}}function ci(a,s){var c=a.stateNode;if(c===null)return null;var p=c[pn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(jr)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Ss=!1}var Fi=null,Ic=null,Ts=null;function Nc(){if(Ts)return Ts;var a,s=Ic,c=s.length,p,_="value"in Fi?Fi.value:Fi.textContent,w=_.length;for(a=0;a<c&&s[a]===_[a];a++);var I=c-a;for(p=1;p<=I&&s[c-p]===_[w-p];p++);return Ts=_.slice(a,1<p?1-p:void 0)}function As(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function yo(){return!0}function fi(){return!1}function Cn(a){function s(c,p,_,w,I){this._reactName=c,this._targetInst=_,this.type=p,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(c=a[U],this[U]=c?c(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?yo:fi,this.isPropagationStopped=fi,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),s}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=Cn(bo),_a=m({},bo,{view:0,detail:0}),Pc=Cn(_a),xa,Rl,Hi,Ml=m({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ea,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Hi&&(Hi&&a.type==="mousemove"?(xa=a.screenX-Hi.screenX,Rl=a.screenY-Hi.screenY):Rl=xa=0,Hi=a),xa)},movementY:function(a){return"movementY"in a?a.movementY:Rl}}),Rc=Cn(Ml),Cs=m({},Ml,{dataTransfer:0}),Qd=Cn(Cs),Zd=m({},_a,{relatedTarget:0}),Is=Cn(Zd),Mc=m({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=Cn(Mc),Dl=m({},bo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),th=Cn(Dl),nh=m({},bo,{data:0}),$i=Cn(nh),rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=oh[a])?!!s[a]:!1}function Ea(){return ah}var Xn=m({},_a,{key:function(a){if(a.key){var s=rh[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=As(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ih[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ea,charCode:function(a){return a.type==="keypress"?As(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?As(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),sh=Cn(Xn),lh=m({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_o=Cn(lh),b=m({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ea}),C=Cn(b),P=m({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Cn(P),X=m({},Ml,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Cn(X),be=m({},bo,{newState:0,oldState:0}),qe=Cn(be),qt=[9,13,27,32],st=jr&&"CompositionEvent"in window,It=null;jr&&"documentMode"in document&&(It=document.documentMode);var zr=jr&&"TextEvent"in window&&!It,Ki=jr&&(!st||It&&8<It&&11>=It),di=" ",hi=!1;function Ns(a,s){switch(a){case"keyup":return qt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ol(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var kl=!1;function Q3(a,s){switch(a){case"compositionend":return Ol(s);case"keypress":return s.which!==32?null:(hi=!0,di);case"textInput":return a=s.data,a===di&&hi?null:a;default:return null}}function Z3(a,s){if(kl)return a==="compositionend"||!st&&Ns(a,s)?(a=Nc(),Ts=Ic=Fi=null,kl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ki&&s.locale!=="ko"?null:s.data;default:return null}}var eU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xS(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!eU[a.type]:s==="textarea"}function ES(a,s,c,p){ya?qi?qi.push(p):qi=[p]:ya=p,s=Xh(s,"onChange"),0<s.length&&(c=new Gi("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var Dc=null,Oc=null;function tU(a){i1(a,0)}function uh(a){var s=xr(a);if(xs(s))return a}function wS(a,s){if(a==="change")return s}var SS=!1;if(jr){var Pv;if(jr){var Rv="oninput"in document;if(!Rv){var TS=document.createElement("div");TS.setAttribute("oninput","return;"),Rv=typeof TS.oninput=="function"}Pv=Rv}else Pv=!1;SS=Pv&&(!document.documentMode||9<document.documentMode)}function AS(){Dc&&(Dc.detachEvent("onpropertychange",CS),Oc=Dc=null)}function CS(a){if(a.propertyName==="value"&&uh(Oc)){var s=[];ES(s,Oc,a,Ur(a)),ba(tU,s)}}function nU(a,s,c){a==="focusin"?(AS(),Dc=s,Oc=c,Dc.attachEvent("onpropertychange",CS)):a==="focusout"&&AS()}function rU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return uh(Oc)}function iU(a,s){if(a==="click")return uh(s)}function oU(a,s){if(a==="input"||a==="change")return uh(s)}function aU(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var wr=typeof Object.is=="function"?Object.is:aU;function kc(a,s){if(wr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var _=c[p];if(!Kt.call(s,_)||!wr(a[_],s[_]))return!1}return!0}function IS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function NS(a,s){var c=IS(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=IS(c)}}function PS(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?PS(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function RS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Bi(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Bi(a.document)}return s}function Mv(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var sU=jr&&"documentMode"in document&&11>=document.documentMode,Ll=null,Dv=null,Lc=null,Ov=!1;function MS(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ov||Ll==null||Ll!==Bi(p)||(p=Ll,"selectionStart"in p&&Mv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Lc&&kc(Lc,p)||(Lc=p,p=Xh(Dv,"onSelect"),0<p.length&&(s=new Gi("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=Ll)))}function Ps(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Vl={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},kv={},DS={};jr&&(DS=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function Rs(a){if(kv[a])return kv[a];if(!Vl[a])return a;var s=Vl[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in DS)return kv[a]=s[c];return a}var OS=Rs("animationend"),kS=Rs("animationiteration"),LS=Rs("animationstart"),lU=Rs("transitionrun"),uU=Rs("transitionstart"),cU=Rs("transitioncancel"),VS=Rs("transitionend"),US=new Map,Lv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lv.push("scrollEnd");function pi(a,s){US.set(a,s),ji(s,[a])}var ch=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Br=[],Ul=0,Vv=0;function fh(){for(var a=Ul,s=Vv=Ul=0;s<a;){var c=Br[s];Br[s++]=null;var p=Br[s];Br[s++]=null;var _=Br[s];Br[s++]=null;var w=Br[s];if(Br[s++]=null,p!==null&&_!==null){var I=p.pending;I===null?_.next=_:(_.next=I.next,I.next=_),p.pending=_}w!==0&&jS(c,_,w)}}function dh(a,s,c,p){Br[Ul++]=a,Br[Ul++]=s,Br[Ul++]=c,Br[Ul++]=p,Vv|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function Uv(a,s,c,p){return dh(a,s,c,p),hh(a)}function Ms(a,s){return dh(a,null,null,s),hh(a)}function jS(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var _=!1,w=a.return;w!==null;)w.childLanes|=c,p=w.alternate,p!==null&&(p.childLanes|=c),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(_=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,_&&s!==null&&(_=31-Bt(c),a=w.hiddenUpdates,p=a[_],p===null?a[_]=[s]:p.push(s),s.lane=c|536870912),w):null}function hh(a){if(50<of)throw of=0,Ky=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var jl={};function fU(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(a,s,c,p){return new fU(a,s,c,p)}function jv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function xo(a,s){var c=a.alternate;return c===null?(c=Sr(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function zS(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function ph(a,s,c,p,_,w){var I=0;if(p=a,typeof a=="function")jv(a)&&(I=1);else if(typeof a=="string")I=g6(a,c,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Sr(31,c,s,_),a.elementType=k,a.lanes=w,a;case A:return Ds(c.children,_,w,s);case T:I=8,_|=24;break;case R:return a=Sr(12,c,s,_|2),a.elementType=R,a.lanes=w,a;case H:return a=Sr(13,c,s,_),a.elementType=H,a.lanes=w,a;case F:return a=Sr(19,c,s,_),a.elementType=F,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:I=10;break e;case j:I=9;break e;case B:I=11;break e;case D:I=14;break e;case O:I=16,p=null;break e}I=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=Sr(I,c,s,_),s.elementType=a,s.type=p,s.lanes=w,s}function Ds(a,s,c,p){return a=Sr(7,a,p,s),a.lanes=c,a}function zv(a,s,c){return a=Sr(6,a,null,s),a.lanes=c,a}function BS(a){var s=Sr(18,null,null,0);return s.stateNode=a,s}function Bv(a,s,c){return s=Sr(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var qS=new WeakMap;function qr(a,s){if(typeof a=="object"&&a!==null){var c=qS.get(a);return c!==void 0?c:(s={value:a,source:s,stack:fa(s)},qS.set(a,s),s)}return{value:a,source:s,stack:fa(s)}}var zl=[],Bl=0,mh=null,Vc=0,Fr=[],Gr=0,wa=null,Yi=1,Wi="";function Eo(a,s){zl[Bl++]=Vc,zl[Bl++]=mh,mh=a,Vc=s}function FS(a,s,c){Fr[Gr++]=Yi,Fr[Gr++]=Wi,Fr[Gr++]=wa,wa=a;var p=Yi;a=Wi;var _=32-Bt(p)-1;p&=~(1<<_),c+=1;var w=32-Bt(s)+_;if(30<w){var I=_-_%5;w=(p&(1<<I)-1).toString(32),p>>=I,_-=I,Yi=1<<32-Bt(s)+_|c<<_|p,Wi=w+a}else Yi=1<<w|c<<_|p,Wi=a}function qv(a){a.return!==null&&(Eo(a,1),FS(a,1,0))}function Fv(a){for(;a===mh;)mh=zl[--Bl],zl[Bl]=null,Vc=zl[--Bl],zl[Bl]=null;for(;a===wa;)wa=Fr[--Gr],Fr[Gr]=null,Wi=Fr[--Gr],Fr[Gr]=null,Yi=Fr[--Gr],Fr[Gr]=null}function GS(a,s){Fr[Gr++]=Yi,Fr[Gr++]=Wi,Fr[Gr++]=wa,Yi=s.id,Wi=s.overflow,wa=a}var In=null,wt=null,et=!1,Sa=null,Hr=!1,Gv=Error(r(519));function Ta(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uc(qr(s,a)),Gv}function HS(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[Wt]=a,s[pn]=p,c){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(c=0;c<sf.length;c++)Ye(sf[c],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),Yd(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),ga(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||l1(s.textContent,c)?(p.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),p.onScroll!=null&&Ye("scroll",s),p.onScrollEnd!=null&&Ye("scrollend",s),p.onClick!=null&&(s.onclick=ui),s=!0):s=!1,s||Ta(a,!0)}function $S(a){for(In=a.return;In;)switch(In.tag){case 5:case 31:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:In=In.return}}function ql(a){if(a!==In)return!1;if(!et)return $S(a),et=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||l0(a.type,a.memoizedProps)),c=!c),c&&wt&&Ta(a),$S(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));wt=v1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));wt=v1(a)}else s===27?(s=wt,ja(a.type)?(a=h0,h0=null,wt=a):wt=s):wt=In?Kr(a.stateNode.nextSibling):null;return!0}function Os(){wt=In=null,et=!1}function Hv(){var a=Sa;return a!==null&&(cr===null?cr=a:cr.push.apply(cr,a),Sa=null),a}function Uc(a){Sa===null?Sa=[a]:Sa.push(a)}var $v=$(null),ks=null,wo=null;function Aa(a,s,c){pe($v,s._currentValue),s._currentValue=c}function So(a){a._currentValue=$v.current,te($v)}function Kv(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function Yv(a,s,c,p){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var w=_.dependencies;if(w!==null){var I=_.child;w=w.firstContext;e:for(;w!==null;){var U=w;w=_;for(var K=0;K<s.length;K++)if(U.context===s[K]){w.lanes|=c,U=w.alternate,U!==null&&(U.lanes|=c),Kv(w.return,c,a),p||(I=null);break e}w=U.next}}else if(_.tag===18){if(I=_.return,I===null)throw Error(r(341));I.lanes|=c,w=I.alternate,w!==null&&(w.lanes|=c),Kv(I,c,a),I=null}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===a){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}}function Fl(a,s,c,p){a=null;for(var _=s,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var I=_.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var U=_.type;wr(_.pendingProps.value,I.value)||(a!==null?a.push(U):a=[U])}}else if(_===Ae.current){if(I=_.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(df):a=[df])}_=_.return}a!==null&&Yv(s,a,c,p),s.flags|=262144}function gh(a){for(a=a.firstContext;a!==null;){if(!wr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ls(a){ks=a,wo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Nn(a){return KS(ks,a)}function vh(a,s){return ks===null&&Ls(a),KS(a,s)}function KS(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},wo===null){if(a===null)throw Error(r(308));wo=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else wo=wo.next=s;return c}var dU=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},hU=t.unstable_scheduleCallback,pU=t.unstable_NormalPriority,Qt={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wv(){return{controller:new dU,data:new Map,refCount:0}}function jc(a){a.refCount--,a.refCount===0&&hU(pU,function(){a.controller.abort()})}var zc=null,Jv=0,Gl=0,Hl=null;function mU(a,s){if(zc===null){var c=zc=[];Jv=0,Gl=Zy(),Hl={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Jv++,s.then(YS,YS),s}function YS(){if(--Jv===0&&zc!==null){Hl!==null&&(Hl.status="fulfilled");var a=zc;zc=null,Gl=0,Hl=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function gU(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(_){c.push(_)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var _=0;_<c.length;_++)(0,c[_])(s)},function(_){for(p.status="rejected",p.reason=_,_=0;_<c.length;_++)(0,c[_])(void 0)}),p}var WS=W.S;W.S=function(a,s){MA=Jn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mU(a,s),WS!==null&&WS(a,s)};var Vs=$(null);function Xv(){var a=Vs.current;return a!==null?a:_t.pooledCache}function yh(a,s){s===null?pe(Vs,Vs.current):pe(Vs,s.pool)}function JS(){var a=Xv();return a===null?null:{parent:Qt._currentValue,pool:a}}var $l=Error(r(460)),Qv=Error(r(474)),bh=Error(r(542)),_h={then:function(){}};function XS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function QS(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(ui,ui),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,eT(a),a;default:if(typeof s.status=="string")s.then(ui,ui);else{if(a=_t,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=p}},function(p){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,eT(a),a}throw js=s,$l}}function Us(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(js=c,$l):c}}var js=null;function ZS(){if(js===null)throw Error(r(459));var a=js;return js=null,a}function eT(a){if(a===$l||a===bh)throw Error(r(483))}var Kl=null,Bc=0;function xh(a){var s=Bc;return Bc+=1,Kl===null&&(Kl=[]),QS(Kl,a,s)}function qc(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Eh(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function tT(a){function s(J,Y){if(a){var Q=J.deletions;Q===null?(J.deletions=[Y],J.flags|=16):Q.push(Y)}}function c(J,Y){if(!a)return null;for(;Y!==null;)s(J,Y),Y=Y.sibling;return null}function p(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function _(J,Y){return J=xo(J,Y),J.index=0,J.sibling=null,J}function w(J,Y,Q){return J.index=Q,a?(Q=J.alternate,Q!==null?(Q=Q.index,Q<Y?(J.flags|=67108866,Y):Q):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function I(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function U(J,Y,Q,le){return Y===null||Y.tag!==6?(Y=zv(Q,J.mode,le),Y.return=J,Y):(Y=_(Y,Q),Y.return=J,Y)}function K(J,Y,Q,le){var Pe=Q.type;return Pe===A?se(J,Y,Q.props.children,le,Q.key):Y!==null&&(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===O&&Us(Pe)===Y.type)?(Y=_(Y,Q.props),qc(Y,Q),Y.return=J,Y):(Y=ph(Q.type,Q.key,Q.props,null,J.mode,le),qc(Y,Q),Y.return=J,Y)}function Z(J,Y,Q,le){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=Bv(Q,J.mode,le),Y.return=J,Y):(Y=_(Y,Q.children||[]),Y.return=J,Y)}function se(J,Y,Q,le,Pe){return Y===null||Y.tag!==7?(Y=Ds(Q,J.mode,le,Pe),Y.return=J,Y):(Y=_(Y,Q),Y.return=J,Y)}function fe(J,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=zv(""+Y,J.mode,Q),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Q=ph(Y.type,Y.key,Y.props,null,J.mode,Q),qc(Q,Y),Q.return=J,Q;case S:return Y=Bv(Y,J.mode,Q),Y.return=J,Y;case O:return Y=Us(Y),fe(J,Y,Q)}if(ye(Y)||M(Y))return Y=Ds(Y,J.mode,Q,null),Y.return=J,Y;if(typeof Y.then=="function")return fe(J,xh(Y),Q);if(Y.$$typeof===L)return fe(J,vh(J,Y),Q);Eh(J,Y)}return null}function ee(J,Y,Q,le){var Pe=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Pe!==null?null:U(J,Y,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===Pe?K(J,Y,Q,le):null;case S:return Q.key===Pe?Z(J,Y,Q,le):null;case O:return Q=Us(Q),ee(J,Y,Q,le)}if(ye(Q)||M(Q))return Pe!==null?null:se(J,Y,Q,le,null);if(typeof Q.then=="function")return ee(J,Y,xh(Q),le);if(Q.$$typeof===L)return ee(J,Y,vh(J,Q),le);Eh(J,Q)}return null}function re(J,Y,Q,le,Pe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return J=J.get(Q)||null,U(Y,J,""+le,Pe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case E:return J=J.get(le.key===null?Q:le.key)||null,K(Y,J,le,Pe);case S:return J=J.get(le.key===null?Q:le.key)||null,Z(Y,J,le,Pe);case O:return le=Us(le),re(J,Y,Q,le,Pe)}if(ye(le)||M(le))return J=J.get(Q)||null,se(Y,J,le,Pe,null);if(typeof le.then=="function")return re(J,Y,Q,xh(le),Pe);if(le.$$typeof===L)return re(J,Y,Q,vh(Y,le),Pe);Eh(Y,le)}return null}function Ce(J,Y,Q,le){for(var Pe=null,rt=null,Ie=Y,He=Y=0,Je=null;Ie!==null&&He<Q.length;He++){Ie.index>He?(Je=Ie,Ie=null):Je=Ie.sibling;var it=ee(J,Ie,Q[He],le);if(it===null){Ie===null&&(Ie=Je);break}a&&Ie&&it.alternate===null&&s(J,Ie),Y=w(it,Y,He),rt===null?Pe=it:rt.sibling=it,rt=it,Ie=Je}if(He===Q.length)return c(J,Ie),et&&Eo(J,He),Pe;if(Ie===null){for(;He<Q.length;He++)Ie=fe(J,Q[He],le),Ie!==null&&(Y=w(Ie,Y,He),rt===null?Pe=Ie:rt.sibling=Ie,rt=Ie);return et&&Eo(J,He),Pe}for(Ie=p(Ie);He<Q.length;He++)Je=re(Ie,J,He,Q[He],le),Je!==null&&(a&&Je.alternate!==null&&Ie.delete(Je.key===null?He:Je.key),Y=w(Je,Y,He),rt===null?Pe=Je:rt.sibling=Je,rt=Je);return a&&Ie.forEach(function(Ga){return s(J,Ga)}),et&&Eo(J,He),Pe}function Oe(J,Y,Q,le){if(Q==null)throw Error(r(151));for(var Pe=null,rt=null,Ie=Y,He=Y=0,Je=null,it=Q.next();Ie!==null&&!it.done;He++,it=Q.next()){Ie.index>He?(Je=Ie,Ie=null):Je=Ie.sibling;var Ga=ee(J,Ie,it.value,le);if(Ga===null){Ie===null&&(Ie=Je);break}a&&Ie&&Ga.alternate===null&&s(J,Ie),Y=w(Ga,Y,He),rt===null?Pe=Ga:rt.sibling=Ga,rt=Ga,Ie=Je}if(it.done)return c(J,Ie),et&&Eo(J,He),Pe;if(Ie===null){for(;!it.done;He++,it=Q.next())it=fe(J,it.value,le),it!==null&&(Y=w(it,Y,He),rt===null?Pe=it:rt.sibling=it,rt=it);return et&&Eo(J,He),Pe}for(Ie=p(Ie);!it.done;He++,it=Q.next())it=re(Ie,J,He,it.value,le),it!==null&&(a&&it.alternate!==null&&Ie.delete(it.key===null?He:it.key),Y=w(it,Y,He),rt===null?Pe=it:rt.sibling=it,rt=it);return a&&Ie.forEach(function(C6){return s(J,C6)}),et&&Eo(J,He),Pe}function yt(J,Y,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var Pe=Q.key;Y!==null;){if(Y.key===Pe){if(Pe=Q.type,Pe===A){if(Y.tag===7){c(J,Y.sibling),le=_(Y,Q.props.children),le.return=J,J=le;break e}}else if(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===O&&Us(Pe)===Y.type){c(J,Y.sibling),le=_(Y,Q.props),qc(le,Q),le.return=J,J=le;break e}c(J,Y);break}else s(J,Y);Y=Y.sibling}Q.type===A?(le=Ds(Q.props.children,J.mode,le,Q.key),le.return=J,J=le):(le=ph(Q.type,Q.key,Q.props,null,J.mode,le),qc(le,Q),le.return=J,J=le)}return I(J);case S:e:{for(Pe=Q.key;Y!==null;){if(Y.key===Pe)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){c(J,Y.sibling),le=_(Y,Q.children||[]),le.return=J,J=le;break e}else{c(J,Y);break}else s(J,Y);Y=Y.sibling}le=Bv(Q,J.mode,le),le.return=J,J=le}return I(J);case O:return Q=Us(Q),yt(J,Y,Q,le)}if(ye(Q))return Ce(J,Y,Q,le);if(M(Q)){if(Pe=M(Q),typeof Pe!="function")throw Error(r(150));return Q=Pe.call(Q),Oe(J,Y,Q,le)}if(typeof Q.then=="function")return yt(J,Y,xh(Q),le);if(Q.$$typeof===L)return yt(J,Y,vh(J,Q),le);Eh(J,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(c(J,Y.sibling),le=_(Y,Q),le.return=J,J=le):(c(J,Y),le=zv(Q,J.mode,le),le.return=J,J=le),I(J)):c(J,Y)}return function(J,Y,Q,le){try{Bc=0;var Pe=yt(J,Y,Q,le);return Kl=null,Pe}catch(Ie){if(Ie===$l||Ie===bh)throw Ie;var rt=Sr(29,Ie,null,J.mode);return rt.lanes=le,rt.return=J,rt}finally{}}}var zs=tT(!0),nT=tT(!1),Ca=!1;function Zv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ey(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ia(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Na(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(lt&2)!==0){var _=p.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),p.pending=s,s=hh(a),jS(a,null,c),s}return dh(a,p,s,c),hh(a)}function Fc(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,gc(a,c)}}function ty(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var _=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?_=w=I:w=w.next=I,c=c.next}while(c!==null);w===null?_=w=s:w=w.next=s}else _=w=s;c={baseState:p.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var ny=!1;function Gc(){if(ny){var a=Hl;if(a!==null)throw a}}function Hc(a,s,c,p){ny=!1;var _=a.updateQueue;Ca=!1;var w=_.firstBaseUpdate,I=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var K=U,Z=K.next;K.next=null,I===null?w=Z:I.next=Z,I=K;var se=a.alternate;se!==null&&(se=se.updateQueue,U=se.lastBaseUpdate,U!==I&&(U===null?se.firstBaseUpdate=Z:U.next=Z,se.lastBaseUpdate=K))}if(w!==null){var fe=_.baseState;I=0,se=Z=K=null,U=w;do{var ee=U.lane&-536870913,re=ee!==U.lane;if(re?(We&ee)===ee:(p&ee)===ee){ee!==0&&ee===Gl&&(ny=!0),se!==null&&(se=se.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Ce=a,Oe=U;ee=s;var yt=c;switch(Oe.tag){case 1:if(Ce=Oe.payload,typeof Ce=="function"){fe=Ce.call(yt,fe,ee);break e}fe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Oe.payload,ee=typeof Ce=="function"?Ce.call(yt,fe,ee):Ce,ee==null)break e;fe=m({},fe,ee);break e;case 2:Ca=!0}}ee=U.callback,ee!==null&&(a.flags|=64,re&&(a.flags|=8192),re=_.callbacks,re===null?_.callbacks=[ee]:re.push(ee))}else re={lane:ee,tag:U.tag,payload:U.payload,callback:U.callback,next:null},se===null?(Z=se=re,K=fe):se=se.next=re,I|=ee;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;re=U,U=re.next,re.next=null,_.lastBaseUpdate=re,_.shared.pending=null}}while(!0);se===null&&(K=fe),_.baseState=K,_.firstBaseUpdate=Z,_.lastBaseUpdate=se,w===null&&(_.shared.lanes=0),Oa|=I,a.lanes=I,a.memoizedState=fe}}function rT(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function iT(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)rT(c[a],s)}var Yl=$(null),wh=$(0);function oT(a,s){a=Do,pe(wh,a),pe(Yl,s),Do=a|s.baseLanes}function ry(){pe(wh,Do),pe(Yl,Yl.current)}function iy(){Do=wh.current,te(Yl),te(wh)}var Tr=$(null),$r=null;function Pa(a){var s=a.alternate;pe(Ft,Ft.current&1),pe(Tr,a),$r===null&&(s===null||Yl.current!==null||s.memoizedState!==null)&&($r=a)}function oy(a){pe(Ft,Ft.current),pe(Tr,a),$r===null&&($r=a)}function aT(a){a.tag===22?(pe(Ft,Ft.current),pe(Tr,a),$r===null&&($r=a)):Ra()}function Ra(){pe(Ft,Ft.current),pe(Tr,Tr.current)}function Ar(a){te(Tr),$r===a&&($r=null),te(Ft)}var Ft=$(0);function Sh(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||f0(c)||d0(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var To=0,Fe=null,gt=null,Zt=null,Th=!1,Wl=!1,Bs=!1,Ah=0,$c=0,Jl=null,vU=0;function kt(){throw Error(r(321))}function ay(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!wr(a[c],s[c]))return!1;return!0}function sy(a,s,c,p,_,w){return To=w,Fe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=a===null||a.memoizedState===null?FT:Ey,Bs=!1,w=c(p,_),Bs=!1,Wl&&(w=lT(s,c,p,_)),sT(a),w}function sT(a){W.H=Wc;var s=gt!==null&&gt.next!==null;if(To=0,Zt=gt=Fe=null,Th=!1,$c=0,Jl=null,s)throw Error(r(300));a===null||en||(a=a.dependencies,a!==null&&gh(a)&&(en=!0))}function lT(a,s,c,p){Fe=a;var _=0;do{if(Wl&&(Jl=null),$c=0,Wl=!1,25<=_)throw Error(r(301));if(_+=1,Zt=gt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=GT,w=s(c,p)}while(Wl);return w}function yU(){var a=W.H,s=a.useState()[0];return s=typeof s.then=="function"?Kc(s):s,a=a.useState()[0],(gt!==null?gt.memoizedState:null)!==a&&(Fe.flags|=1024),s}function ly(){var a=Ah!==0;return Ah=0,a}function uy(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function cy(a){if(Th){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Th=!1}To=0,Zt=gt=Fe=null,Wl=!1,$c=Ah=0,Jl=null}function Qn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Fe.memoizedState=Zt=a:Zt=Zt.next=a,Zt}function Gt(){if(gt===null){var a=Fe.alternate;a=a!==null?a.memoizedState:null}else a=gt.next;var s=Zt===null?Fe.memoizedState:Zt.next;if(s!==null)Zt=s,gt=a;else{if(a===null)throw Fe.alternate===null?Error(r(467)):Error(r(310));gt=a,a={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Zt===null?Fe.memoizedState=Zt=a:Zt=Zt.next=a}return Zt}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(a){var s=$c;return $c+=1,Jl===null&&(Jl=[]),a=QS(Jl,a,s),s=Fe,(Zt===null?s.memoizedState:Zt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?FT:Ey),a}function Ih(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Kc(a);if(a.$$typeof===L)return Nn(a)}throw Error(r(438,String(a)))}function fy(a){var s=null,c=Fe.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Fe.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Ch(),Fe.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=G;return s.index++,c}function Ao(a,s){return typeof s=="function"?s(a):s}function Nh(a){var s=Gt();return dy(s,gt,a)}function dy(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var _=a.baseQueue,w=p.pending;if(w!==null){if(_!==null){var I=_.next;_.next=w.next,w.next=I}s.baseQueue=_=w,p.pending=null}if(w=a.baseState,_===null)a.memoizedState=w;else{s=_.next;var U=I=null,K=null,Z=s,se=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(We&fe)===fe:(To&fe)===fe){var ee=Z.revertLane;if(ee===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===Gl&&(se=!0);else if((To&ee)===ee){Z=Z.next,ee===Gl&&(se=!0);continue}else fe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},K===null?(U=K=fe,I=w):K=K.next=fe,Fe.lanes|=ee,Oa|=ee;fe=Z.action,Bs&&c(w,fe),w=Z.hasEagerState?Z.eagerState:c(w,fe)}else ee={lane:fe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},K===null?(U=K=ee,I=w):K=K.next=ee,Fe.lanes|=fe,Oa|=fe;Z=Z.next}while(Z!==null&&Z!==s);if(K===null?I=w:K.next=U,!wr(w,a.memoizedState)&&(en=!0,se&&(c=Hl,c!==null)))throw c;a.memoizedState=w,a.baseState=I,a.baseQueue=K,p.lastRenderedState=w}return _===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function hy(a){var s=Gt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,_=c.pending,w=s.memoizedState;if(_!==null){c.pending=null;var I=_=_.next;do w=a(w,I.action),I=I.next;while(I!==_);wr(w,s.memoizedState)||(en=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,p]}function uT(a,s,c){var p=Fe,_=Gt(),w=et;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=s();var I=!wr((gt||_).memoizedState,c);if(I&&(_.memoizedState=c,en=!0),_=_.queue,gy(dT.bind(null,p,_,a),[a]),_.getSnapshot!==s||I||Zt!==null&&Zt.memoizedState.tag&1){if(p.flags|=2048,Xl(9,{destroy:void 0},fT.bind(null,p,_,c,s),null),_t===null)throw Error(r(349));w||(To&127)!==0||cT(p,s,c)}return c}function cT(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Fe.updateQueue,s===null?(s=Ch(),Fe.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function fT(a,s,c,p){s.value=c,s.getSnapshot=p,hT(s)&&pT(a)}function dT(a,s,c){return c(function(){hT(s)&&pT(a)})}function hT(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!wr(a,c)}catch{return!0}}function pT(a){var s=Ms(a,2);s!==null&&fr(s,a,2)}function py(a){var s=Qn();if(typeof a=="function"){var c=a;if(a=c(),Bs){Lr(!0);try{c()}finally{Lr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:a},s}function mT(a,s,c,p){return a.baseState=c,dy(a,gt,typeof p=="function"?p:Ao)}function bU(a,s,c,p,_){if(Mh(a))throw Error(r(485));if(a=s.action,a!==null){var w={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){w.listeners.push(I)}};W.T!==null?c(!0):w.isTransition=!1,p(w),c=s.pending,c===null?(w.next=s.pending=w,gT(s,w)):(w.next=c.next,s.pending=c.next=w)}}function gT(a,s){var c=s.action,p=s.payload,_=a.state;if(s.isTransition){var w=W.T,I={};W.T=I;try{var U=c(_,p),K=W.S;K!==null&&K(I,U),vT(a,s,U)}catch(Z){my(a,s,Z)}finally{w!==null&&I.types!==null&&(w.types=I.types),W.T=w}}else try{w=c(_,p),vT(a,s,w)}catch(Z){my(a,s,Z)}}function vT(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){yT(a,s,p)},function(p){return my(a,s,p)}):yT(a,s,c)}function yT(a,s,c){s.status="fulfilled",s.value=c,bT(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,gT(a,c)))}function my(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,bT(s),s=s.next;while(s!==p)}a.action=null}function bT(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function _T(a,s){return s}function xT(a,s){if(et){var c=_t.formState;if(c!==null){e:{var p=Fe;if(et){if(wt){t:{for(var _=wt,w=Hr;_.nodeType!==8;){if(!w){_=null;break t}if(_=Kr(_.nextSibling),_===null){_=null;break t}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){wt=Kr(_.nextSibling),p=_.data==="F!";break e}}Ta(p)}p=!1}p&&(s=c[0])}}return c=Qn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_T,lastRenderedState:s},c.queue=p,c=zT.bind(null,Fe,p),p.dispatch=c,p=py(!1),w=xy.bind(null,Fe,!1,p.queue),p=Qn(),_={state:s,dispatch:null,action:a,pending:null},p.queue=_,c=bU.bind(null,Fe,_,w,c),_.dispatch=c,p.memoizedState=a,[s,c,!1]}function ET(a){var s=Gt();return wT(s,gt,a)}function wT(a,s,c){if(s=dy(a,s,_T)[0],a=Nh(Ao)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Kc(s)}catch(I){throw I===$l?bh:I}else p=s;s=Gt();var _=s.queue,w=_.dispatch;return c!==s.memoizedState&&(Fe.flags|=2048,Xl(9,{destroy:void 0},_U.bind(null,_,c),null)),[p,w,a]}function _U(a,s){a.action=s}function ST(a){var s=Gt(),c=gt;if(c!==null)return wT(s,c,a);Gt(),s=s.memoizedState,c=Gt();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function Xl(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=Fe.updateQueue,s===null&&(s=Ch(),Fe.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function TT(){return Gt().memoizedState}function Ph(a,s,c,p){var _=Qn();Fe.flags|=a,_.memoizedState=Xl(1|s,{destroy:void 0},c,p===void 0?null:p)}function Rh(a,s,c,p){var _=Gt();p=p===void 0?null:p;var w=_.memoizedState.inst;gt!==null&&p!==null&&ay(p,gt.memoizedState.deps)?_.memoizedState=Xl(s,w,c,p):(Fe.flags|=a,_.memoizedState=Xl(1|s,w,c,p))}function AT(a,s){Ph(8390656,8,a,s)}function gy(a,s){Rh(2048,8,a,s)}function xU(a){Fe.flags|=4;var s=Fe.updateQueue;if(s===null)s=Ch(),Fe.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function CT(a){var s=Gt().memoizedState;return xU({ref:s,nextImpl:a}),function(){if((lt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function IT(a,s){return Rh(4,2,a,s)}function NT(a,s){return Rh(4,4,a,s)}function PT(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function RT(a,s,c){c=c!=null?c.concat([a]):null,Rh(4,4,PT.bind(null,s,a),c)}function vy(){}function MT(a,s){var c=Gt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&ay(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function DT(a,s){var c=Gt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&ay(s,p[1]))return p[0];if(p=a(),Bs){Lr(!0);try{a()}finally{Lr(!1)}}return c.memoizedState=[p,s],p}function yy(a,s,c){return c===void 0||(To&1073741824)!==0&&(We&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=OA(),Fe.lanes|=a,Oa|=a,c)}function OT(a,s,c,p){return wr(c,s)?c:Yl.current!==null?(a=yy(a,c,p),wr(a,s)||(en=!0),a):(To&42)===0||(To&1073741824)!==0&&(We&261930)===0?(en=!0,a.memoizedState=c):(a=OA(),Fe.lanes|=a,Oa|=a,s)}function kT(a,s,c,p,_){var w=oe.p;oe.p=w!==0&&8>w?w:8;var I=W.T,U={};W.T=U,xy(a,!1,s,c);try{var K=_(),Z=W.S;if(Z!==null&&Z(U,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var se=gU(K,p);Yc(a,s,se,Nr(a))}else Yc(a,s,p,Nr(a))}catch(fe){Yc(a,s,{then:function(){},status:"rejected",reason:fe},Nr())}finally{oe.p=w,I!==null&&U.types!==null&&(I.types=U.types),W.T=I}}function EU(){}function by(a,s,c,p){if(a.tag!==5)throw Error(r(476));var _=LT(a).queue;kT(a,_,s,ve,c===null?EU:function(){return VT(a),c(p)})}function LT(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:ve},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function VT(a){var s=LT(a);s.next===null&&(s=a.alternate.memoizedState),Yc(a,s.next.queue,{},Nr())}function _y(){return Nn(df)}function UT(){return Gt().memoizedState}function jT(){return Gt().memoizedState}function wU(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Nr();a=Ia(c);var p=Na(s,a,c);p!==null&&(fr(p,s,c),Fc(p,s,c)),s={cache:Wv()},a.payload=s;return}s=s.return}}function SU(a,s,c){var p=Nr();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mh(a)?BT(s,c):(c=Uv(a,s,c,p),c!==null&&(fr(c,a,p),qT(c,s,p)))}function zT(a,s,c){var p=Nr();Yc(a,s,c,p)}function Yc(a,s,c,p){var _={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Mh(a))BT(s,_);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var I=s.lastRenderedState,U=w(I,c);if(_.hasEagerState=!0,_.eagerState=U,wr(U,I))return dh(a,s,_,0),_t===null&&fh(),!1}catch{}finally{}if(c=Uv(a,s,_,p),c!==null)return fr(c,a,p),qT(c,s,p),!0}return!1}function xy(a,s,c,p){if(p={lane:2,revertLane:Zy(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Mh(a)){if(s)throw Error(r(479))}else s=Uv(a,c,p,2),s!==null&&fr(s,a,2)}function Mh(a){var s=a.alternate;return a===Fe||s!==null&&s===Fe}function BT(a,s){Wl=Th=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function qT(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,gc(a,c)}}var Wc={readContext:Nn,use:Ih,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Wc.useEffectEvent=kt;var FT={readContext:Nn,use:Ih,useCallback:function(a,s){return Qn().memoizedState=[a,s===void 0?null:s],a},useContext:Nn,useEffect:AT,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Ph(4194308,4,PT.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Ph(4194308,4,a,s)},useInsertionEffect:function(a,s){Ph(4,2,a,s)},useMemo:function(a,s){var c=Qn();s=s===void 0?null:s;var p=a();if(Bs){Lr(!0);try{a()}finally{Lr(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=Qn();if(c!==void 0){var _=c(s);if(Bs){Lr(!0);try{c(s)}finally{Lr(!1)}}}else _=s;return p.memoizedState=p.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},p.queue=a,a=a.dispatch=SU.bind(null,Fe,a),[p.memoizedState,a]},useRef:function(a){var s=Qn();return a={current:a},s.memoizedState=a},useState:function(a){a=py(a);var s=a.queue,c=zT.bind(null,Fe,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:vy,useDeferredValue:function(a,s){var c=Qn();return yy(c,a,s)},useTransition:function(){var a=py(!1);return a=kT.bind(null,Fe,a.queue,!0,!1),Qn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=Fe,_=Qn();if(et){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),_t===null)throw Error(r(349));(We&127)!==0||cT(p,s,c)}_.memoizedState=c;var w={value:c,getSnapshot:s};return _.queue=w,AT(dT.bind(null,p,w,a),[a]),p.flags|=2048,Xl(9,{destroy:void 0},fT.bind(null,p,w,c,s),null),c},useId:function(){var a=Qn(),s=_t.identifierPrefix;if(et){var c=Wi,p=Yi;c=(p&~(1<<32-Bt(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Ah++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=vU++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:_y,useFormState:xT,useActionState:xT,useOptimistic:function(a){var s=Qn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=xy.bind(null,Fe,!0,c),c.dispatch=s,[a,s]},useMemoCache:fy,useCacheRefresh:function(){return Qn().memoizedState=wU.bind(null,Fe)},useEffectEvent:function(a){var s=Qn(),c={impl:a};return s.memoizedState=c,function(){if((lt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Ey={readContext:Nn,use:Ih,useCallback:MT,useContext:Nn,useEffect:gy,useImperativeHandle:RT,useInsertionEffect:IT,useLayoutEffect:NT,useMemo:DT,useReducer:Nh,useRef:TT,useState:function(){return Nh(Ao)},useDebugValue:vy,useDeferredValue:function(a,s){var c=Gt();return OT(c,gt.memoizedState,a,s)},useTransition:function(){var a=Nh(Ao)[0],s=Gt().memoizedState;return[typeof a=="boolean"?a:Kc(a),s]},useSyncExternalStore:uT,useId:UT,useHostTransitionStatus:_y,useFormState:ET,useActionState:ET,useOptimistic:function(a,s){var c=Gt();return mT(c,gt,a,s)},useMemoCache:fy,useCacheRefresh:jT};Ey.useEffectEvent=CT;var GT={readContext:Nn,use:Ih,useCallback:MT,useContext:Nn,useEffect:gy,useImperativeHandle:RT,useInsertionEffect:IT,useLayoutEffect:NT,useMemo:DT,useReducer:hy,useRef:TT,useState:function(){return hy(Ao)},useDebugValue:vy,useDeferredValue:function(a,s){var c=Gt();return gt===null?yy(c,a,s):OT(c,gt.memoizedState,a,s)},useTransition:function(){var a=hy(Ao)[0],s=Gt().memoizedState;return[typeof a=="boolean"?a:Kc(a),s]},useSyncExternalStore:uT,useId:UT,useHostTransitionStatus:_y,useFormState:ST,useActionState:ST,useOptimistic:function(a,s){var c=Gt();return gt!==null?mT(c,gt,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:fy,useCacheRefresh:jT};GT.useEffectEvent=CT;function wy(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Sy={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Nr(),_=Ia(p);_.payload=s,c!=null&&(_.callback=c),s=Na(a,_,p),s!==null&&(fr(s,a,p),Fc(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Nr(),_=Ia(p);_.tag=1,_.payload=s,c!=null&&(_.callback=c),s=Na(a,_,p),s!==null&&(fr(s,a,p),Fc(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Nr(),p=Ia(c);p.tag=2,s!=null&&(p.callback=s),s=Na(a,p,c),s!==null&&(fr(s,a,c),Fc(s,a,c))}};function HT(a,s,c,p,_,w,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,I):s.prototype&&s.prototype.isPureReactComponent?!kc(c,p)||!kc(_,w):!0}function $T(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&Sy.enqueueReplaceState(s,s.state,null)}function qs(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var _ in a)c[_]===void 0&&(c[_]=a[_])}return c}function KT(a){ch(a)}function YT(a){console.error(a)}function WT(a){ch(a)}function Dh(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function JT(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Ty(a,s,c){return c=Ia(c),c.tag=3,c.payload={element:null},c.callback=function(){Dh(a,s)},c}function XT(a){return a=Ia(a),a.tag=3,a}function QT(a,s,c,p){var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var w=p.value;a.payload=function(){return _(w)},a.callback=function(){JT(s,c,p)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){JT(s,c,p),typeof _!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var U=p.stack;this.componentDidCatch(p.value,{componentStack:U!==null?U:""})})}function TU(a,s,c,p,_){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Fl(s,c,_,!0),c=Tr.current,c!==null){switch(c.tag){case 31:case 13:return $r===null?Hh():c.alternate===null&&Lt===0&&(Lt=3),c.flags&=-257,c.flags|=65536,c.lanes=_,p===_h?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),Jy(a,p,_)),!1;case 22:return c.flags|=65536,p===_h?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),Jy(a,p,_)),!1}throw Error(r(435,c.tag))}return Jy(a,p,_),Hh(),!1}if(et)return s=Tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,p!==Gv&&(a=Error(r(422),{cause:p}),Uc(qr(a,c)))):(p!==Gv&&(s=Error(r(423),{cause:p}),Uc(qr(s,c))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,p=qr(p,c),_=Ty(a.stateNode,p,_),ty(a,_),Lt!==4&&(Lt=2)),!1;var w=Error(r(520),{cause:p});if(w=qr(w,c),rf===null?rf=[w]:rf.push(w),Lt!==4&&(Lt=2),s===null)return!0;p=qr(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=_&-_,c.lanes|=a,a=Ty(c.stateNode,p,a),ty(c,a),!1;case 1:if(s=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ka===null||!ka.has(w))))return c.flags|=65536,_&=-_,c.lanes|=_,_=XT(_),QT(_,a,c,p),ty(c,_),!1}c=c.return}while(c!==null);return!1}var Ay=Error(r(461)),en=!1;function Pn(a,s,c,p){s.child=a===null?nT(s,null,c,p):zs(s,a.child,c,p)}function ZT(a,s,c,p,_){c=c.render;var w=s.ref;if("ref"in p){var I={};for(var U in p)U!=="ref"&&(I[U]=p[U])}else I=p;return Ls(s),p=sy(a,s,c,I,w,_),U=ly(),a!==null&&!en?(uy(a,s,_),Co(a,s,_)):(et&&U&&qv(s),s.flags|=1,Pn(a,s,p,_),s.child)}function eA(a,s,c,p,_){if(a===null){var w=c.type;return typeof w=="function"&&!jv(w)&&w.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=w,tA(a,s,w,p,_)):(a=ph(c.type,null,p,s,s.mode,_),a.ref=s.ref,a.return=s,s.child=a)}if(w=a.child,!Oy(a,_)){var I=w.memoizedProps;if(c=c.compare,c=c!==null?c:kc,c(I,p)&&a.ref===s.ref)return Co(a,s,_)}return s.flags|=1,a=xo(w,p),a.ref=s.ref,a.return=s,s.child=a}function tA(a,s,c,p,_){if(a!==null){var w=a.memoizedProps;if(kc(w,p)&&a.ref===s.ref)if(en=!1,s.pendingProps=p=w,Oy(a,_))(a.flags&131072)!==0&&(en=!0);else return s.lanes=a.lanes,Co(a,s,_)}return Cy(a,s,c,p,_)}function nA(a,s,c,p){var _=p.children,w=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,a!==null){for(p=s.child=a.child,_=0;p!==null;)_=_|p.lanes|p.childLanes,p=p.sibling;p=_&~w}else p=0,s.child=null;return rA(a,s,w,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&yh(s,w!==null?w.cachePool:null),w!==null?oT(s,w):ry(),aT(s);else return p=s.lanes=536870912,rA(a,s,w!==null?w.baseLanes|c:c,c,p)}else w!==null?(yh(s,w.cachePool),oT(s,w),Ra(),s.memoizedState=null):(a!==null&&yh(s,null),ry(),Ra());return Pn(a,s,_,c),s.child}function Jc(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function rA(a,s,c,p,_){var w=Xv();return w=w===null?null:{parent:Qt._currentValue,pool:w},s.memoizedState={baseLanes:c,cachePool:w},a!==null&&yh(s,null),ry(),aT(s),a!==null&&Fl(a,s,p,!0),s.childLanes=_,null}function Oh(a,s){return s=Lh({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function iA(a,s,c){return zs(s,a.child,null,c),a=Oh(s,s.pendingProps),a.flags|=2,Ar(s),s.memoizedState=null,a}function AU(a,s,c){var p=s.pendingProps,_=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(et){if(p.mode==="hidden")return a=Oh(s,p),s.lanes=536870912,Jc(null,a);if(oy(s),(a=wt)?(a=g1(a,Hr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:wa!==null?{id:Yi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},c=BS(a),c.return=s,s.child=c,In=s,wt=null)):a=null,a===null)throw Ta(s);return s.lanes=536870912,null}return Oh(s,p)}var w=a.memoizedState;if(w!==null){var I=w.dehydrated;if(oy(s),_)if(s.flags&256)s.flags&=-257,s=iA(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(en||Fl(a,s,c,!1),_=(c&a.childLanes)!==0,en||_){if(p=_t,p!==null&&(I=vc(p,c),I!==0&&I!==w.retryLane))throw w.retryLane=I,Ms(a,I),fr(p,a,I),Ay;Hh(),s=iA(a,s,c)}else a=w.treeContext,wt=Kr(I.nextSibling),In=s,et=!0,Sa=null,Hr=!1,a!==null&&GS(s,a),s=Oh(s,p),s.flags|=4096;return s}return a=xo(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function kh(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Cy(a,s,c,p,_){return Ls(s),c=sy(a,s,c,p,void 0,_),p=ly(),a!==null&&!en?(uy(a,s,_),Co(a,s,_)):(et&&p&&qv(s),s.flags|=1,Pn(a,s,c,_),s.child)}function oA(a,s,c,p,_,w){return Ls(s),s.updateQueue=null,c=lT(s,p,c,_),sT(a),p=ly(),a!==null&&!en?(uy(a,s,w),Co(a,s,w)):(et&&p&&qv(s),s.flags|=1,Pn(a,s,c,w),s.child)}function aA(a,s,c,p,_){if(Ls(s),s.stateNode===null){var w=jl,I=c.contextType;typeof I=="object"&&I!==null&&(w=Nn(I)),w=new c(p,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Sy,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=p,w.state=s.memoizedState,w.refs={},Zv(s),I=c.contextType,w.context=typeof I=="object"&&I!==null?Nn(I):jl,w.state=s.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(wy(s,c,I,p),w.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(I=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),I!==w.state&&Sy.enqueueReplaceState(w,w.state,null),Hc(s,p,w,_),Gc(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){w=s.stateNode;var U=s.memoizedProps,K=qs(c,U);w.props=K;var Z=w.context,se=c.contextType;I=jl,typeof se=="object"&&se!==null&&(I=Nn(se));var fe=c.getDerivedStateFromProps;se=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function",U=s.pendingProps!==U,se||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U||Z!==I)&&$T(s,w,p,I),Ca=!1;var ee=s.memoizedState;w.state=ee,Hc(s,p,w,_),Gc(),Z=s.memoizedState,U||ee!==Z||Ca?(typeof fe=="function"&&(wy(s,c,fe,p),Z=s.memoizedState),(K=Ca||HT(s,c,K,p,ee,Z,I))?(se||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=Z),w.props=p,w.state=Z,w.context=I,p=K):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{w=s.stateNode,ey(a,s),I=s.memoizedProps,se=qs(c,I),w.props=se,fe=s.pendingProps,ee=w.context,Z=c.contextType,K=jl,typeof Z=="object"&&Z!==null&&(K=Nn(Z)),U=c.getDerivedStateFromProps,(Z=typeof U=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(I!==fe||ee!==K)&&$T(s,w,p,K),Ca=!1,ee=s.memoizedState,w.state=ee,Hc(s,p,w,_),Gc();var re=s.memoizedState;I!==fe||ee!==re||Ca||a!==null&&a.dependencies!==null&&gh(a.dependencies)?(typeof U=="function"&&(wy(s,c,U,p),re=s.memoizedState),(se=Ca||HT(s,c,se,p,ee,re,K)||a!==null&&a.dependencies!==null&&gh(a.dependencies))?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,re,K),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,re,K)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=re),w.props=p,w.state=re,w.context=K,p=se):(typeof w.componentDidUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ee===a.memoizedState||(s.flags|=1024),p=!1)}return w=p,kh(a,s),p=(s.flags&128)!==0,w||p?(w=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,a!==null&&p?(s.child=zs(s,a.child,null,_),s.child=zs(s,null,c,_)):Pn(a,s,c,_),s.memoizedState=w.state,a=s.child):a=Co(a,s,_),a}function sA(a,s,c,p){return Os(),s.flags|=256,Pn(a,s,c,p),s.child}var Iy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ny(a){return{baseLanes:a,cachePool:JS()}}function Py(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Ir),a}function lA(a,s,c){var p=s.pendingProps,_=!1,w=(s.flags&128)!==0,I;if((I=w)||(I=a!==null&&a.memoizedState===null?!1:(Ft.current&2)!==0),I&&(_=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,a===null){if(et){if(_?Pa(s):Ra(),(a=wt)?(a=g1(a,Hr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:wa!==null?{id:Yi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},c=BS(a),c.return=s,s.child=c,In=s,wt=null)):a=null,a===null)throw Ta(s);return d0(a)?s.lanes=32:s.lanes=536870912,null}var U=p.children;return p=p.fallback,_?(Ra(),_=s.mode,U=Lh({mode:"hidden",children:U},_),p=Ds(p,_,c,null),U.return=s,p.return=s,U.sibling=p,s.child=U,p=s.child,p.memoizedState=Ny(c),p.childLanes=Py(a,I,c),s.memoizedState=Iy,Jc(null,p)):(Pa(s),Ry(s,U))}var K=a.memoizedState;if(K!==null&&(U=K.dehydrated,U!==null)){if(w)s.flags&256?(Pa(s),s.flags&=-257,s=My(a,s,c)):s.memoizedState!==null?(Ra(),s.child=a.child,s.flags|=128,s=null):(Ra(),U=p.fallback,_=s.mode,p=Lh({mode:"visible",children:p.children},_),U=Ds(U,_,c,null),U.flags|=2,p.return=s,U.return=s,p.sibling=U,s.child=p,zs(s,a.child,null,c),p=s.child,p.memoizedState=Ny(c),p.childLanes=Py(a,I,c),s.memoizedState=Iy,s=Jc(null,p));else if(Pa(s),d0(U)){if(I=U.nextSibling&&U.nextSibling.dataset,I)var Z=I.dgst;I=Z,p=Error(r(419)),p.stack="",p.digest=I,Uc({value:p,source:null,stack:null}),s=My(a,s,c)}else if(en||Fl(a,s,c,!1),I=(c&a.childLanes)!==0,en||I){if(I=_t,I!==null&&(p=vc(I,c),p!==0&&p!==K.retryLane))throw K.retryLane=p,Ms(a,p),fr(I,a,p),Ay;f0(U)||Hh(),s=My(a,s,c)}else f0(U)?(s.flags|=192,s.child=a.child,s=null):(a=K.treeContext,wt=Kr(U.nextSibling),In=s,et=!0,Sa=null,Hr=!1,a!==null&&GS(s,a),s=Ry(s,p.children),s.flags|=4096);return s}return _?(Ra(),U=p.fallback,_=s.mode,K=a.child,Z=K.sibling,p=xo(K,{mode:"hidden",children:p.children}),p.subtreeFlags=K.subtreeFlags&65011712,Z!==null?U=xo(Z,U):(U=Ds(U,_,c,null),U.flags|=2),U.return=s,p.return=s,p.sibling=U,s.child=p,Jc(null,p),p=s.child,U=a.child.memoizedState,U===null?U=Ny(c):(_=U.cachePool,_!==null?(K=Qt._currentValue,_=_.parent!==K?{parent:K,pool:K}:_):_=JS(),U={baseLanes:U.baseLanes|c,cachePool:_}),p.memoizedState=U,p.childLanes=Py(a,I,c),s.memoizedState=Iy,Jc(a.child,p)):(Pa(s),c=a.child,a=c.sibling,c=xo(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(I=s.deletions,I===null?(s.deletions=[a],s.flags|=16):I.push(a)),s.child=c,s.memoizedState=null,c)}function Ry(a,s){return s=Lh({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Lh(a,s){return a=Sr(22,a,null,s),a.lanes=0,a}function My(a,s,c){return zs(s,a.child,null,c),a=Ry(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function uA(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Kv(a.return,s,c)}function Dy(a,s,c,p,_,w){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:_,treeForkCount:w}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=p,I.tail=c,I.tailMode=_,I.treeForkCount=w)}function cA(a,s,c){var p=s.pendingProps,_=p.revealOrder,w=p.tail;p=p.children;var I=Ft.current,U=(I&2)!==0;if(U?(I=I&1|2,s.flags|=128):I&=1,pe(Ft,I),Pn(a,s,p,c),p=et?Vc:0,!U&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&uA(a,c,s);else if(a.tag===19)uA(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(_){case"forwards":for(c=s.child,_=null;c!==null;)a=c.alternate,a!==null&&Sh(a)===null&&(_=c),c=c.sibling;c=_,c===null?(_=s.child,s.child=null):(_=c.sibling,c.sibling=null),Dy(s,!1,_,c,w,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,_=s.child,s.child=null;_!==null;){if(a=_.alternate,a!==null&&Sh(a)===null){s.child=_;break}a=_.sibling,_.sibling=c,c=_,_=a}Dy(s,!0,c,null,w,p);break;case"together":Dy(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Co(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Oa|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Fl(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=xo(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=xo(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Oy(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&gh(a)))}function CU(a,s,c){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),Aa(s,Qt,a.memoizedState.cache),Os();break;case 27:case 5:Ve(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:Aa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,oy(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Pa(s),s.flags|=128,null):(c&s.child.childLanes)!==0?lA(a,s,c):(Pa(s),a=Co(a,s,c),a!==null?a.sibling:null);Pa(s);break;case 19:var _=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Fl(a,s,c,!1),p=(c&s.childLanes)!==0),_){if(p)return cA(a,s,c);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),pe(Ft,Ft.current),p)break;return null;case 22:return s.lanes=0,nA(a,s,c,s.pendingProps);case 24:Aa(s,Qt,a.memoizedState.cache)}return Co(a,s,c)}function fA(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)en=!0;else{if(!Oy(a,c)&&(s.flags&128)===0)return en=!1,CU(a,s,c);en=(a.flags&131072)!==0}else en=!1,et&&(s.flags&1048576)!==0&&FS(s,Vc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Us(s.elementType),s.type=a,typeof a=="function")jv(a)?(p=qs(a,p),s.tag=1,s=aA(null,s,a,p,c)):(s.tag=0,s=Cy(null,s,a,p,c));else{if(a!=null){var _=a.$$typeof;if(_===B){s.tag=11,s=ZT(null,s,a,p,c);break e}else if(_===D){s.tag=14,s=eA(null,s,a,p,c);break e}}throw s=de(a)||a,Error(r(306,s,""))}}return s;case 0:return Cy(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,_=qs(p,s.pendingProps),aA(a,s,p,_,c);case 3:e:{if(bt(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var w=s.memoizedState;_=w.element,ey(a,s),Hc(s,p,null,c);var I=s.memoizedState;if(p=I.cache,Aa(s,Qt,p),p!==w.cache&&Yv(s,[Qt],c,!0),Gc(),p=I.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=sA(a,s,p,c);break e}else if(p!==_){_=qr(Error(r(424)),s),Uc(_),s=sA(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(wt=Kr(a.firstChild),In=s,et=!0,Sa=null,Hr=!0,c=nT(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Os(),p===_){s=Co(a,s,c);break e}Pn(a,s,p,c)}s=s.child}return s;case 26:return kh(a,s),a===null?(c=E1(s.type,null,s.pendingProps,null))?s.memoizedState=c:et||(c=s.type,a=s.pendingProps,p=Qh(Me.current).createElement(c),p[Wt]=s,p[pn]=a,Rn(p,c,a),Jt(p),s.stateNode=p):s.memoizedState=E1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ve(s),a===null&&et&&(p=s.stateNode=b1(s.type,s.pendingProps,Me.current),In=s,Hr=!0,_=wt,ja(s.type)?(h0=_,wt=Kr(p.firstChild)):wt=_),Pn(a,s,s.pendingProps.children,c),kh(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&et&&((_=p=wt)&&(p=r6(p,s.type,s.pendingProps,Hr),p!==null?(s.stateNode=p,In=s,wt=Kr(p.firstChild),Hr=!1,_=!0):_=!1),_||Ta(s)),Ve(s),_=s.type,w=s.pendingProps,I=a!==null?a.memoizedProps:null,p=w.children,l0(_,w)?p=null:I!==null&&l0(_,I)&&(s.flags|=32),s.memoizedState!==null&&(_=sy(a,s,yU,null,null,c),df._currentValue=_),kh(a,s),Pn(a,s,p,c),s.child;case 6:return a===null&&et&&((a=c=wt)&&(c=i6(c,s.pendingProps,Hr),c!==null?(s.stateNode=c,In=s,wt=null,a=!0):a=!1),a||Ta(s)),null;case 13:return lA(a,s,c);case 4:return bt(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=zs(s,null,p,c):Pn(a,s,p,c),s.child;case 11:return ZT(a,s,s.type,s.pendingProps,c);case 7:return Pn(a,s,s.pendingProps,c),s.child;case 8:return Pn(a,s,s.pendingProps.children,c),s.child;case 12:return Pn(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Aa(s,s.type,p.value),Pn(a,s,p.children,c),s.child;case 9:return _=s.type._context,p=s.pendingProps.children,Ls(s),_=Nn(_),p=p(_),s.flags|=1,Pn(a,s,p,c),s.child;case 14:return eA(a,s,s.type,s.pendingProps,c);case 15:return tA(a,s,s.type,s.pendingProps,c);case 19:return cA(a,s,c);case 31:return AU(a,s,c);case 22:return nA(a,s,c,s.pendingProps);case 24:return Ls(s),p=Nn(Qt),a===null?(_=Xv(),_===null&&(_=_t,w=Wv(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=c),_=w),s.memoizedState={parent:p,cache:_},Zv(s),Aa(s,Qt,_)):((a.lanes&c)!==0&&(ey(a,s),Hc(s,null,null,c),Gc()),_=a.memoizedState,w=s.memoizedState,_.parent!==p?(_={parent:p,cache:p},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),Aa(s,Qt,p)):(p=w.cache,Aa(s,Qt,p),p!==_.cache&&Yv(s,[Qt],c,!0))),Pn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Io(a){a.flags|=4}function ky(a,s,c,p,_){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(_&335544128)===_)if(a.stateNode.complete)a.flags|=8192;else if(UA())a.flags|=8192;else throw js=_h,Qv}else a.flags&=-16777217}function dA(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!C1(s))if(UA())a.flags|=8192;else throw js=_h,Qv}function Vh(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Fd():536870912,a.lanes|=s,tu|=s)}function Xc(a,s){if(!et)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function St(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var _=a.child;_!==null;)c|=_.lanes|_.childLanes,p|=_.subtreeFlags&65011712,p|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)c|=_.lanes|_.childLanes,p|=_.subtreeFlags,p|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function IU(a,s,c){var p=s.pendingProps;switch(Fv(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),So(Qt),ae(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(ql(s)?Io(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hv())),St(s),null;case 26:var _=s.type,w=s.memoizedState;return a===null?(Io(s),w!==null?(St(s),dA(s,w)):(St(s),ky(s,_,null,p,c))):w?w!==a.memoizedState?(Io(s),St(s),dA(s,w)):(St(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&Io(s),St(s),ky(s,_,a,p,c)),null;case 27:if(Ge(s),c=Me.current,_=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Io(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return St(s),null}a=me.current,ql(s)?HS(s):(a=b1(_,p,c),s.stateNode=a,Io(s))}return St(s),null;case 5:if(Ge(s),_=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Io(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return St(s),null}if(w=me.current,ql(s))HS(s);else{var I=Qh(Me.current);switch(w){case 1:w=I.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:w=I.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":w=I.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":w=I.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":w=I.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?I.createElement("select",{is:p.is}):I.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?I.createElement(_,{is:p.is}):I.createElement(_)}}w[Wt]=s,w[pn]=p;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)w.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=w;e:switch(Rn(w,_,p),_){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Io(s)}}return St(s),ky(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&Io(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=Me.current,ql(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,_=In,_!==null)switch(_.tag){case 27:case 5:p=_.memoizedProps}a[Wt]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||l1(a.nodeValue,c)),a||Ta(s,!0)}else a=Qh(a).createTextNode(p),a[Wt]=s,s.stateNode=a}return St(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=ql(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Wt]=s}else Os(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),a=!1}else c=Hv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Ar(s),s):(Ar(s),null);if((s.flags&128)!==0)throw Error(r(558))}return St(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=ql(s),p!==null&&p.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Wt]=s}else Os(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),_=!1}else _=Hv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(Ar(s),s):(Ar(s),null)}return Ar(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,_=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(_=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==_&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),Vh(s,s.updateQueue),St(s),null);case 4:return ae(),a===null&&r0(s.stateNode.containerInfo),St(s),null;case 10:return So(s.type),St(s),null;case 19:if(te(Ft),p=s.memoizedState,p===null)return St(s),null;if(_=(s.flags&128)!==0,w=p.rendering,w===null)if(_)Xc(p,!1);else{if(Lt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(w=Sh(a),w!==null){for(s.flags|=128,Xc(p,!1),a=w.updateQueue,s.updateQueue=a,Vh(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)zS(c,a),c=c.sibling;return pe(Ft,Ft.current&1|2),et&&Eo(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&Jn()>qh&&(s.flags|=128,_=!0,Xc(p,!1),s.lanes=4194304)}else{if(!_)if(a=Sh(w),a!==null){if(s.flags|=128,_=!0,a=a.updateQueue,s.updateQueue=a,Vh(s,a),Xc(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!et)return St(s),null}else 2*Jn()-p.renderingStartTime>qh&&c!==536870912&&(s.flags|=128,_=!0,Xc(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(a=p.last,a!==null?a.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Jn(),a.sibling=null,c=Ft.current,pe(Ft,_?c&1|2:c&1),et&&Eo(s,p.treeForkCount),a):(St(s),null);case 22:case 23:return Ar(s),iy(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),c=s.updateQueue,c!==null&&Vh(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&te(Vs),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),So(Qt),St(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function NU(a,s){switch(Fv(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return So(Qt),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ge(s),null;case 31:if(s.memoizedState!==null){if(Ar(s),s.alternate===null)throw Error(r(340));Os()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Ar(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Os()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return te(Ft),null;case 4:return ae(),null;case 10:return So(s.type),null;case 22:case 23:return Ar(s),iy(),a!==null&&te(Vs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return So(Qt),null;case 25:return null;default:return null}}function hA(a,s){switch(Fv(s),s.tag){case 3:So(Qt),ae();break;case 26:case 27:case 5:Ge(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&Ar(s);break;case 13:Ar(s);break;case 19:te(Ft);break;case 10:So(s.type);break;case 22:case 23:Ar(s),iy(),a!==null&&te(Vs);break;case 24:So(Qt)}}function Qc(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var _=p.next;c=_;do{if((c.tag&a)===a){p=void 0;var w=c.create,I=c.inst;p=w(),I.destroy=p}c=c.next}while(c!==_)}}catch(U){dt(s,s.return,U)}}function Ma(a,s,c){try{var p=s.updateQueue,_=p!==null?p.lastEffect:null;if(_!==null){var w=_.next;p=w;do{if((p.tag&a)===a){var I=p.inst,U=I.destroy;if(U!==void 0){I.destroy=void 0,_=s;var K=c,Z=U;try{Z()}catch(se){dt(_,K,se)}}}p=p.next}while(p!==w)}}catch(se){dt(s,s.return,se)}}function pA(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{iT(s,c)}catch(p){dt(a,a.return,p)}}}function mA(a,s,c){c.props=qs(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){dt(a,s,p)}}function Zc(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(_){dt(a,s,_)}}function Ji(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(_){dt(a,s,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(_){dt(a,s,_)}else c.current=null}function gA(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(_){dt(a,a.return,_)}}function Ly(a,s,c){try{var p=a.stateNode;XU(p,a.type,c,s),p[pn]=s}catch(_){dt(a,a.return,_)}}function vA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ja(a.type)||a.tag===4}function Vy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ja(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Uy(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ui));else if(p!==4&&(p===27&&ja(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Uy(a,s,c),a=a.sibling;a!==null;)Uy(a,s,c),a=a.sibling}function Uh(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&ja(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Uh(a,s,c),a=a.sibling;a!==null;)Uh(a,s,c),a=a.sibling}function yA(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);Rn(s,p,c),s[Wt]=a,s[pn]=c}catch(w){dt(a,a.return,w)}}var No=!1,tn=!1,jy=!1,bA=typeof WeakSet=="function"?WeakSet:Set,gn=null;function PU(a,s){if(a=a.containerInfo,a0=op,a=RS(a),Mv(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var _=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var I=0,U=-1,K=-1,Z=0,se=0,fe=a,ee=null;t:for(;;){for(var re;fe!==c||_!==0&&fe.nodeType!==3||(U=I+_),fe!==w||p!==0&&fe.nodeType!==3||(K=I+p),fe.nodeType===3&&(I+=fe.nodeValue.length),(re=fe.firstChild)!==null;)ee=fe,fe=re;for(;;){if(fe===a)break t;if(ee===c&&++Z===_&&(U=I),ee===w&&++se===p&&(K=I),(re=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=re}c=U===-1||K===-1?null:{start:U,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(s0={focusedElem:a,selectionRange:c},op=!1,gn=s;gn!==null;)if(s=gn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,gn=a;else for(;gn!==null;){switch(s=gn,w=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)_=a[c],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,c=s,_=w.memoizedProps,w=w.memoizedState,p=c.stateNode;try{var Ce=qs(c.type,_);a=p.getSnapshotBeforeUpdate(Ce,w),p.__reactInternalSnapshotBeforeUpdate=a}catch(Oe){dt(c,c.return,Oe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)c0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":c0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,gn=a;break}gn=s.return}}function _A(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:Ro(a,c),p&4&&Qc(5,c);break;case 1:if(Ro(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(I){dt(c,c.return,I)}else{var _=qs(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(_,s,a.__reactInternalSnapshotBeforeUpdate)}catch(I){dt(c,c.return,I)}}p&64&&pA(c),p&512&&Zc(c,c.return);break;case 3:if(Ro(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{iT(a,s)}catch(I){dt(c,c.return,I)}}break;case 27:s===null&&p&4&&yA(c);case 26:case 5:Ro(a,c),s===null&&p&4&&gA(c),p&512&&Zc(c,c.return);break;case 12:Ro(a,c);break;case 31:Ro(a,c),p&4&&wA(a,c);break;case 13:Ro(a,c),p&4&&SA(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=jU.bind(null,c),o6(a,c))));break;case 22:if(p=c.memoizedState!==null||No,!p){s=s!==null&&s.memoizedState!==null||tn,_=No;var w=tn;No=p,(tn=s)&&!w?Mo(a,c,(c.subtreeFlags&8772)!==0):Ro(a,c),No=_,tn=w}break;case 30:break;default:Ro(a,c)}}function xA(a){var s=a.alternate;s!==null&&(a.alternate=null,xA(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Tl(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Nt=null,sr=!1;function Po(a,s,c){for(c=c.child;c!==null;)EA(a,s,c),c=c.sibling}function EA(a,s,c){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(oi,c)}catch{}switch(c.tag){case 26:tn||Ji(c,s),Po(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:tn||Ji(c,s);var p=Nt,_=sr;ja(c.type)&&(Nt=c.stateNode,sr=!1),Po(a,s,c),uf(c.stateNode),Nt=p,sr=_;break;case 5:tn||Ji(c,s);case 6:if(p=Nt,_=sr,Nt=null,Po(a,s,c),Nt=p,sr=_,Nt!==null)if(sr)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(c.stateNode)}catch(w){dt(c,s,w)}else try{Nt.removeChild(c.stateNode)}catch(w){dt(c,s,w)}break;case 18:Nt!==null&&(sr?(a=Nt,p1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),uu(a)):p1(Nt,c.stateNode));break;case 4:p=Nt,_=sr,Nt=c.stateNode.containerInfo,sr=!0,Po(a,s,c),Nt=p,sr=_;break;case 0:case 11:case 14:case 15:Ma(2,c,s),tn||Ma(4,c,s),Po(a,s,c);break;case 1:tn||(Ji(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&mA(c,s,p)),Po(a,s,c);break;case 21:Po(a,s,c);break;case 22:tn=(p=tn)||c.memoizedState!==null,Po(a,s,c),tn=p;break;default:Po(a,s,c)}}function wA(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{uu(a)}catch(c){dt(s,s.return,c)}}}function SA(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{uu(a)}catch(c){dt(s,s.return,c)}}function RU(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new bA),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new bA),s;default:throw Error(r(435,a.tag))}}function jh(a,s){var c=RU(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var _=zU.bind(null,a,p);p.then(_,_)}})}function lr(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var _=c[p],w=a,I=s,U=I;e:for(;U!==null;){switch(U.tag){case 27:if(ja(U.type)){Nt=U.stateNode,sr=!1;break e}break;case 5:Nt=U.stateNode,sr=!1;break e;case 3:case 4:Nt=U.stateNode.containerInfo,sr=!0;break e}U=U.return}if(Nt===null)throw Error(r(160));EA(w,I,_),Nt=null,sr=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)TA(s,a),s=s.sibling}var mi=null;function TA(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:lr(s,a),ur(a),p&4&&(Ma(3,a,a.return),Qc(3,a),Ma(5,a,a.return));break;case 1:lr(s,a),ur(a),p&512&&(tn||c===null||Ji(c,c.return)),p&64&&No&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var _=mi;if(lr(s,a),ur(a),p&512&&(tn||c===null||Ji(c,c.return)),p&4){var w=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,_=_.ownerDocument||_;t:switch(p){case"title":w=_.getElementsByTagName("title")[0],(!w||w[Li]||w[Wt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(p),_.head.insertBefore(w,_.querySelector("head > title"))),Rn(w,p,c),w[Wt]=a,Jt(w),p=w;break e;case"link":var I=T1("link","href",_).get(p+(c.href||""));if(I){for(var U=0;U<I.length;U++)if(w=I[U],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(U,1);break t}}w=_.createElement(p),Rn(w,p,c),_.head.appendChild(w);break;case"meta":if(I=T1("meta","content",_).get(p+(c.content||""))){for(U=0;U<I.length;U++)if(w=I[U],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(U,1);break t}}w=_.createElement(p),Rn(w,p,c),_.head.appendChild(w);break;default:throw Error(r(468,p))}w[Wt]=a,Jt(w),p=w}a.stateNode=p}else A1(_,a.type,a.stateNode);else a.stateNode=S1(_,p,a.memoizedProps);else w!==p?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,p===null?A1(_,a.type,a.stateNode):S1(_,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Ly(a,a.memoizedProps,c.memoizedProps)}break;case 27:lr(s,a),ur(a),p&512&&(tn||c===null||Ji(c,c.return)),c!==null&&p&4&&Ly(a,a.memoizedProps,c.memoizedProps);break;case 5:if(lr(s,a),ur(a),p&512&&(tn||c===null||Ji(c,c.return)),a.flags&32){_=a.stateNode;try{ar(_,"")}catch(Ce){dt(a,a.return,Ce)}}p&4&&a.stateNode!=null&&(_=a.memoizedProps,Ly(a,_,c!==null?c.memoizedProps:_)),p&1024&&(jy=!0);break;case 6:if(lr(s,a),ur(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(Ce){dt(a,a.return,Ce)}}break;case 3:if(tp=null,_=mi,mi=Zh(s.containerInfo),lr(s,a),mi=_,ur(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{uu(s.containerInfo)}catch(Ce){dt(a,a.return,Ce)}jy&&(jy=!1,AA(a));break;case 4:p=mi,mi=Zh(a.stateNode.containerInfo),lr(s,a),ur(a),mi=p;break;case 12:lr(s,a),ur(a);break;case 31:lr(s,a),ur(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,jh(a,p)));break;case 13:lr(s,a),ur(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Bh=Jn()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,jh(a,p)));break;case 22:_=a.memoizedState!==null;var K=c!==null&&c.memoizedState!==null,Z=No,se=tn;if(No=Z||_,tn=se||K,lr(s,a),tn=se,No=Z,ur(a),p&8192)e:for(s=a.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(c===null||K||No||tn||Fs(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){K=c=s;try{if(w=K.stateNode,_)I=w.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{U=K.stateNode;var fe=K.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;U.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ce){dt(K,K.return,Ce)}}}else if(s.tag===6){if(c===null){K=s;try{K.stateNode.nodeValue=_?"":K.memoizedProps}catch(Ce){dt(K,K.return,Ce)}}}else if(s.tag===18){if(c===null){K=s;try{var re=K.stateNode;_?m1(re,!0):m1(K.stateNode,!1)}catch(Ce){dt(K,K.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,jh(a,c))));break;case 19:lr(s,a),ur(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,jh(a,p)));break;case 30:break;case 21:break;default:lr(s,a),ur(a)}}function ur(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(vA(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var _=c.stateNode,w=Vy(a);Uh(a,w,_);break;case 5:var I=c.stateNode;c.flags&32&&(ar(I,""),c.flags&=-33);var U=Vy(a);Uh(a,U,I);break;case 3:case 4:var K=c.stateNode.containerInfo,Z=Vy(a);Uy(a,Z,K);break;default:throw Error(r(161))}}catch(se){dt(a,a.return,se)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function AA(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;AA(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ro(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_A(a,s.alternate,s),s=s.sibling}function Fs(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ma(4,s,s.return),Fs(s);break;case 1:Ji(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&mA(s,s.return,c),Fs(s);break;case 27:uf(s.stateNode);case 26:case 5:Ji(s,s.return),Fs(s);break;case 22:s.memoizedState===null&&Fs(s);break;case 30:Fs(s);break;default:Fs(s)}a=a.sibling}}function Mo(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,_=a,w=s,I=w.flags;switch(w.tag){case 0:case 11:case 15:Mo(_,w,c),Qc(4,w);break;case 1:if(Mo(_,w,c),p=w,_=p.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Z){dt(p,p.return,Z)}if(p=w,_=p.updateQueue,_!==null){var U=p.stateNode;try{var K=_.shared.hiddenCallbacks;if(K!==null)for(_.shared.hiddenCallbacks=null,_=0;_<K.length;_++)rT(K[_],U)}catch(Z){dt(p,p.return,Z)}}c&&I&64&&pA(w),Zc(w,w.return);break;case 27:yA(w);case 26:case 5:Mo(_,w,c),c&&p===null&&I&4&&gA(w),Zc(w,w.return);break;case 12:Mo(_,w,c);break;case 31:Mo(_,w,c),c&&I&4&&wA(_,w);break;case 13:Mo(_,w,c),c&&I&4&&SA(_,w);break;case 22:w.memoizedState===null&&Mo(_,w,c),Zc(w,w.return);break;case 30:break;default:Mo(_,w,c)}s=s.sibling}}function zy(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&jc(c))}function By(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&jc(a))}function gi(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)CA(a,s,c,p),s=s.sibling}function CA(a,s,c,p){var _=s.flags;switch(s.tag){case 0:case 11:case 15:gi(a,s,c,p),_&2048&&Qc(9,s);break;case 1:gi(a,s,c,p);break;case 3:gi(a,s,c,p),_&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&jc(a)));break;case 12:if(_&2048){gi(a,s,c,p),a=s.stateNode;try{var w=s.memoizedProps,I=w.id,U=w.onPostCommit;typeof U=="function"&&U(I,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){dt(s,s.return,K)}}else gi(a,s,c,p);break;case 31:gi(a,s,c,p);break;case 13:gi(a,s,c,p);break;case 23:break;case 22:w=s.stateNode,I=s.alternate,s.memoizedState!==null?w._visibility&2?gi(a,s,c,p):ef(a,s):w._visibility&2?gi(a,s,c,p):(w._visibility|=2,Ql(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),_&2048&&zy(I,s);break;case 24:gi(a,s,c,p),_&2048&&By(s.alternate,s);break;default:gi(a,s,c,p)}}function Ql(a,s,c,p,_){for(_=_&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=a,I=s,U=c,K=p,Z=I.flags;switch(I.tag){case 0:case 11:case 15:Ql(w,I,U,K,_),Qc(8,I);break;case 23:break;case 22:var se=I.stateNode;I.memoizedState!==null?se._visibility&2?Ql(w,I,U,K,_):ef(w,I):(se._visibility|=2,Ql(w,I,U,K,_)),_&&Z&2048&&zy(I.alternate,I);break;case 24:Ql(w,I,U,K,_),_&&Z&2048&&By(I.alternate,I);break;default:Ql(w,I,U,K,_)}s=s.sibling}}function ef(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,_=p.flags;switch(p.tag){case 22:ef(c,p),_&2048&&zy(p.alternate,p);break;case 24:ef(c,p),_&2048&&By(p.alternate,p);break;default:ef(c,p)}s=s.sibling}}var tf=8192;function Zl(a,s,c){if(a.subtreeFlags&tf)for(a=a.child;a!==null;)IA(a,s,c),a=a.sibling}function IA(a,s,c){switch(a.tag){case 26:Zl(a,s,c),a.flags&tf&&a.memoizedState!==null&&v6(c,mi,a.memoizedState,a.memoizedProps);break;case 5:Zl(a,s,c);break;case 3:case 4:var p=mi;mi=Zh(a.stateNode.containerInfo),Zl(a,s,c),mi=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=tf,tf=16777216,Zl(a,s,c),tf=p):Zl(a,s,c));break;default:Zl(a,s,c)}}function NA(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function nf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];gn=p,RA(p,a)}NA(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PA(a),a=a.sibling}function PA(a){switch(a.tag){case 0:case 11:case 15:nf(a),a.flags&2048&&Ma(9,a,a.return);break;case 3:nf(a);break;case 12:nf(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,zh(a)):nf(a);break;default:nf(a)}}function zh(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];gn=p,RA(p,a)}NA(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ma(8,s,s.return),zh(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,zh(s));break;default:zh(s)}a=a.sibling}}function RA(a,s){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:Ma(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:jc(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,gn=p;else e:for(c=a;gn!==null;){p=gn;var _=p.sibling,w=p.return;if(xA(p),p===c){gn=null;break e}if(_!==null){_.return=w,gn=_;break e}gn=w}}}var MU={getCacheForType:function(a){var s=Nn(Qt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Nn(Qt).controller.signal}},DU=typeof WeakMap=="function"?WeakMap:Map,lt=0,_t=null,Ke=null,We=0,ft=0,Cr=null,Da=!1,eu=!1,qy=!1,Do=0,Lt=0,Oa=0,Gs=0,Fy=0,Ir=0,tu=0,rf=null,cr=null,Gy=!1,Bh=0,MA=0,qh=1/0,Fh=null,ka=null,un=0,La=null,nu=null,Oo=0,Hy=0,$y=null,DA=null,of=0,Ky=null;function Nr(){return(lt&2)!==0&&We!==0?We&-We:W.T!==null?Zy():Gd()}function OA(){if(Ir===0)if((We&536870912)===0||et){var a=vs;vs<<=1,(vs&3932160)===0&&(vs=262144),Ir=a}else Ir=536870912;return a=Tr.current,a!==null&&(a.flags|=32),Ir}function fr(a,s,c){(a===_t&&(ft===2||ft===9)||a.cancelPendingCommit!==null)&&(ru(a,0),Va(a,We,Ir,!1)),ys(a,c),((lt&2)===0||a!==_t)&&(a===_t&&((lt&2)===0&&(Gs|=c),Lt===4&&Va(a,We,Ir,!1)),Xi(a))}function kA(a,s,c){if((lt&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||ai(a,s),_=p?LU(a,s):Wy(a,s,!0),w=p;do{if(_===0){eu&&!p&&Va(a,s,0,!1);break}else{if(c=a.current.alternate,w&&!OU(c)){_=Wy(a,s,!1),w=!1;continue}if(_===2){if(w=s,a.errorRecoveryDisabledLanes&w)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var U=a;_=rf;var K=U.current.memoizedState.isDehydrated;if(K&&(ru(U,I).flags|=256),I=Wy(U,I,!1),I!==2){if(qy&&!K){U.errorRecoveryDisabledLanes|=w,Gs|=w,_=4;break e}w=cr,cr=_,w!==null&&(cr===null?cr=w:cr.push.apply(cr,w))}_=I}if(w=!1,_!==2)continue}}if(_===1){ru(a,0),Va(a,s,0,!0);break}e:{switch(p=a,w=_,w){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Va(p,s,Ir,!Da);break e;case 2:cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(_=Bh+300-Jn(),10<_)){if(Va(p,s,Ir,!Da),Di(p,0,!0)!==0)break e;Oo=s,p.timeoutHandle=d1(LA.bind(null,p,c,cr,Fh,Gy,s,Ir,Gs,tu,Da,w,"Throttled",-0,0),_);break e}LA(p,c,cr,Fh,Gy,s,Ir,Gs,tu,Da,w,null,-0,0)}}break}while(!0);Xi(a)}function LA(a,s,c,p,_,w,I,U,K,Z,se,fe,ee,re){if(a.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},IA(s,w,fe);var Ce=(w&62914560)===w?Bh-Jn():(w&4194048)===w?MA-Jn():0;if(Ce=y6(fe,Ce),Ce!==null){Oo=w,a.cancelPendingCommit=Ce(GA.bind(null,a,s,w,c,p,_,I,U,K,se,fe,null,ee,re)),Va(a,w,I,!Z);return}}GA(a,s,w,c,p,_,I,U,K)}function OU(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var _=c[p],w=_.getSnapshot;_=_.value;try{if(!wr(w(),_))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Va(a,s,c,p){s&=~Fy,s&=~Gs,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var _=s;0<_;){var w=31-Bt(_),I=1<<w;p[w]=-1,_&=~I}c!==0&&bs(a,c,s)}function Gh(){return(lt&6)===0?(af(0),!1):!0}function Yy(){if(Ke!==null){if(ft===0)var a=Ke.return;else a=Ke,wo=ks=null,cy(a),Kl=null,Bc=0,a=Ke;for(;a!==null;)hA(a.alternate,a),a=a.return;Ke=null}}function ru(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,e6(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Oo=0,Yy(),_t=a,Ke=c=xo(a.current,null),We=s,ft=0,Cr=null,Da=!1,eu=ai(a,s),qy=!1,tu=Ir=Fy=Gs=Oa=Lt=0,cr=rf=null,Gy=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var _=31-Bt(p),w=1<<_;s|=a[_],p&=~w}return Do=s,fh(),c}function VA(a,s){Fe=null,W.H=Wc,s===$l||s===bh?(s=ZS(),ft=3):s===Qv?(s=ZS(),ft=4):ft=s===Ay?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cr=s,Ke===null&&(Lt=1,Dh(a,qr(s,a.current)))}function UA(){var a=Tr.current;return a===null?!0:(We&4194048)===We?$r===null:(We&62914560)===We||(We&536870912)!==0?a===$r:!1}function jA(){var a=W.H;return W.H=Wc,a===null?Wc:a}function zA(){var a=W.A;return W.A=MU,a}function Hh(){Lt=4,Da||(We&4194048)!==We&&Tr.current!==null||(eu=!0),(Oa&134217727)===0&&(Gs&134217727)===0||_t===null||Va(_t,We,Ir,!1)}function Wy(a,s,c){var p=lt;lt|=2;var _=jA(),w=zA();(_t!==a||We!==s)&&(Fh=null,ru(a,s)),s=!1;var I=Lt;e:do try{if(ft!==0&&Ke!==null){var U=Ke,K=Cr;switch(ft){case 8:Yy(),I=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(s=!0);var Z=ft;if(ft=0,Cr=null,iu(a,U,K,Z),c&&eu){I=0;break e}break;default:Z=ft,ft=0,Cr=null,iu(a,U,K,Z)}}kU(),I=Lt;break}catch(se){VA(a,se)}while(!0);return s&&a.shellSuspendCounter++,wo=ks=null,lt=p,W.H=_,W.A=w,Ke===null&&(_t=null,We=0,fh()),I}function kU(){for(;Ke!==null;)BA(Ke)}function LU(a,s){var c=lt;lt|=2;var p=jA(),_=zA();_t!==a||We!==s?(Fh=null,qh=Jn()+500,ru(a,s)):eu=ai(a,s);e:do try{if(ft!==0&&Ke!==null){s=Ke;var w=Cr;t:switch(ft){case 1:ft=0,Cr=null,iu(a,s,w,1);break;case 2:case 9:if(XS(w)){ft=0,Cr=null,qA(s);break}s=function(){ft!==2&&ft!==9||_t!==a||(ft=7),Xi(a)},w.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:XS(w)?(ft=0,Cr=null,qA(s)):(ft=0,Cr=null,iu(a,s,w,7));break;case 5:var I=null;switch(Ke.tag){case 26:I=Ke.memoizedState;case 5:case 27:var U=Ke;if(I?C1(I):U.stateNode.complete){ft=0,Cr=null;var K=U.sibling;if(K!==null)Ke=K;else{var Z=U.return;Z!==null?(Ke=Z,$h(Z)):Ke=null}break t}}ft=0,Cr=null,iu(a,s,w,5);break;case 6:ft=0,Cr=null,iu(a,s,w,6);break;case 8:Yy(),Lt=6;break e;default:throw Error(r(462))}}VU();break}catch(se){VA(a,se)}while(!0);return wo=ks=null,W.H=p,W.A=_,lt=c,Ke!==null?0:(_t=null,We=0,fh(),Lt)}function VU(){for(;Ke!==null&&!Tv();)BA(Ke)}function BA(a){var s=fA(a.alternate,a,Do);a.memoizedProps=a.pendingProps,s===null?$h(a):Ke=s}function qA(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=oA(c,s,s.pendingProps,s.type,void 0,We);break;case 11:s=oA(c,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:cy(s);default:hA(c,s),s=Ke=zS(s,Do),s=fA(c,s,Do)}a.memoizedProps=a.pendingProps,s===null?$h(a):Ke=s}function iu(a,s,c,p){wo=ks=null,cy(s),Kl=null,Bc=0;var _=s.return;try{if(TU(a,_,s,c,We)){Lt=1,Dh(a,qr(c,a.current)),Ke=null;return}}catch(w){if(_!==null)throw Ke=_,w;Lt=1,Dh(a,qr(c,a.current)),Ke=null;return}s.flags&32768?(et||p===1?a=!0:eu||(We&536870912)!==0?a=!1:(Da=a=!0,(p===2||p===9||p===3||p===6)&&(p=Tr.current,p!==null&&p.tag===13&&(p.flags|=16384))),FA(s,a)):$h(s)}function $h(a){var s=a;do{if((s.flags&32768)!==0){FA(s,Da);return}a=s.return;var c=IU(s.alternate,s,Do);if(c!==null){Ke=c;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=a}while(s!==null);Lt===0&&(Lt=5)}function FA(a,s){do{var c=NU(a.alternate,a);if(c!==null){c.flags&=32767,Ke=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Ke=a;return}Ke=a=c}while(a!==null);Lt=6,Ke=null}function GA(a,s,c,p,_,w,I,U,K){a.cancelPendingCommit=null;do Kh();while(un!==0);if((lt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(w=s.lanes|s.childLanes,w|=Vv,Iv(a,c,w,I,U,K),a===_t&&(Ke=_t=null,We=0),nu=s,La=a,Oo=c,Hy=w,$y=_,DA=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,BU(ha,function(){return WA(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=W.T,W.T=null,_=oe.p,oe.p=2,I=lt,lt|=4;try{PU(a,s,c)}finally{lt=I,oe.p=_,W.T=p}}un=1,HA(),$A(),KA()}}function HA(){if(un===1){un=0;var a=La,s=nu,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var p=oe.p;oe.p=2;var _=lt;lt|=4;try{TA(s,a);var w=s0,I=RS(a.containerInfo),U=w.focusedElem,K=w.selectionRange;if(I!==U&&U&&U.ownerDocument&&PS(U.ownerDocument.documentElement,U)){if(K!==null&&Mv(U)){var Z=K.start,se=K.end;if(se===void 0&&(se=Z),"selectionStart"in U)U.selectionStart=Z,U.selectionEnd=Math.min(se,U.value.length);else{var fe=U.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var re=ee.getSelection(),Ce=U.textContent.length,Oe=Math.min(K.start,Ce),yt=K.end===void 0?Oe:Math.min(K.end,Ce);!re.extend&&Oe>yt&&(I=yt,yt=Oe,Oe=I);var J=NS(U,Oe),Y=NS(U,yt);if(J&&Y&&(re.rangeCount!==1||re.anchorNode!==J.node||re.anchorOffset!==J.offset||re.focusNode!==Y.node||re.focusOffset!==Y.offset)){var Q=fe.createRange();Q.setStart(J.node,J.offset),re.removeAllRanges(),Oe>yt?(re.addRange(Q),re.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),re.addRange(Q))}}}}for(fe=[],re=U;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<fe.length;U++){var le=fe[U];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}op=!!a0,s0=a0=null}finally{lt=_,oe.p=p,W.T=c}}a.current=s,un=2}}function $A(){if(un===2){un=0;var a=La,s=nu,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var p=oe.p;oe.p=2;var _=lt;lt|=4;try{_A(a,s.alternate,s)}finally{lt=_,oe.p=p,W.T=c}}un=3}}function KA(){if(un===4||un===3){un=0,Vd();var a=La,s=nu,c=Oo,p=DA;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?un=5:(un=0,nu=La=null,YA(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(ka=null),vo(c),s=s.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(oi,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=W.T,_=oe.p,oe.p=2,W.T=null;try{for(var w=a.onRecoverableError,I=0;I<p.length;I++){var U=p[I];w(U.value,{componentStack:U.stack})}}finally{W.T=s,oe.p=_}}(Oo&3)!==0&&Kh(),Xi(a),_=a.pendingLanes,(c&261930)!==0&&(_&42)!==0?a===Ky?of++:(of=0,Ky=a):of=0,af(0)}}function YA(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,jc(s)))}function Kh(){return HA(),$A(),KA(),WA()}function WA(){if(un!==5)return!1;var a=La,s=Hy;Hy=0;var c=vo(Oo),p=W.T,_=oe.p;try{oe.p=32>c?32:c,W.T=null,c=$y,$y=null;var w=La,I=Oo;if(un=0,nu=La=null,Oo=0,(lt&6)!==0)throw Error(r(331));var U=lt;if(lt|=4,PA(w.current),CA(w,w.current,I,c),lt=U,af(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(oi,w)}catch{}return!0}finally{oe.p=_,W.T=p,YA(a,s)}}function JA(a,s,c){s=qr(c,s),s=Ty(a.stateNode,s,2),a=Na(a,s,2),a!==null&&(ys(a,2),Xi(a))}function dt(a,s,c){if(a.tag===3)JA(a,a,c);else for(;s!==null;){if(s.tag===3){JA(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ka===null||!ka.has(p))){a=qr(c,a),c=XT(2),p=Na(s,c,2),p!==null&&(QT(c,p,s,a),ys(p,2),Xi(p));break}}s=s.return}}function Jy(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new DU;var _=new Set;p.set(s,_)}else _=p.get(s),_===void 0&&(_=new Set,p.set(s,_));_.has(c)||(qy=!0,_.add(c),a=UU.bind(null,a,s,c),s.then(a,a))}function UU(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,_t===a&&(We&c)===c&&(Lt===4||Lt===3&&(We&62914560)===We&&300>Jn()-Bh?(lt&2)===0&&ru(a,0):Fy|=c,tu===We&&(tu=0)),Xi(a)}function XA(a,s){s===0&&(s=Fd()),a=Ms(a,s),a!==null&&(ys(a,s),Xi(a))}function jU(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),XA(a,c)}function zU(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,_=a.memoizedState;_!==null&&(c=_.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),XA(a,c)}function BU(a,s){return ln(a,s)}var Yh=null,ou=null,Xy=!1,Wh=!1,Qy=!1,Ua=0;function Xi(a){a!==ou&&a.next===null&&(ou===null?Yh=ou=a:ou=ou.next=a),Wh=!0,Xy||(Xy=!0,FU())}function af(a,s){if(!Qy&&Wh){Qy=!0;do for(var c=!1,p=Yh;p!==null;){if(a!==0){var _=p.pendingLanes;if(_===0)var w=0;else{var I=p.suspendedLanes,U=p.pingedLanes;w=(1<<31-Bt(42|a)+1)-1,w&=_&~(I&~U),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,t1(p,w))}else w=We,w=Di(p,p===_t?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||ai(p,w)||(c=!0,t1(p,w));p=p.next}while(c);Qy=!1}}function qU(){QA()}function QA(){Wh=Xy=!1;var a=0;Ua!==0&&ZU()&&(a=Ua);for(var s=Jn(),c=null,p=Yh;p!==null;){var _=p.next,w=ZA(p,s);w===0?(p.next=null,c===null?Yh=_:c.next=_,_===null&&(ou=c)):(c=p,(a!==0||(w&3)!==0)&&(Wh=!0)),p=_}un!==0&&un!==5||af(a),Ua!==0&&(Ua=0)}function ZA(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,_=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var I=31-Bt(w),U=1<<I,K=_[I];K===-1?((U&c)===0||(U&p)!==0)&&(_[I]=Cv(U,s)):K<=s&&(a.expiredLanes|=U),w&=~U}if(s=_t,c=We,c=Di(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(ft===2||ft===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&da(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||ai(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&da(p),vo(c)){case 2:case 8:c=mc;break;case 32:c=ha;break;case 268435456:c=Ud;break;default:c=ha}return p=e1.bind(null,a),c=ln(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&da(p),a.callbackPriority=2,a.callbackNode=null,2}function e1(a,s){if(un!==0&&un!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Kh()&&a.callbackNode!==c)return null;var p=We;return p=Di(a,a===_t?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(kA(a,p,s),ZA(a,Jn()),a.callbackNode!=null&&a.callbackNode===c?e1.bind(null,a):null)}function t1(a,s){if(Kh())return null;kA(a,s,!0)}function FU(){t6(function(){(lt&6)!==0?ln(pc,qU):QA()})}function Zy(){if(Ua===0){var a=Gl;a===0&&(a=Ri,Ri<<=1,(Ri&261888)===0&&(Ri=256)),Ua=a}return Ua}function n1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Nl(""+a)}function r1(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function GU(a,s,c,p,_){if(s==="submit"&&c&&c.stateNode===_){var w=n1((_[pn]||null).action),I=p.submitter;I&&(s=(s=I[pn]||null)?n1(s.formAction):I.getAttribute("formAction"),s!==null&&(w=s,I=null));var U=new Gi("action","action",null,p,_);a.push({event:U,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ua!==0){var K=I?r1(_,I):new FormData(_);by(c,{pending:!0,data:K,method:_.method,action:w},null,K)}}else typeof w=="function"&&(U.preventDefault(),K=I?r1(_,I):new FormData(_),by(c,{pending:!0,data:K,method:_.method,action:w},w,K))},currentTarget:_}]})}}for(var e0=0;e0<Lv.length;e0++){var t0=Lv[e0],HU=t0.toLowerCase(),$U=t0[0].toUpperCase()+t0.slice(1);pi(HU,"on"+$U)}pi(OS,"onAnimationEnd"),pi(kS,"onAnimationIteration"),pi(LS,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(lU,"onTransitionRun"),pi(uU,"onTransitionStart"),pi(cU,"onTransitionCancel"),pi(VS,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sf));function i1(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],_=p.event;p=p.listeners;e:{var w=void 0;if(s)for(var I=p.length-1;0<=I;I--){var U=p[I],K=U.instance,Z=U.currentTarget;if(U=U.listener,K!==w&&_.isPropagationStopped())break e;w=U,_.currentTarget=Z;try{w(_)}catch(se){ch(se)}_.currentTarget=null,w=K}else for(I=0;I<p.length;I++){if(U=p[I],K=U.instance,Z=U.currentTarget,U=U.listener,K!==w&&_.isPropagationStopped())break e;w=U,_.currentTarget=Z;try{w(_)}catch(se){ch(se)}_.currentTarget=null,w=K}}}}function Ye(a,s){var c=s[Sl];c===void 0&&(c=s[Sl]=new Set);var p=a+"__bubble";c.has(p)||(o1(s,a,2,!1),c.add(p))}function n0(a,s,c){var p=0;s&&(p|=4),o1(c,a,p,s)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function r0(a){if(!a[Jh]){a[Jh]=!0,yc.forEach(function(c){c!=="selectionchange"&&(KU.has(c)||n0(c,!1,a),n0(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Jh]||(s[Jh]=!0,n0("selectionchange",!1,s))}}function o1(a,s,c,p){switch(O1(s)){case 2:var _=x6;break;case 8:_=E6;break;default:_=y0}c=_.bind(null,s,c,a),_=void 0,!Ss||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),p?_!==void 0?a.addEventListener(s,c,{capture:!0,passive:_}):a.addEventListener(s,c,!0):_!==void 0?a.addEventListener(s,c,{passive:_}):a.addEventListener(s,c,!1)}function i0(a,s,c,p,_){var w=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var U=p.stateNode.containerInfo;if(U===_)break;if(I===4)for(I=p.return;I!==null;){var K=I.tag;if((K===3||K===4)&&I.stateNode.containerInfo===_)return;I=I.return}for(;U!==null;){if(I=Vi(U),I===null)return;if(K=I.tag,K===5||K===6||K===26||K===27){p=w=I;continue e}U=U.parentNode}}p=p.return}ba(function(){var Z=w,se=Ur(c),fe=[];e:{var ee=US.get(a);if(ee!==void 0){var re=Gi,Ce=a;switch(a){case"keypress":if(As(c)===0)break e;case"keydown":case"keyup":re=sh;break;case"focusin":Ce="focus",re=Is;break;case"focusout":Ce="blur",re=Is;break;case"beforeblur":case"afterblur":re=Is;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=C;break;case OS:case kS:case LS:re=eh;break;case VS:re=z;break;case"scroll":case"scrollend":re=Pc;break;case"wheel":re=ne;break;case"copy":case"cut":case"paste":re=th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=_o;break;case"toggle":case"beforetoggle":re=qe}var Oe=(s&4)!==0,yt=!Oe&&(a==="scroll"||a==="scrollend"),J=Oe?ee!==null?ee+"Capture":null:ee;Oe=[];for(var Y=Z,Q;Y!==null;){var le=Y;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||J===null||(le=ci(Y,J),le!=null&&Oe.push(lf(Y,le,Q))),yt)break;Y=Y.return}0<Oe.length&&(ee=new re(ee,Ce,null,c,se),fe.push({event:ee,listeners:Oe}))}}if((s&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",re=a==="mouseout"||a==="pointerout",ee&&c!==Cc&&(Ce=c.relatedTarget||c.fromElement)&&(Vi(Ce)||Ce[ki]))break e;if((re||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,re?(Ce=c.relatedTarget||c.toElement,re=Z,Ce=Ce?Vi(Ce):null,Ce!==null&&(yt=o(Ce),Oe=Ce.tag,Ce!==yt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ce=null)):(re=null,Ce=Z),re!==Ce)){if(Oe=Rc,le="onMouseLeave",J="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=_o,le="onPointerLeave",J="onPointerEnter",Y="pointer"),yt=re==null?ee:xr(re),Q=Ce==null?ee:xr(Ce),ee=new Oe(le,Y+"leave",re,c,se),ee.target=yt,ee.relatedTarget=Q,le=null,Vi(se)===Z&&(Oe=new Oe(J,Y+"enter",Ce,c,se),Oe.target=Q,Oe.relatedTarget=yt,le=Oe),yt=le,re&&Ce)t:{for(Oe=YU,J=re,Y=Ce,Q=0,le=J;le;le=Oe(le))Q++;le=0;for(var Pe=Y;Pe;Pe=Oe(Pe))le++;for(;0<Q-le;)J=Oe(J),Q--;for(;0<le-Q;)Y=Oe(Y),le--;for(;Q--;){if(J===Y||Y!==null&&J===Y.alternate){Oe=J;break t}J=Oe(J),Y=Oe(Y)}Oe=null}else Oe=null;re!==null&&a1(fe,ee,re,Oe,!1),Ce!==null&&yt!==null&&a1(fe,yt,Ce,Oe,!0)}}e:{if(ee=Z?xr(Z):window,re=ee.nodeName&&ee.nodeName.toLowerCase(),re==="select"||re==="input"&&ee.type==="file")var rt=wS;else if(xS(ee))if(SS)rt=oU;else{rt=rU;var Ie=nU}else re=ee.nodeName,!re||re.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Il(Z.elementType)&&(rt=wS):rt=iU;if(rt&&(rt=rt(a,Z))){ES(fe,rt,c,se);break e}Ie&&Ie(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Sc(ee,"number",ee.value)}switch(Ie=Z?xr(Z):window,a){case"focusin":(xS(Ie)||Ie.contentEditable==="true")&&(Ll=Ie,Dv=Z,Lc=null);break;case"focusout":Lc=Dv=Ll=null;break;case"mousedown":Ov=!0;break;case"contextmenu":case"mouseup":case"dragend":Ov=!1,MS(fe,c,se);break;case"selectionchange":if(sU)break;case"keydown":case"keyup":MS(fe,c,se)}var He;if(st)e:{switch(a){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else kl?Ns(a,c)&&(Je="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Je="onCompositionStart");Je&&(Ki&&c.locale!=="ko"&&(kl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&kl&&(He=Nc()):(Fi=se,Ic="value"in Fi?Fi.value:Fi.textContent,kl=!0)),Ie=Xh(Z,Je),0<Ie.length&&(Je=new $i(Je,a,null,c,se),fe.push({event:Je,listeners:Ie}),He?Je.data=He:(He=Ol(c),He!==null&&(Je.data=He)))),(He=zr?Q3(a,c):Z3(a,c))&&(Je=Xh(Z,"onBeforeInput"),0<Je.length&&(Ie=new $i("onBeforeInput","beforeinput",null,c,se),fe.push({event:Ie,listeners:Je}),Ie.data=He)),GU(fe,a,Z,c,se)}i1(fe,s)})}function lf(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Xh(a,s){for(var c=s+"Capture",p=[];a!==null;){var _=a,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=ci(a,c),_!=null&&p.unshift(lf(a,_,w)),_=ci(a,s),_!=null&&p.push(lf(a,_,w))),a.tag===3)return p;a=a.return}return[]}function YU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function a1(a,s,c,p,_){for(var w=s._reactName,I=[];c!==null&&c!==p;){var U=c,K=U.alternate,Z=U.stateNode;if(U=U.tag,K!==null&&K===p)break;U!==5&&U!==26&&U!==27||Z===null||(K=Z,_?(Z=ci(c,w),Z!=null&&I.unshift(lf(c,Z,K))):_||(Z=ci(c,w),Z!=null&&I.push(lf(c,Z,K)))),c=c.return}I.length!==0&&a.push({event:s,listeners:I})}var WU=/\r\n?/g,JU=/\u0000|\uFFFD/g;function s1(a){return(typeof a=="string"?a:""+a).replace(WU,`
`).replace(JU,"")}function l1(a,s){return s=s1(s),s1(a)===s}function vt(a,s,c,p,_,w){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||ar(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&ar(a,""+p);break;case"className":Er(a,"class",p);break;case"tabIndex":Er(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Er(a,c,p);break;case"style":Ac(a,p,w);break;case"data":if(s!=="object"){Er(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Nl(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(s!=="input"&&vt(a,s,"name",_.name,_,null),vt(a,s,"formEncType",_.formEncType,_,null),vt(a,s,"formMethod",_.formMethod,_,null),vt(a,s,"formTarget",_.formTarget,_,null)):(vt(a,s,"encType",_.encType,_,null),vt(a,s,"method",_.method,_,null),vt(a,s,"target",_.target,_,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=Nl(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=ui);break;case"onScroll":p!=null&&Ye("scroll",a);break;case"onScrollEnd":p!=null&&Ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=Nl(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":Ye("beforetoggle",a),Ye("toggle",a),Al(a,"popover",p);break;case"xlinkActuate":Xt(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Xt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Xt(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Xt(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Xt(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Xt(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Xt(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Xt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Xt(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Al(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Xd.get(c)||c,Al(a,c,p))}}function o0(a,s,c,p,_,w){switch(c){case"style":Ac(a,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?ar(a,p):(typeof p=="number"||typeof p=="bigint")&&ar(a,""+p);break;case"onScroll":p!=null&&Ye("scroll",a);break;case"onScrollEnd":p!=null&&Ye("scrollend",a);break;case"onClick":p!=null&&(a.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(_=c.endsWith("Capture"),s=c.slice(2,_?c.length-7:void 0),w=a[pn]||null,w=w!=null?w[c]:null,typeof w=="function"&&a.removeEventListener(s,w,_),typeof p=="function")){typeof w!="function"&&w!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,_);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):Al(a,c,p)}}}function Rn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",a),Ye("load",a);var p=!1,_=!1,w;for(w in c)if(c.hasOwnProperty(w)){var I=c[w];if(I!=null)switch(w){case"src":p=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:vt(a,s,w,I,c,null)}}_&&vt(a,s,"srcSet",c.srcSet,c,null),p&&vt(a,s,"src",c.src,c,null);return;case"input":Ye("invalid",a);var U=w=I=_=null,K=null,Z=null;for(p in c)if(c.hasOwnProperty(p)){var se=c[p];if(se!=null)switch(p){case"name":_=se;break;case"type":I=se;break;case"checked":K=se;break;case"defaultChecked":Z=se;break;case"value":w=se;break;case"defaultValue":U=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:vt(a,s,p,se,c,null)}}Yd(a,w,U,K,Z,I,_,!1);return;case"select":Ye("invalid",a),p=I=w=null;for(_ in c)if(c.hasOwnProperty(_)&&(U=c[_],U!=null))switch(_){case"value":w=U;break;case"defaultValue":I=U;break;case"multiple":p=U;default:vt(a,s,_,U,c,null)}s=w,c=I,a.multiple=!!p,s!=null?ma(a,!!p,s,!1):c!=null&&ma(a,!!p,c,!0);return;case"textarea":Ye("invalid",a),w=_=p=null;for(I in c)if(c.hasOwnProperty(I)&&(U=c[I],U!=null))switch(I){case"value":p=U;break;case"defaultValue":_=U;break;case"children":w=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:vt(a,s,I,U,c,null)}ga(a,p,_,w);return;case"option":for(K in c)if(c.hasOwnProperty(K)&&(p=c[K],p!=null))switch(K){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:vt(a,s,K,p,c,null)}return;case"dialog":Ye("beforetoggle",a),Ye("toggle",a),Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":Ye("load",a);break;case"video":case"audio":for(p=0;p<sf.length;p++)Ye(sf[p],a);break;case"image":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"embed":case"source":case"link":Ye("error",a),Ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(p=c[Z],p!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:vt(a,s,Z,p,c,null)}return;default:if(Il(s)){for(se in c)c.hasOwnProperty(se)&&(p=c[se],p!==void 0&&o0(a,s,se,p,c,void 0));return}}for(U in c)c.hasOwnProperty(U)&&(p=c[U],p!=null&&vt(a,s,U,p,c,null))}function XU(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,I=null,U=null,K=null,Z=null,se=null;for(re in c){var fe=c[re];if(c.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":K=fe;default:p.hasOwnProperty(re)||vt(a,s,re,null,p,fe)}}for(var ee in p){var re=p[ee];if(fe=c[ee],p.hasOwnProperty(ee)&&(re!=null||fe!=null))switch(ee){case"type":w=re;break;case"name":_=re;break;case"checked":Z=re;break;case"defaultChecked":se=re;break;case"value":I=re;break;case"defaultValue":U=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:re!==fe&&vt(a,s,ee,re,p,fe)}}Cl(a,I,U,K,Z,se,w,_);return;case"select":re=I=U=ee=null;for(w in c)if(K=c[w],c.hasOwnProperty(w)&&K!=null)switch(w){case"value":break;case"multiple":re=K;default:p.hasOwnProperty(w)||vt(a,s,w,null,p,K)}for(_ in p)if(w=p[_],K=c[_],p.hasOwnProperty(_)&&(w!=null||K!=null))switch(_){case"value":ee=w;break;case"defaultValue":U=w;break;case"multiple":I=w;default:w!==K&&vt(a,s,_,w,p,K)}s=U,c=I,p=re,ee!=null?ma(a,!!c,ee,!1):!!p!=!!c&&(s!=null?ma(a,!!c,s,!0):ma(a,!!c,c?[]:"",!1));return;case"textarea":re=ee=null;for(U in c)if(_=c[U],c.hasOwnProperty(U)&&_!=null&&!p.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:vt(a,s,U,null,p,_)}for(I in p)if(_=p[I],w=c[I],p.hasOwnProperty(I)&&(_!=null||w!=null))switch(I){case"value":ee=_;break;case"defaultValue":re=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==w&&vt(a,s,I,_,p,w)}Wd(a,ee,re);return;case"option":for(var Ce in c)if(ee=c[Ce],c.hasOwnProperty(Ce)&&ee!=null&&!p.hasOwnProperty(Ce))switch(Ce){case"selected":a.selected=!1;break;default:vt(a,s,Ce,null,p,ee)}for(K in p)if(ee=p[K],re=c[K],p.hasOwnProperty(K)&&ee!==re&&(ee!=null||re!=null))switch(K){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:vt(a,s,K,ee,p,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)ee=c[Oe],c.hasOwnProperty(Oe)&&ee!=null&&!p.hasOwnProperty(Oe)&&vt(a,s,Oe,null,p,ee);for(Z in p)if(ee=p[Z],re=c[Z],p.hasOwnProperty(Z)&&ee!==re&&(ee!=null||re!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:vt(a,s,Z,ee,p,re)}return;default:if(Il(s)){for(var yt in c)ee=c[yt],c.hasOwnProperty(yt)&&ee!==void 0&&!p.hasOwnProperty(yt)&&o0(a,s,yt,void 0,p,ee);for(se in p)ee=p[se],re=c[se],!p.hasOwnProperty(se)||ee===re||ee===void 0&&re===void 0||o0(a,s,se,ee,p,re);return}}for(var J in c)ee=c[J],c.hasOwnProperty(J)&&ee!=null&&!p.hasOwnProperty(J)&&vt(a,s,J,null,p,ee);for(fe in p)ee=p[fe],re=c[fe],!p.hasOwnProperty(fe)||ee===re||ee==null&&re==null||vt(a,s,fe,ee,p,re)}function u1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var _=c[p],w=_.transferSize,I=_.initiatorType,U=_.duration;if(w&&U&&u1(I)){for(I=0,U=_.responseEnd,p+=1;p<c.length;p++){var K=c[p],Z=K.startTime;if(Z>U)break;var se=K.transferSize,fe=K.initiatorType;se&&u1(fe)&&(K=K.responseEnd,I+=se*(K<U?1:(U-Z)/(K-Z)))}if(--p,s+=8*(w+I)/(_.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var a0=null,s0=null;function Qh(a){return a.nodeType===9?a:a.ownerDocument}function c1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function l0(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var u0=null;function ZU(){var a=window.event;return a&&a.type==="popstate"?a===u0?!1:(u0=a,!0):(u0=null,!1)}var d1=typeof setTimeout=="function"?setTimeout:void 0,e6=typeof clearTimeout=="function"?clearTimeout:void 0,h1=typeof Promise=="function"?Promise:void 0,t6=typeof queueMicrotask=="function"?queueMicrotask:typeof h1<"u"?function(a){return h1.resolve(null).then(a).catch(n6)}:d1;function n6(a){setTimeout(function(){throw a})}function ja(a){return a==="head"}function p1(a,s){var c=s,p=0;do{var _=c.nextSibling;if(a.removeChild(c),_&&_.nodeType===8)if(c=_.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(_),uu(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")uf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,uf(c);for(var w=c.firstChild;w;){var I=w.nextSibling,U=w.nodeName;w[Li]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=I}}else c==="body"&&uf(a.ownerDocument.body);c=_}while(c);uu(s)}function m1(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function c0(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":c0(c),Tl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function r6(a,s,c,p){for(;a.nodeType===1;){var _=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[Li])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=Kr(a.nextSibling),a===null)break}return null}function i6(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Kr(a.nextSibling),a===null))return null;return a}function g1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Kr(a.nextSibling),a===null))return null;return a}function f0(a){return a.data==="$?"||a.data==="$~"}function d0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function o6(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Kr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var h0=null;function v1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Kr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function y1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function b1(a,s,c){switch(s=Qh(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function uf(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Tl(a)}var Yr=new Map,_1=new Set;function Zh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ko=oe.d;oe.d={f:a6,r:s6,D:l6,C:u6,L:c6,m:f6,X:h6,S:d6,M:p6};function a6(){var a=ko.f(),s=Gh();return a||s}function s6(a){var s=Vr(a);s!==null&&s.tag===5&&s.type==="form"?VT(s):ko.r(a)}var au=typeof document>"u"?null:document;function x1(a,s,c){var p=au;if(p&&typeof s=="string"&&s){var _=or(s);_='link[rel="'+a+'"][href="'+_+'"]',typeof c=="string"&&(_+='[crossorigin="'+c+'"]'),_1.has(_)||(_1.add(_),a={rel:a,crossOrigin:c,href:s},p.querySelector(_)===null&&(s=p.createElement("link"),Rn(s,"link",a),Jt(s),p.head.appendChild(s)))}}function l6(a){ko.D(a),x1("dns-prefetch",a,null)}function u6(a,s){ko.C(a,s),x1("preconnect",a,s)}function c6(a,s,c){ko.L(a,s,c);var p=au;if(p&&a&&s){var _='link[rel="preload"][as="'+or(s)+'"]';s==="image"&&c&&c.imageSrcSet?(_+='[imagesrcset="'+or(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(_+='[imagesizes="'+or(c.imageSizes)+'"]')):_+='[href="'+or(a)+'"]';var w=_;switch(s){case"style":w=su(a);break;case"script":w=lu(a)}Yr.has(w)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),Yr.set(w,a),p.querySelector(_)!==null||s==="style"&&p.querySelector(cf(w))||s==="script"&&p.querySelector(ff(w))||(s=p.createElement("link"),Rn(s,"link",a),Jt(s),p.head.appendChild(s)))}}function f6(a,s){ko.m(a,s);var c=au;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+or(p)+'"][href="'+or(a)+'"]',w=_;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=lu(a)}if(!Yr.has(w)&&(a=m({rel:"modulepreload",href:a},s),Yr.set(w,a),c.querySelector(_)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ff(w)))return}p=c.createElement("link"),Rn(p,"link",a),Jt(p),c.head.appendChild(p)}}}function d6(a,s,c){ko.S(a,s,c);var p=au;if(p&&a){var _=Ui(p).hoistableStyles,w=su(a);s=s||"default";var I=_.get(w);if(!I){var U={loading:0,preload:null};if(I=p.querySelector(cf(w)))U.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=Yr.get(w))&&p0(a,c);var K=I=p.createElement("link");Jt(K),Rn(K,"link",a),K._p=new Promise(function(Z,se){K.onload=Z,K.onerror=se}),K.addEventListener("load",function(){U.loading|=1}),K.addEventListener("error",function(){U.loading|=2}),U.loading|=4,ep(I,s,p)}I={type:"stylesheet",instance:I,count:1,state:U},_.set(w,I)}}}function h6(a,s){ko.X(a,s);var c=au;if(c&&a){var p=Ui(c).hoistableScripts,_=lu(a),w=p.get(_);w||(w=c.querySelector(ff(_)),w||(a=m({src:a,async:!0},s),(s=Yr.get(_))&&m0(a,s),w=c.createElement("script"),Jt(w),Rn(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(_,w))}}function p6(a,s){ko.M(a,s);var c=au;if(c&&a){var p=Ui(c).hoistableScripts,_=lu(a),w=p.get(_);w||(w=c.querySelector(ff(_)),w||(a=m({src:a,async:!0,type:"module"},s),(s=Yr.get(_))&&m0(a,s),w=c.createElement("script"),Jt(w),Rn(w,"link",a),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(_,w))}}function E1(a,s,c,p){var _=(_=Me.current)?Zh(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=su(c.href),c=Ui(_).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=su(c.href);var w=Ui(_).hoistableStyles,I=w.get(a);if(I||(_=_.ownerDocument||_,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,I),(w=_.querySelector(cf(a)))&&!w._p&&(I.instance=w,I.state.loading=5),Yr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Yr.set(a,c),w||m6(_,a,c,I.state))),s&&p===null)throw Error(r(528,""));return I}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lu(c),c=Ui(_).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function su(a){return'href="'+or(a)+'"'}function cf(a){return'link[rel="stylesheet"]['+a+"]"}function w1(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function m6(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),Rn(s,"link",c),Jt(s),a.head.appendChild(s))}function lu(a){return'[src="'+or(a)+'"]'}function ff(a){return"script[async]"+a}function S1(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+or(c.href)+'"]');if(p)return s.instance=p,Jt(p),p;var _=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Jt(p),Rn(p,"style",_),ep(p,c.precedence,a),s.instance=p;case"stylesheet":_=su(c.href);var w=a.querySelector(cf(_));if(w)return s.state.loading|=4,s.instance=w,Jt(w),w;p=w1(c),(_=Yr.get(_))&&p0(p,_),w=(a.ownerDocument||a).createElement("link"),Jt(w);var I=w;return I._p=new Promise(function(U,K){I.onload=U,I.onerror=K}),Rn(w,"link",p),s.state.loading|=4,ep(w,c.precedence,a),s.instance=w;case"script":return w=lu(c.src),(_=a.querySelector(ff(w)))?(s.instance=_,Jt(_),_):(p=c,(_=Yr.get(w))&&(p=m({},c),m0(p,_)),a=a.ownerDocument||a,_=a.createElement("script"),Jt(_),Rn(_,"link",p),a.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,ep(p,c.precedence,a));return s.instance}function ep(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=p.length?p[p.length-1]:null,w=_,I=0;I<p.length;I++){var U=p[I];if(U.dataset.precedence===s)w=U;else if(w!==_)break}w?w.parentNode.insertBefore(a,w.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function p0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function m0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var tp=null;function T1(a,s,c){if(tp===null){var p=new Map,_=tp=new Map;_.set(c,p)}else _=tp,p=_.get(c),p||(p=new Map,_.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),_=0;_<c.length;_++){var w=c[_];if(!(w[Li]||w[Wt]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var I=w.getAttribute(s)||"";I=a+I;var U=p.get(I);U?U.push(w):p.set(I,[w])}}return p}function A1(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function g6(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function C1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function v6(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var _=su(p.href),w=s.querySelector(cf(_));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=np.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=w,Jt(w);return}w=s.ownerDocument||s,p=w1(p),(_=Yr.get(_))&&p0(p,_),w=w.createElement("link"),Jt(w);var I=w;I._p=new Promise(function(U,K){I.onload=U,I.onerror=K}),Rn(w,"link",p),c.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=np.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var g0=0;function y6(a,s){return a.stylesheets&&a.count===0&&ip(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&ip(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+s);0<a.imgBytes&&g0===0&&(g0=62500*QU());var _=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ip(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>g0?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(_)}}:null}function np(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ip(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var rp=null;function ip(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,rp=new Map,s.forEach(b6,a),rp=null,np.call(a))}function b6(a,s){if(!(s.state.loading&4)){var c=rp.get(a);if(c)var p=c.get(null);else{c=new Map,rp.set(a,c);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var I=_[w];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),p=I)}p&&c.set(null,p)}_=s.instance,I=_.getAttribute("data-precedence"),w=c.get(I)||p,w===p&&c.set(null,_),c.set(I,_),this.count++,p=np.bind(this),_.addEventListener("load",p),_.addEventListener("error",p),w?w.parentNode.insertBefore(_,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),s.state.loading|=4}}var df={$$typeof:L,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function _6(a,s,c,p,_,w,I,U,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=p,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function I1(a,s,c,p,_,w,I,U,K,Z,se,fe){return a=new _6(a,s,c,I,K,Z,se,fe,U),s=1,w===!0&&(s|=24),w=Sr(3,null,null,s),a.current=w,w.stateNode=a,s=Wv(),s.refCount++,a.pooledCache=s,s.refCount++,w.memoizedState={element:p,isDehydrated:c,cache:s},Zv(w),a}function N1(a){return a?(a=jl,a):jl}function P1(a,s,c,p,_,w){_=N1(_),p.context===null?p.context=_:p.pendingContext=_,p=Ia(s),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=Na(a,p,s),c!==null&&(fr(c,a,s),Fc(c,a,s))}function R1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function v0(a,s){R1(a,s),(a=a.alternate)&&R1(a,s)}function M1(a){if(a.tag===13||a.tag===31){var s=Ms(a,67108864);s!==null&&fr(s,a,67108864),v0(a,67108864)}}function D1(a){if(a.tag===13||a.tag===31){var s=Nr();s=_s(s);var c=Ms(a,s);c!==null&&fr(c,a,s),v0(a,s)}}var op=!0;function x6(a,s,c,p){var _=W.T;W.T=null;var w=oe.p;try{oe.p=2,y0(a,s,c,p)}finally{oe.p=w,W.T=_}}function E6(a,s,c,p){var _=W.T;W.T=null;var w=oe.p;try{oe.p=8,y0(a,s,c,p)}finally{oe.p=w,W.T=_}}function y0(a,s,c,p){if(op){var _=b0(p);if(_===null)i0(a,s,p,ap,c),k1(a,p);else if(S6(_,a,s,c,p))p.stopPropagation();else if(k1(a,p),s&4&&-1<w6.indexOf(a)){for(;_!==null;){var w=Vr(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var I=Mi(w.pendingLanes);if(I!==0){var U=w;for(U.pendingLanes|=2,U.entangledLanes|=2;I;){var K=1<<31-Bt(I);U.entanglements[1]|=K,I&=~K}Xi(w),(lt&6)===0&&(qh=Jn()+500,af(0))}}break;case 31:case 13:U=Ms(w,2),U!==null&&fr(U,w,2),Gh(),v0(w,2)}if(w=b0(p),w===null&&i0(a,s,p,ap,c),w===_)break;_=w}_!==null&&p.stopPropagation()}else i0(a,s,p,null,c)}}function b0(a){return a=Ur(a),_0(a)}var ap=null;function _0(a){if(ap=null,a=Vi(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return ap=a,null}function O1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case pc:return 2;case mc:return 8;case ha:case Av:return 32;case Ud:return 268435456;default:return 32}default:return 32}}var x0=!1,za=null,Ba=null,qa=null,hf=new Map,pf=new Map,Fa=[],w6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k1(a,s){switch(a){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":hf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(s.pointerId)}}function mf(a,s,c,p,_,w){return a===null||a.nativeEvent!==w?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[_]},s!==null&&(s=Vr(s),s!==null&&M1(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),a)}function S6(a,s,c,p,_){switch(s){case"focusin":return za=mf(za,a,s,c,p,_),!0;case"dragenter":return Ba=mf(Ba,a,s,c,p,_),!0;case"mouseover":return qa=mf(qa,a,s,c,p,_),!0;case"pointerover":var w=_.pointerId;return hf.set(w,mf(hf.get(w)||null,a,s,c,p,_)),!0;case"gotpointercapture":return w=_.pointerId,pf.set(w,mf(pf.get(w)||null,a,s,c,p,_)),!0}return!1}function L1(a){var s=Vi(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,si(a.priority,function(){D1(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,si(a.priority,function(){D1(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function sp(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=b0(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);Cc=p,c.target.dispatchEvent(p),Cc=null}else return s=Vr(c),s!==null&&M1(s),a.blockedOn=c,!1;s.shift()}return!0}function V1(a,s,c){sp(a)&&c.delete(s)}function T6(){x0=!1,za!==null&&sp(za)&&(za=null),Ba!==null&&sp(Ba)&&(Ba=null),qa!==null&&sp(qa)&&(qa=null),hf.forEach(V1),pf.forEach(V1)}function lp(a,s){a.blockedOn===s&&(a.blockedOn=null,x0||(x0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,T6)))}var up=null;function U1(a){up!==a&&(up=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){up===a&&(up=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],_=a[s+2];if(typeof p!="function"){if(_0(p||c)===null)continue;break}var w=Vr(c);w!==null&&(a.splice(s,3),s-=3,by(w,{pending:!0,data:_,method:c.method,action:p},p,_))}}))}function uu(a){function s(K){return lp(K,a)}za!==null&&lp(za,a),Ba!==null&&lp(Ba,a),qa!==null&&lp(qa,a),hf.forEach(s),pf.forEach(s);for(var c=0;c<Fa.length;c++){var p=Fa[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Fa.length&&(c=Fa[0],c.blockedOn===null);)L1(c),c.blockedOn===null&&Fa.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var _=c[p],w=c[p+1],I=_[pn]||null;if(typeof w=="function")I||U1(c);else if(I){var U=null;if(w&&w.hasAttribute("formAction")){if(_=w,I=w[pn]||null)U=I.formAction;else if(_0(_)!==null)continue}else U=I.action;typeof U=="function"?c[p+1]=U:(c.splice(p,3),p-=3),U1(c)}}}function j1(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(I){return _=I})},focusReset:"manual",scroll:"manual"})}function s(){_!==null&&(_(),_=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,_=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),_!==null&&(_(),_=null)}}}function E0(a){this._internalRoot=a}cp.prototype.render=E0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Nr();P1(c,p,a,s,null,null)},cp.prototype.unmount=E0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;P1(a.current,2,null,a,null,null),Gh(),s[ki]=null}};function cp(a){this._internalRoot=a}cp.prototype.unstable_scheduleHydration=function(a){if(a){var s=Gd();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Fa.length&&s!==0&&s<Fa[c].priority;c++);Fa.splice(c,0,a),c===0&&L1(a)}};var z1=e.version;if(z1!=="19.2.3")throw Error(r(527,z1,"19.2.3"));oe.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var A6={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fp.isDisabled&&fp.supportsFiber)try{oi=fp.inject(A6),An=fp}catch{}}return vf.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",_=KT,w=YT,I=WT;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=I1(a,1,!1,null,null,c,p,null,_,w,I,j1),a[ki]=s.current,r0(a),new E0(s)},vf.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,_="",w=KT,I=YT,U=WT,K=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.formState!==void 0&&(K=c.formState)),s=I1(a,1,!0,s,c??null,p,_,K,w,I,U,j1),s.context=N1(null),c=s.current,p=Nr(),p=_s(p),_=Ia(p),_.callback=null,Na(c,_,p),c=p,s.current.lanes=c,ys(s,c),Xi(s),a[ki]=s.current,r0(a),new cp(s)},vf.version="19.2.3",vf}var J1;function j6(){if(J1)return A0.exports;J1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),A0.exports=U6(),A0.exports}var z6=j6();const B6=ea(z6),rs={"2":{id:"2",name:"2 of Spades",minPoints:0,maxPoints:199,tier:"Prospect",permissions:["view","vote"],voteWeight:1},"3":{id:"3",name:"3 of Spades",minPoints:200,maxPoints:499,tier:"Initiate",permissions:["view","vote","post","comment"],voteWeight:1},"4":{id:"4",name:"4 of Spades",minPoints:500,maxPoints:999,tier:"Member",permissions:["view","vote","post","comment"],voteWeight:1},"5":{id:"5",name:"5 of Spades",minPoints:1e3,maxPoints:2499,tier:"Active",permissions:["view","vote","post","comment"],voteWeight:1},"6":{id:"6",name:"6 of Spades",minPoints:2500,maxPoints:4999,tier:"Contributor",permissions:["view","vote","post","comment","createPoll","award"],voteWeight:2},"7":{id:"7",name:"7 of Spades",minPoints:5e3,maxPoints:7999,tier:"Collaborator",permissions:["view","vote","post","comment","createPoll","award"],voteWeight:2},"8":{id:"8",name:"8 of Spades",minPoints:8e3,maxPoints:11999,tier:"Advocate",permissions:["view","vote","post","comment","createPoll","award"],voteWeight:2},"9":{id:"9",name:"9 of Spades",minPoints:12e3,maxPoints:17999,tier:"Scholar",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","communityHub"],voteWeight:5},"10":{id:"10",name:"10 of Spades",minPoints:18e3,maxPoints:24999,tier:"Architect",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","communityHub"],voteWeight:5},"J":{id:"J",name:"Jack of Spades",minPoints:25e3,maxPoints:34999,tier:"Voice",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","communityHub","instantPost","nominate"],voteWeight:10},"Q":{id:"Q",name:"Queen of Spades",minPoints:35e3,maxPoints:49999,tier:"Advisor",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","communityHub","instantPost","nominate","moderate","messageCouncil"],voteWeight:25},"K":{id:"K",name:"King of Spades",minPoints:5e4,maxPoints:74999,tier:"Council",permissions:["view","vote","post","comment","createPoll","award","submitPolicy","communityHub","instantPost","nominate","moderate","messageCouncil","messageAce","createChallenge","finalModeration"],voteWeight:50},"A":{id:"A",name:"Ace of Spades",minPoints:75e3,maxPoints:9999999,tier:"System Ace",permissions:["all"],voteWeight:100}},dr={SPADE_TO_POINT_CONVERSION:5e3,POINT_TO_SPADE_CONVERSION:1e4,STREAK_FREEZE_POINT_COST:5e3,MAX_STREAK_FREEZES:2},nm={POST:5,VOTE_ACTION:10,FOCUS_MINUTE:2},q6=()=>{};var X1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},bD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=o>>2,m=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;f||(E=64,l||(v=64)),r.push(n[h],n[m],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||m==null)throw new G6;const v=o<<2|u>>4;if(r.push(v),d!==64){const E=u<<4&240|d>>2;if(r.push(E),m!==64){const S=d<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H6=function(t){const e=yD(t);return bD.encodeByteArray(e,!0)},rm=function(t){return H6(t).replace(/\./g,"")},$6=function(t){try{return bD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=()=>K6().__FIREBASE_DEFAULTS__,W6=()=>{if(typeof process>"u"||typeof X1>"u")return;const t=X1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},J6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$6(t[1]);return e&&JSON.parse(e)},eE=()=>{try{return q6()||Y6()||W6()||J6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},X6=t=>{var e,n;return(n=(e=eE())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Q6=t=>{const e=X6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_D=()=>{var t;return(t=eE())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ej(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rm(JSON.stringify(n)),rm(JSON.stringify(l)),""].join(".")}const Vf={};function nj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vf))Vf[e]?t.emulator.push(e):t.prod.push(e);return t}function rj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q1=!1;function ij(t,e){if(typeof window>"u"||typeof document>"u"||!tE(window.location.host)||Vf[t]===e||Vf[t]||Q1)return;Vf[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=nj().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Q1=!0,l()},v}function h(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=rj(r),E=n("text"),S=document.getElementById(E)||document.createElement("span"),A=n("learnmore"),T=document.getElementById(A)||document.createElement("a"),R=n("preprendIcon"),j=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;u(L),h(T,A);const B=d();f(j,R),L.append(j,S,T,B),document.body.appendChild(L)}o?(S.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aj(){var e;const t=(e=eE())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sj(){return!aj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lj(){try{return typeof indexedDB=="object"}catch{return!1}}function uj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="FirebaseError";class Yu extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cj,Object.setPrototypeOf(this,Yu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xD.prototype.create)}}class xD{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?fj(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Yu(i,u,r)}}function fj(t,e){return t.replace(dj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dj=/\{\$([^}]+)}/g;function im(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(Z1(o)&&Z1(l)){if(!im(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t){return t&&t._delegate?t._delegate:t}class Ff{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mj(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pj(t){return t===$s?void 0:t}function mj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const vj={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},yj=nt.INFO,bj={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},_j=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ED{constructor(e){this.name=e,this._logLevel=yj,this._logHandler=_j,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const xj=(t,e)=>e.some(n=>t instanceof n);let eC,tC;function Ej(){return eC||(eC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wj(){return tC||(tC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wD=new WeakMap,E_=new WeakMap,SD=new WeakMap,P0=new WeakMap,nE=new WeakMap;function Sj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Xa(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&wD.set(n,t)}).catch(()=>{}),nE.set(e,t),e}function Tj(t){if(E_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});E_.set(t,e)}let w_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Aj(t){w_=t(w_)}function Cj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(R0(this),e,...n);return SD.set(r,e.sort?e.sort():[e]),Xa(r)}:wj().includes(t)?function(...e){return t.apply(R0(this),e),Xa(wD.get(this))}:function(...e){return Xa(t.apply(R0(this),e))}}function Ij(t){return typeof t=="function"?Cj(t):(t instanceof IDBTransaction&&Tj(t),xj(t,Ej())?new Proxy(t,w_):t)}function Xa(t){if(t instanceof IDBRequest)return Sj(t);if(P0.has(t))return P0.get(t);const e=Ij(t);return e!==t&&(P0.set(t,e),nE.set(e,t)),e}const R0=t=>nE.get(t);function Nj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=Xa(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Xa(l.result),f.oldVersion,f.newVersion,Xa(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Pj=["get","getKey","getAll","getAllKeys","count"],Rj=["put","add","delete","clear"],M0=new Map;function nC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(M0.get(e))return M0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Rj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Pj.includes(n)))return;const o=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return M0.set(e,o),o}Aj(t=>({...t,get:(e,n,r)=>nC(e,n)||t.get(e,n,r),has:(e,n)=>!!nC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const S_="@firebase/app",rC="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new ED("@firebase/app"),Oj="@firebase/app-compat",kj="@firebase/analytics-compat",Lj="@firebase/analytics",Vj="@firebase/app-check-compat",Uj="@firebase/app-check",jj="@firebase/auth",zj="@firebase/auth-compat",Bj="@firebase/database",qj="@firebase/data-connect",Fj="@firebase/database-compat",Gj="@firebase/functions",Hj="@firebase/functions-compat",$j="@firebase/installations",Kj="@firebase/installations-compat",Yj="@firebase/messaging",Wj="@firebase/messaging-compat",Jj="@firebase/performance",Xj="@firebase/performance-compat",Qj="@firebase/remote-config",Zj="@firebase/remote-config-compat",ez="@firebase/storage",tz="@firebase/storage-compat",nz="@firebase/firestore",rz="@firebase/ai",iz="@firebase/firestore-compat",oz="firebase",az="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="[DEFAULT]",sz={[S_]:"fire-core",[Oj]:"fire-core-compat",[Lj]:"fire-analytics",[kj]:"fire-analytics-compat",[Uj]:"fire-app-check",[Vj]:"fire-app-check-compat",[jj]:"fire-auth",[zj]:"fire-auth-compat",[Bj]:"fire-rtdb",[qj]:"fire-data-connect",[Fj]:"fire-rtdb-compat",[Gj]:"fire-fn",[Hj]:"fire-fn-compat",[$j]:"fire-iid",[Kj]:"fire-iid-compat",[Yj]:"fire-fcm",[Wj]:"fire-fcm-compat",[Jj]:"fire-perf",[Xj]:"fire-perf-compat",[Qj]:"fire-rc",[Zj]:"fire-rc-compat",[ez]:"fire-gcs",[tz]:"fire-gcs-compat",[nz]:"fire-fst",[iz]:"fire-fst-compat",[rz]:"fire-vertex","fire-js":"fire-js",[oz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Map,lz=new Map,A_=new Map;function iC(t,e){try{t.container.addComponent(e)}catch(n){Go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function am(t){const e=t.name;if(A_.has(e))return Go.debug(`There were multiple attempts to register component ${e}.`),!1;A_.set(e,t);for(const n of om.values())iC(n,t);for(const n of lz.values())iC(n,t);return!0}function uz(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cz(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new xD("app","Firebase",fz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ff("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=az;function TD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:T_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=_D()),!n)throw Qa.create("no-options");const o=om.get(i);if(o){if(im(n,o.options)&&im(r,o.config))return o;throw Qa.create("duplicate-app",{appName:i})}const l=new gj(i);for(const f of A_.values())l.addComponent(f);const u=new dz(n,r,l);return om.set(i,u),u}function pz(t=T_){const e=om.get(t);if(!e&&t===T_&&_D())return TD();if(!e)throw Qa.create("no-app",{appName:t});return e}function Cu(t,e,n){let r=sz[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Go.warn(l.join(" "));return}am(new Ff(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="firebase-heartbeat-database",gz=1,Gf="firebase-heartbeat-store";let D0=null;function AD(){return D0||(D0=Nj(mz,gz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),D0}async function vz(t){try{const n=(await AD()).transaction(Gf),r=await n.objectStore(Gf).get(CD(t));return await n.done,r}catch(e){if(e instanceof Yu)Go.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Go.warn(n.message)}}}async function oC(t,e){try{const r=(await AD()).transaction(Gf,"readwrite");await r.objectStore(Gf).put(e,CD(t)),await r.done}catch(n){if(n instanceof Yu)Go.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Go.warn(r.message)}}}function CD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=1024,bz=30;class _z{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ez(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>bz){const l=wz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Go.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aC(),{heartbeatsToSend:r,unsentEntries:i}=xz(this._heartbeatsCache.heartbeats),o=rm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Go.warn(n),""}}}function aC(){return new Date().toISOString().substring(0,10)}function xz(t,e=yz){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),sC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ez{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lj()?uj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vz(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sC(t){return rm(JSON.stringify({version:2,heartbeats:t})).length}function wz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){am(new Ff("platform-logger",e=>new Mj(e),"PRIVATE")),am(new Ff("heartbeat",e=>new _z(e),"PRIVATE")),Cu(S_,rC,t),Cu(S_,rC,"esm2020"),Cu("fire-js","")}Sz("");var Tz="firebase",Az="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cu(Tz,Az,"app");var lC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Za,ID;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,O){function k(){}k.prototype=O.prototype,D.F=O.prototype,D.prototype=new k,D.prototype.constructor=D,D.D=function(G,q,M){for(var V=Array(arguments.length-2),de=2;de<arguments.length;de++)V[de-2]=arguments[de];return O.prototype[q].apply(G,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,O,k){k||(k=0);const G=Array(16);if(typeof O=="string")for(var q=0;q<16;++q)G[q]=O.charCodeAt(k++)|O.charCodeAt(k++)<<8|O.charCodeAt(k++)<<16|O.charCodeAt(k++)<<24;else for(q=0;q<16;++q)G[q]=O[k++]|O[k++]<<8|O[k++]<<16|O[k++]<<24;O=D.g[0],k=D.g[1],q=D.g[2];let M=D.g[3],V;V=O+(M^k&(q^M))+G[0]+3614090360&4294967295,O=k+(V<<7&4294967295|V>>>25),V=M+(q^O&(k^q))+G[1]+3905402710&4294967295,M=O+(V<<12&4294967295|V>>>20),V=q+(k^M&(O^k))+G[2]+606105819&4294967295,q=M+(V<<17&4294967295|V>>>15),V=k+(O^q&(M^O))+G[3]+3250441966&4294967295,k=q+(V<<22&4294967295|V>>>10),V=O+(M^k&(q^M))+G[4]+4118548399&4294967295,O=k+(V<<7&4294967295|V>>>25),V=M+(q^O&(k^q))+G[5]+1200080426&4294967295,M=O+(V<<12&4294967295|V>>>20),V=q+(k^M&(O^k))+G[6]+2821735955&4294967295,q=M+(V<<17&4294967295|V>>>15),V=k+(O^q&(M^O))+G[7]+4249261313&4294967295,k=q+(V<<22&4294967295|V>>>10),V=O+(M^k&(q^M))+G[8]+1770035416&4294967295,O=k+(V<<7&4294967295|V>>>25),V=M+(q^O&(k^q))+G[9]+2336552879&4294967295,M=O+(V<<12&4294967295|V>>>20),V=q+(k^M&(O^k))+G[10]+4294925233&4294967295,q=M+(V<<17&4294967295|V>>>15),V=k+(O^q&(M^O))+G[11]+2304563134&4294967295,k=q+(V<<22&4294967295|V>>>10),V=O+(M^k&(q^M))+G[12]+1804603682&4294967295,O=k+(V<<7&4294967295|V>>>25),V=M+(q^O&(k^q))+G[13]+4254626195&4294967295,M=O+(V<<12&4294967295|V>>>20),V=q+(k^M&(O^k))+G[14]+2792965006&4294967295,q=M+(V<<17&4294967295|V>>>15),V=k+(O^q&(M^O))+G[15]+1236535329&4294967295,k=q+(V<<22&4294967295|V>>>10),V=O+(q^M&(k^q))+G[1]+4129170786&4294967295,O=k+(V<<5&4294967295|V>>>27),V=M+(k^q&(O^k))+G[6]+3225465664&4294967295,M=O+(V<<9&4294967295|V>>>23),V=q+(O^k&(M^O))+G[11]+643717713&4294967295,q=M+(V<<14&4294967295|V>>>18),V=k+(M^O&(q^M))+G[0]+3921069994&4294967295,k=q+(V<<20&4294967295|V>>>12),V=O+(q^M&(k^q))+G[5]+3593408605&4294967295,O=k+(V<<5&4294967295|V>>>27),V=M+(k^q&(O^k))+G[10]+38016083&4294967295,M=O+(V<<9&4294967295|V>>>23),V=q+(O^k&(M^O))+G[15]+3634488961&4294967295,q=M+(V<<14&4294967295|V>>>18),V=k+(M^O&(q^M))+G[4]+3889429448&4294967295,k=q+(V<<20&4294967295|V>>>12),V=O+(q^M&(k^q))+G[9]+568446438&4294967295,O=k+(V<<5&4294967295|V>>>27),V=M+(k^q&(O^k))+G[14]+3275163606&4294967295,M=O+(V<<9&4294967295|V>>>23),V=q+(O^k&(M^O))+G[3]+4107603335&4294967295,q=M+(V<<14&4294967295|V>>>18),V=k+(M^O&(q^M))+G[8]+1163531501&4294967295,k=q+(V<<20&4294967295|V>>>12),V=O+(q^M&(k^q))+G[13]+2850285829&4294967295,O=k+(V<<5&4294967295|V>>>27),V=M+(k^q&(O^k))+G[2]+4243563512&4294967295,M=O+(V<<9&4294967295|V>>>23),V=q+(O^k&(M^O))+G[7]+1735328473&4294967295,q=M+(V<<14&4294967295|V>>>18),V=k+(M^O&(q^M))+G[12]+2368359562&4294967295,k=q+(V<<20&4294967295|V>>>12),V=O+(k^q^M)+G[5]+4294588738&4294967295,O=k+(V<<4&4294967295|V>>>28),V=M+(O^k^q)+G[8]+2272392833&4294967295,M=O+(V<<11&4294967295|V>>>21),V=q+(M^O^k)+G[11]+1839030562&4294967295,q=M+(V<<16&4294967295|V>>>16),V=k+(q^M^O)+G[14]+4259657740&4294967295,k=q+(V<<23&4294967295|V>>>9),V=O+(k^q^M)+G[1]+2763975236&4294967295,O=k+(V<<4&4294967295|V>>>28),V=M+(O^k^q)+G[4]+1272893353&4294967295,M=O+(V<<11&4294967295|V>>>21),V=q+(M^O^k)+G[7]+4139469664&4294967295,q=M+(V<<16&4294967295|V>>>16),V=k+(q^M^O)+G[10]+3200236656&4294967295,k=q+(V<<23&4294967295|V>>>9),V=O+(k^q^M)+G[13]+681279174&4294967295,O=k+(V<<4&4294967295|V>>>28),V=M+(O^k^q)+G[0]+3936430074&4294967295,M=O+(V<<11&4294967295|V>>>21),V=q+(M^O^k)+G[3]+3572445317&4294967295,q=M+(V<<16&4294967295|V>>>16),V=k+(q^M^O)+G[6]+76029189&4294967295,k=q+(V<<23&4294967295|V>>>9),V=O+(k^q^M)+G[9]+3654602809&4294967295,O=k+(V<<4&4294967295|V>>>28),V=M+(O^k^q)+G[12]+3873151461&4294967295,M=O+(V<<11&4294967295|V>>>21),V=q+(M^O^k)+G[15]+530742520&4294967295,q=M+(V<<16&4294967295|V>>>16),V=k+(q^M^O)+G[2]+3299628645&4294967295,k=q+(V<<23&4294967295|V>>>9),V=O+(q^(k|~M))+G[0]+4096336452&4294967295,O=k+(V<<6&4294967295|V>>>26),V=M+(k^(O|~q))+G[7]+1126891415&4294967295,M=O+(V<<10&4294967295|V>>>22),V=q+(O^(M|~k))+G[14]+2878612391&4294967295,q=M+(V<<15&4294967295|V>>>17),V=k+(M^(q|~O))+G[5]+4237533241&4294967295,k=q+(V<<21&4294967295|V>>>11),V=O+(q^(k|~M))+G[12]+1700485571&4294967295,O=k+(V<<6&4294967295|V>>>26),V=M+(k^(O|~q))+G[3]+2399980690&4294967295,M=O+(V<<10&4294967295|V>>>22),V=q+(O^(M|~k))+G[10]+4293915773&4294967295,q=M+(V<<15&4294967295|V>>>17),V=k+(M^(q|~O))+G[1]+2240044497&4294967295,k=q+(V<<21&4294967295|V>>>11),V=O+(q^(k|~M))+G[8]+1873313359&4294967295,O=k+(V<<6&4294967295|V>>>26),V=M+(k^(O|~q))+G[15]+4264355552&4294967295,M=O+(V<<10&4294967295|V>>>22),V=q+(O^(M|~k))+G[6]+2734768916&4294967295,q=M+(V<<15&4294967295|V>>>17),V=k+(M^(q|~O))+G[13]+1309151649&4294967295,k=q+(V<<21&4294967295|V>>>11),V=O+(q^(k|~M))+G[4]+4149444226&4294967295,O=k+(V<<6&4294967295|V>>>26),V=M+(k^(O|~q))+G[11]+3174756917&4294967295,M=O+(V<<10&4294967295|V>>>22),V=q+(O^(M|~k))+G[2]+718787259&4294967295,q=M+(V<<15&4294967295|V>>>17),V=k+(M^(q|~O))+G[9]+3951481745&4294967295,D.g[0]=D.g[0]+O&4294967295,D.g[1]=D.g[1]+(q+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+q&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.v=function(D,O){O===void 0&&(O=D.length);const k=O-this.blockSize,G=this.C;let q=this.h,M=0;for(;M<O;){if(q==0)for(;M<=k;)i(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<O;)if(G[q++]=D.charCodeAt(M++),q==this.blockSize){i(this,G),q=0;break}}else for(;M<O;)if(G[q++]=D[M++],q==this.blockSize){i(this,G),q=0;break}}this.h=q,this.o+=O},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var O=1;O<D.length-8;++O)D[O]=0;O=this.o*8;for(var k=D.length-8;k<D.length;++k)D[k]=O&255,O/=256;for(this.v(D),D=Array(16),O=0,k=0;k<4;++k)for(let G=0;G<32;G+=8)D[O++]=this.g[k]>>>G&255;return D};function o(D,O){var k=u;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=O(D)}function l(D,O){this.h=O;const k=[];let G=!0;for(let q=D.length-1;q>=0;q--){const M=D[q]|0;G&&M==O||(k[q]=M,G=!1)}this.g=k}var u={};function f(D){return-128<=D&&D<128?o(D,function(O){return new l([O|0],O<0?-1:0)}):new l([D|0],D<0?-1:0)}function d(D){if(isNaN(D)||!isFinite(D))return m;if(D<0)return T(d(-D));const O=[];let k=1;for(let G=0;D>=k;G++)O[G]=D/k|0,k*=4294967296;return new l(O,0)}function h(D,O){if(D.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(D.charAt(0)=="-")return T(h(D.substring(1),O));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=d(Math.pow(O,8));let G=m;for(let M=0;M<D.length;M+=8){var q=Math.min(8,D.length-M);const V=parseInt(D.substring(M,M+q),O);q<8?(q=d(Math.pow(O,q)),G=G.j(q).add(d(V))):(G=G.j(k),G=G.add(d(V)))}return G}var m=f(0),v=f(1),E=f(16777216);t=l.prototype,t.m=function(){if(A(this))return-T(this).m();let D=0,O=1;for(let k=0;k<this.g.length;k++){const G=this.i(k);D+=(G>=0?G:4294967296+G)*O,O*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(A(this))return"-"+T(this).toString(D);const O=d(Math.pow(D,6));var k=this;let G="";for(;;){const q=B(k,O).g;k=R(k,q.j(O));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(D);if(k=q,S(k))return M+G;for(;M.length<6;)M="0"+M;G=M+G}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(let O=0;O<D.g.length;O++)if(D.g[O]!=0)return!1;return!0}function A(D){return D.h==-1}t.l=function(D){return D=R(this,D),A(D)?-1:S(D)?0:1};function T(D){const O=D.g.length,k=[];for(let G=0;G<O;G++)k[G]=~D.g[G];return new l(k,~D.h).add(v)}t.abs=function(){return A(this)?T(this):this},t.add=function(D){const O=Math.max(this.g.length,D.g.length),k=[];let G=0;for(let q=0;q<=O;q++){let M=G+(this.i(q)&65535)+(D.i(q)&65535),V=(M>>>16)+(this.i(q)>>>16)+(D.i(q)>>>16);G=V>>>16,M&=65535,V&=65535,k[q]=V<<16|M}return new l(k,k[k.length-1]&-2147483648?-1:0)};function R(D,O){return D.add(T(O))}t.j=function(D){if(S(this)||S(D))return m;if(A(this))return A(D)?T(this).j(T(D)):T(T(this).j(D));if(A(D))return T(this.j(T(D)));if(this.l(E)<0&&D.l(E)<0)return d(this.m()*D.m());const O=this.g.length+D.g.length,k=[];for(var G=0;G<2*O;G++)k[G]=0;for(G=0;G<this.g.length;G++)for(let q=0;q<D.g.length;q++){const M=this.i(G)>>>16,V=this.i(G)&65535,de=D.i(q)>>>16,ye=D.i(q)&65535;k[2*G+2*q]+=V*ye,j(k,2*G+2*q),k[2*G+2*q+1]+=M*ye,j(k,2*G+2*q+1),k[2*G+2*q+1]+=V*de,j(k,2*G+2*q+1),k[2*G+2*q+2]+=M*de,j(k,2*G+2*q+2)}for(D=0;D<O;D++)k[D]=k[2*D+1]<<16|k[2*D];for(D=O;D<2*O;D++)k[D]=0;return new l(k,0)};function j(D,O){for(;(D[O]&65535)!=D[O];)D[O+1]+=D[O]>>>16,D[O]&=65535,O++}function L(D,O){this.g=D,this.h=O}function B(D,O){if(S(O))throw Error("division by zero");if(S(D))return new L(m,m);if(A(D))return O=B(T(D),O),new L(T(O.g),T(O.h));if(A(O))return O=B(D,T(O)),new L(T(O.g),O.h);if(D.g.length>30){if(A(D)||A(O))throw Error("slowDivide_ only works with positive integers.");for(var k=v,G=O;G.l(D)<=0;)k=H(k),G=H(G);var q=F(k,1),M=F(G,1);for(G=F(G,2),k=F(k,2);!S(G);){var V=M.add(G);V.l(D)<=0&&(q=q.add(k),M=V),G=F(G,1),k=F(k,1)}return O=R(D,q.j(O)),new L(q,O)}for(q=m;D.l(O)>=0;){for(k=Math.max(1,Math.floor(D.m()/O.m())),G=Math.ceil(Math.log(k)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),M=d(k),V=M.j(O);A(V)||V.l(D)>0;)k-=G,M=d(k),V=M.j(O);S(M)&&(M=v),q=q.add(M),D=R(D,V)}return new L(q,D)}t.B=function(D){return B(this,D).h},t.and=function(D){const O=Math.max(this.g.length,D.g.length),k=[];for(let G=0;G<O;G++)k[G]=this.i(G)&D.i(G);return new l(k,this.h&D.h)},t.or=function(D){const O=Math.max(this.g.length,D.g.length),k=[];for(let G=0;G<O;G++)k[G]=this.i(G)|D.i(G);return new l(k,this.h|D.h)},t.xor=function(D){const O=Math.max(this.g.length,D.g.length),k=[];for(let G=0;G<O;G++)k[G]=this.i(G)^D.i(G);return new l(k,this.h^D.h)};function H(D){const O=D.g.length+1,k=[];for(let G=0;G<O;G++)k[G]=D.i(G)<<1|D.i(G-1)>>>31;return new l(k,D.h)}function F(D,O){const k=O>>5;O%=32;const G=D.g.length-k,q=[];for(let M=0;M<G;M++)q[M]=O>0?D.i(M+k)>>>O|D.i(M+k+1)<<32-O:D.i(M+k);return new l(q,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ID=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=h,Za=l}).apply(typeof lC<"u"?lC:typeof self<"u"?self:typeof window<"u"?window:{});var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ND,Nf,PD,zp,C_,RD,MD,DD;(function(){var t,e=Object.defineProperty;function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof dp=="object"&&dp];for(var C=0;C<b.length;++C){var P=b[C];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(b,C){if(C)e:{var P=r;b=b.split(".");for(var z=0;z<b.length-1;z++){var X=b[z];if(!(X in P))break e;P=P[X]}b=b[b.length-1],z=P[b],C=C(z),C!=z&&C!=null&&e(P,b,{configurable:!0,writable:!0,value:C})}}i("Symbol.dispose",function(b){return b||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(b){return b||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(b){return b||function(C){var P=[],z;for(z in C)Object.prototype.hasOwnProperty.call(C,z)&&P.push([z,C[z]]);return P}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(b){var C=typeof b;return C=="object"&&b!=null||C=="function"}function f(b,C,P){return b.call.apply(b.bind,arguments)}function d(b,C,P){return d=f,d.apply(null,arguments)}function h(b,C){var P=Array.prototype.slice.call(arguments,1);return function(){var z=P.slice();return z.push.apply(z,arguments),b.apply(this,z)}}function m(b,C){function P(){}P.prototype=C.prototype,b.Z=C.prototype,b.prototype=new P,b.prototype.constructor=b,b.Ob=function(z,X,ne){for(var be=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)be[qe-2]=arguments[qe];return C.prototype[X].apply(z,be)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?b=>b&&AsyncContext.Snapshot.wrap(b):b=>b;function E(b){const C=b.length;if(C>0){const P=Array(C);for(let z=0;z<C;z++)P[z]=b[z];return P}return[]}function S(b,C){for(let z=1;z<arguments.length;z++){const X=arguments[z];var P=typeof X;if(P=P!="object"?P:X?Array.isArray(X)?"array":P:"null",P=="array"||P=="object"&&typeof X.length=="number"){P=b.length||0;const ne=X.length||0;b.length=P+ne;for(let be=0;be<ne;be++)b[P+be]=X[be]}else b.push(X)}}class A{constructor(C,P){this.i=C,this.j=P,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function T(b){l.setTimeout(()=>{throw b},0)}function R(){var b=D;let C=null;return b.g&&(C=b.g,b.g=b.g.next,b.g||(b.h=null),C.next=null),C}class j{constructor(){this.h=this.g=null}add(C,P){const z=L.get();z.set(C,P),this.h?this.h.next=z:this.g=z,this.h=z}}var L=new A(()=>new B,b=>b.reset());class B{constructor(){this.next=this.g=this.h=null}set(C,P){this.h=C,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let H,F=!1,D=new j,O=()=>{const b=Promise.resolve(void 0);H=()=>{b.then(k)}};function k(){for(var b;b=R();){try{b.h.call(b.g)}catch(P){T(P)}var C=L;C.j(b),C.h<100&&(C.h++,b.next=C.g,C.g=b)}F=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(b,C){this.type=b,this.g=this.target=C,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var b=!1,C=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const P=()=>{};l.addEventListener("test",P,C),l.removeEventListener("test",P,C)}catch{}return b})();function V(b){return/^[\s\xa0]*$/.test(b)}function de(b,C){q.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b&&this.init(b,C)}m(de,q),de.prototype.init=function(b,C){const P=this.type=b.type,z=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;this.target=b.target||b.srcElement,this.g=C,C=b.relatedTarget,C||(P=="mouseover"?C=b.fromElement:P=="mouseout"&&(C=b.toElement)),this.relatedTarget=C,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=b.pointerType,this.state=b.state,this.i=b,b.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),W=0;function oe(b,C,P,z,X){this.listener=b,this.proxy=null,this.src=C,this.type=P,this.capture=!!z,this.ha=X,this.key=++W,this.da=this.fa=!1}function ve(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function ce(b,C,P){for(const z in b)C.call(P,b[z],z,b)}function _e(b,C){for(const P in b)C.call(void 0,b[P],P,b)}function $(b){const C={};for(const P in b)C[P]=b[P];return C}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(b,C){let P,z;for(let X=1;X<arguments.length;X++){z=arguments[X];for(P in z)b[P]=z[P];for(let ne=0;ne<te.length;ne++)P=te[ne],Object.prototype.hasOwnProperty.call(z,P)&&(b[P]=z[P])}}function me(b){this.src=b,this.g={},this.h=0}me.prototype.add=function(b,C,P,z,X){const ne=b.toString();b=this.g[ne],b||(b=this.g[ne]=[],this.h++);const be=Me(b,C,z,X);return be>-1?(C=b[be],P||(C.fa=!1)):(C=new oe(C,this.src,ne,!!z,X),C.fa=P,b.push(C)),C};function Ee(b,C){const P=C.type;if(P in b.g){var z=b.g[P],X=Array.prototype.indexOf.call(z,C,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(z,X,1),ne&&(ve(C),b.g[P].length==0&&(delete b.g[P],b.h--))}}function Me(b,C,P,z){for(let X=0;X<b.length;++X){const ne=b[X];if(!ne.da&&ne.listener==C&&ne.capture==!!P&&ne.ha==z)return X}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),bt={};function ae(b,C,P,z,X){if(Array.isArray(C)){for(let ne=0;ne<C.length;ne++)ae(b,C[ne],P,z,X);return null}return P=fa(P),b&&b[ye]?b.J(C,P,u(z)?!!z.capture:!1,X):Ve(b,C,P,!1,z,X)}function Ve(b,C,P,z,X,ne){if(!C)throw Error("Invalid event type");const be=u(X)?!!X.capture:!!X;let qe=zt(b);if(qe||(b[Ae]=qe=new me(b)),P=qe.add(C,P,z,be,ne),P.proxy)return P;if(z=Ge(),P.proxy=z,z.src=b,z.listener=P,b.addEventListener)M||(X=be),X===void 0&&(X=!1),b.addEventListener(C.toString(),z,X);else if(b.attachEvent)b.attachEvent($e(C.toString()),z);else if(b.addListener&&b.removeListener)b.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ge(){function b(P){return C.call(b.src,b.listener,P)}const C=sn;return b}function ge(b,C,P,z,X){if(Array.isArray(C))for(var ne=0;ne<C.length;ne++)ge(b,C[ne],P,z,X);else z=u(z)?!!z.capture:!!z,P=fa(P),b&&b[ye]?(b=b.i,ne=String(C).toString(),ne in b.g&&(C=b.g[ne],P=Me(C,P,z,X),P>-1&&(ve(C[P]),Array.prototype.splice.call(C,P,1),C.length==0&&(delete b.g[ne],b.h--)))):b&&(b=zt(b))&&(C=b.g[C.toString()],b=-1,C&&(b=Me(C,P,z,X)),(P=b>-1?C[b]:null)&&jt(P))}function jt(b){if(typeof b!="number"&&b&&!b.da){var C=b.src;if(C&&C[ye])Ee(C.i,b);else{var P=b.type,z=b.proxy;C.removeEventListener?C.removeEventListener(P,z,b.capture):C.detachEvent?C.detachEvent($e(P),z):C.addListener&&C.removeListener&&C.removeListener(z),(P=zt(C))?(Ee(P,b),P.h==0&&(P.src=null,C[Ae]=null)):ve(b)}}}function $e(b){return b in bt?bt[b]:bt[b]="on"+b}function sn(b,C){if(b.da)b=!0;else{C=new de(C,this);const P=b.listener,z=b.ha||b.src;b.fa&&jt(b),b=P.call(z,C)}return b}function zt(b){return b=b[Ae],b instanceof me?b:null}var _r="__closure_events_fn_"+(Math.random()*1e9>>>0);function fa(b){return typeof b=="function"?b:(b[_r]||(b[_r]=function(C){return b.handleEvent(C)}),b[_r])}function Kt(){G.call(this),this.i=new me(this),this.M=this,this.G=null}m(Kt,G),Kt.prototype[ye]=!0,Kt.prototype.removeEventListener=function(b,C,P,z){ge(this,b,C,P,z)};function ln(b,C){var P,z=b.G;if(z)for(P=[];z;z=z.G)P.push(z);if(b=b.M,z=C.type||C,typeof C=="string")C=new q(C,b);else if(C instanceof q)C.target=C.target||b;else{var X=C;C=new q(z,b),pe(C,X)}X=!0;let ne,be;if(P)for(be=P.length-1;be>=0;be--)ne=C.g=P[be],X=da(ne,z,!0,C)&&X;if(ne=C.g=b,X=da(ne,z,!0,C)&&X,X=da(ne,z,!1,C)&&X,P)for(be=0;be<P.length;be++)ne=C.g=P[be],X=da(ne,z,!1,C)&&X}Kt.prototype.N=function(){if(Kt.Z.N.call(this),this.i){var b=this.i;for(const C in b.g){const P=b.g[C];for(let z=0;z<P.length;z++)ve(P[z]);delete b.g[C],b.h--}}this.G=null},Kt.prototype.J=function(b,C,P,z){return this.i.add(String(b),C,!1,P,z)},Kt.prototype.K=function(b,C,P,z){return this.i.add(String(b),C,!0,P,z)};function da(b,C,P,z){if(C=b.i.g[String(C)],!C)return!0;C=C.concat();let X=!0;for(let ne=0;ne<C.length;++ne){const be=C[ne];if(be&&!be.da&&be.capture==P){const qe=be.listener,qt=be.ha||be.src;be.fa&&Ee(b.i,be),X=qe.call(qt,z)!==!1&&X}}return X&&!z.defaultPrevented}function Tv(b,C){if(typeof b!="function")if(b&&typeof b.handleEvent=="function")b=d(b.handleEvent,b);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:l.setTimeout(b,C||0)}function Vd(b){b.g=Tv(()=>{b.g=null,b.i&&(b.i=!1,Vd(b))},b.l);const C=b.h;b.h=null,b.m.apply(null,C)}class Jn extends G{constructor(C,P){super(),this.m=C,this.l=P,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:Vd(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(b){G.call(this),this.h=b,this.g={}}m(gs,G);var pc=[];function mc(b){ce(b.g,function(C,P){this.g.hasOwnProperty(P)&&jt(C)},b),b.g={}}gs.prototype.N=function(){gs.Z.N.call(this),mc(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ha=l.JSON.stringify,Av=l.JSON.parse,Ud=class{stringify(b){return l.JSON.stringify(b,void 0)}parse(b){return l.JSON.parse(b,void 0)}};function jd(){}function zd(){}var oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function An(){q.call(this,"d")}m(An,q);function Lr(){q.call(this,"c")}m(Lr,q);var Bt={},Bd=null;function wl(){return Bd=Bd||new Kt}Bt.Ia="serverreachability";function qd(b){q.call(this,Bt.Ia,b)}m(qd,q);function Ri(b){const C=wl();ln(C,new qd(C))}Bt.STAT_EVENT="statevent";function vs(b,C){q.call(this,Bt.STAT_EVENT,b),this.stat=C}m(vs,q);function Yt(b){const C=wl();ln(C,new vs(C,b))}Bt.Ja="timingevent";function Mi(b,C){q.call(this,Bt.Ja,b),this.size=C}m(Mi,q);function Di(b,C){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){b()},C)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Cv(b,C,P,z,X,ne){b.info(function(){if(b.g)if(ne){var be="",qe=ne.split("&");for(let st=0;st<qe.length;st++){var qt=qe[st].split("=");if(qt.length>1){const It=qt[0];qt=qt[1];const zr=It.split("_");be=zr.length>=2&&zr[1]=="type"?be+(It+"="+qt+"&"):be+(It+"=redacted&")}}}else be=null;else be=ne;return"XMLHTTP REQ ("+z+") [attempt "+X+"]: "+C+`
`+P+`
`+be})}function Fd(b,C,P,z,X,ne,be){b.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+X+"]: "+C+`
`+P+`
`+ne+" "+be})}function Oi(b,C,P,z){b.info(function(){return"XMLHTTP TEXT ("+C+"): "+Iv(b,P)+(z?" "+z:"")})}function ys(b,C){b.info(function(){return"TIMEOUT: "+C})}ai.prototype.info=function(){};function Iv(b,C){if(!b.g)return C;if(!C)return null;try{const ne=JSON.parse(C);if(ne){for(b=0;b<ne.length;b++)if(Array.isArray(ne[b])){var P=ne[b];if(!(P.length<2)){var z=P[1];if(Array.isArray(z)&&!(z.length<1)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(let be=1;be<z.length;be++)z[be]=""}}}}return ha(ne)}catch{return C}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vc;function _s(){}m(_s,jd),_s.prototype.g=function(){return new XMLHttpRequest},vc=new _s;function vo(b){return encodeURIComponent(String(b))}function Gd(b){var C=1;b=b.split(":");const P=[];for(;C>0&&b.length;)P.push(b.shift()),C--;return b.length&&P.push(b.join(":")),P}function si(b,C,P,z){this.j=b,this.i=C,this.l=P,this.S=z||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Wt={},pn={};function ki(b,C,P){b.M=1,b.A=xs(Xt(C)),b.u=P,b.R=!0,Sl(b,null)}function Sl(b,C){b.F=Date.now(),Li(b),b.B=Xt(b.A);var P=b.B,z=b.S;Array.isArray(z)||(z=[String(z)]),Il(P.i,"t",z),b.C=0,P=b.j.L,b.h=new li,b.g=oh(b.j,P?C:null,!b.u),b.P>0&&(b.O=new Jn(d(b.Y,b,b.g),b.P)),C=b.V,P=b.g,z=b.ba;var X="readystatechange";Array.isArray(X)||(X&&(pc[0]=X.toString()),X=pc);for(let ne=0;ne<X.length;ne++){const be=ae(P,X[ne],z||C.handleEvent,!1,C.h||C);if(!be)break;C.g[be.key]=be}C=b.J?$(b.J):{},b.u?(b.v||(b.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.B,b.v,b.u,C)):(b.v="GET",b.g.ea(b.B,b.v,null,C)),Ri(),Cv(b.i,b.v,b.B,b.l,b.S,b.u)}si.prototype.ba=function(b){b=b.target;const C=this.O;C&&fi(b)==3?C.j():this.Y(b)},si.prototype.Y=function(b){try{if(b==this.g)e:{const qe=fi(this.g),qt=this.g.ya(),st=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Cn(this.g)))){this.K||qe!=4||qt==7||(qt==8||st<=0?Ri(3):Ri(2)),Vi(this);var C=this.g.ca();this.X=C;var P=Nv(this);if(this.o=C==200,Fd(this.i,this.v,this.B,this.l,this.S,qe,C),this.o){if(this.U&&!this.L){t:{if(this.g){var z,X=this.g;if((z=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(z)){var ne=z;break t}}ne=null}if(b=ne)Oi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,b);else{this.o=!1,this.m=3,Yt(12),xr(this),Vr(this);break e}}if(this.R){b=!0;let It;for(;!this.K&&this.C<P.length;)if(It=$d(this,P),It==pn){qe==4&&(this.m=4,Yt(14),b=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Wt){this.m=4,Yt(15),Oi(this.i,this.l,P,"[Invalid Chunk]"),b=!1;break}else Oi(this.i,this.l,It,null),Ui(this,It);if(Hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||P.length!=0||this.h.h||(this.m=1,Yt(16),b=!1),this.o=this.o&&b,!b)Oi(this.i,this.l,P,"[Invalid Chunked Response]"),xr(this),Vr(this);else if(P.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Mc(be),be.P=!0,Yt(11))}}else Oi(this.i,this.l,P,null),Ui(this,P);qe==4&&xr(this),this.o&&!this.K&&(qe==4?th(this.j,this):(this.o=!1,Li(this)))}else bo(this.g),C==400&&P.indexOf("Unknown SID")>0?(this.m=3,Yt(12)):(this.m=0,Yt(13)),xr(this),Vr(this)}}}catch{}finally{}};function Nv(b){if(!Hd(b))return b.g.la();const C=Cn(b.g);if(C==="")return"";let P="";const z=C.length,X=fi(b.g)==4;if(!b.h.i){if(typeof TextDecoder>"u")return xr(b),Vr(b),"";b.h.i=new l.TextDecoder}for(let ne=0;ne<z;ne++)b.h.h=!0,P+=b.h.i.decode(C[ne],{stream:!(X&&ne==z-1)});return C.length=0,b.h.g+=P,b.C=0,b.h.g}function Hd(b){return b.g?b.v=="GET"&&b.M!=2&&b.j.Aa:!1}function $d(b,C){var P=b.C,z=C.indexOf(`
`,P);return z==-1?pn:(P=Number(C.substring(P,z)),isNaN(P)?Wt:(z+=1,z+P>C.length?pn:(C=C.slice(z,z+P),b.C=z+P,C)))}si.prototype.cancel=function(){this.K=!0,xr(this)};function Li(b){b.T=Date.now()+b.H,Tl(b,b.H)}function Tl(b,C){if(b.D!=null)throw Error("WatchDog timer not null");b.D=Di(d(b.aa,b),C)}function Vi(b){b.D&&(l.clearTimeout(b.D),b.D=null)}si.prototype.aa=function(){this.D=null;const b=Date.now();b-this.T>=0?(ys(this.i,this.B),this.M!=2&&(Ri(),Yt(17)),xr(this),this.m=2,Vr(this)):Tl(this,this.T-b)};function Vr(b){b.j.I==0||b.K||th(b.j,b)}function xr(b){Vi(b);var C=b.O;C&&typeof C.dispose=="function"&&C.dispose(),b.O=null,mc(b.V),b.g&&(C=b.g,b.g=null,C.abort(),C.dispose())}function Ui(b,C){try{var P=b.j;if(P.I!=0&&(P.g==b||zi(P.h,b))){if(!b.L&&zi(P.h,b)&&P.I==3){try{var z=P.Ba.g.parse(C)}catch{z=null}if(Array.isArray(z)&&z.length==3){var X=z;if(X[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<b.F)Dl(P),xa(P);else break e;Is(P),Yt(18)}}else P.xa=X[1],0<P.xa-P.K&&X[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=Di(d(P.Va,P),6e3));ji(P.h)<=1&&P.ta&&(P.ta=void 0)}else $i(P,11)}else if((b.L||P.g==b)&&Dl(P),!V(C))for(X=P.Ba.g.parse(C),C=0;C<X.length;C++){let st=X[C];const It=st[0];if(!(It<=P.K))if(P.K=It,st=st[1],P.I==2)if(st[0]=="c"){P.M=st[1],P.ba=st[2];const zr=st[3];zr!=null&&(P.ka=zr,P.j.info("VER="+P.ka));const Ki=st[4];Ki!=null&&(P.za=Ki,P.j.info("SVER="+P.za));const di=st[5];di!=null&&typeof di=="number"&&di>0&&(z=1.5*di,P.O=z,P.j.info("backChannelRequestTimeoutMs_="+z)),z=P;const hi=b.g;if(hi){const Ns=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var ne=z.h;ne.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(_c(ne,ne.h),ne.h=null))}if(z.G){const Ol=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(z.wa=Ol,ct(z.J,z.G,Ol))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-b.F,P.j.info("Handshake RTT: "+P.T+"ms")),z=P;var be=b;if(z.na=ih(z,z.L?z.ba:null,z.W),be.L){xc(z.h,be);var qe=be,qt=z.O;qt&&(qe.H=qt),qe.D&&(Vi(qe),Li(qe)),z.g=be}else Zd(z);P.i.length>0&&Hi(P)}else st[0]!="stop"&&st[0]!="close"||$i(P,7);else P.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?$i(P,7):Pc(P):st[0]!="noop"&&P.l&&P.l.qa(st),P.A=0)}}Ri(4)}catch{}}var Jt=class{constructor(b,C){this.g=b,this.map=C}};function yc(b){this.l=b||10,l.PerformanceNavigationTiming?(b=l.performance.getEntriesByType("navigation"),b=b.length>0&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bc(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function ji(b){return b.h?1:b.g?b.g.size:0}function zi(b,C){return b.h?b.h==C:b.g?b.g.has(C):!1}function _c(b,C){b.g?b.g.add(C):b.h=C}function xc(b,C){b.h&&b.h==C?b.h=null:b.g&&b.g.has(C)&&b.g.delete(C)}yc.prototype.cancel=function(){if(this.i=Ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function Ec(b){if(b.h!=null)return b.i.concat(b.h.G);if(b.g!=null&&b.g.size!==0){let C=b.i;for(const P of b.g.values())C=C.concat(P.G);return C}return E(b.i)}var Kd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Al(b,C){if(b){b=b.split("&");for(let P=0;P<b.length;P++){const z=b[P].indexOf("=");let X,ne=null;z>=0?(X=b[P].substring(0,z),ne=b[P].substring(z+1)):X=b[P],C(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Er(b){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;b instanceof Er?(this.l=b.l,mn(this,b.j),this.o=b.o,this.g=b.g,pa(this,b.u),this.h=b.h,wc(this,Xd(b.i)),this.m=b.m):b&&(C=String(b).match(Kd))?(this.l=!1,mn(this,C[1]||"",!0),this.o=Bi(C[2]||""),this.g=Bi(C[3]||"",!0),pa(this,C[4]),this.h=Bi(C[5]||"",!0),wc(this,C[6]||"",!0),this.m=Bi(C[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}Er.prototype.toString=function(){const b=[];var C=this.j;C&&b.push(Es(C,Cl,!0),":");var P=this.g;return(P||C=="file")&&(b.push("//"),(C=this.o)&&b.push(Es(C,Cl,!0),"@"),b.push(vo(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&b.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&b.push("/"),b.push(Es(P,P.charAt(0)=="/"?Sc:Yd,!0))),(P=this.i.toString())&&b.push("?",P),(P=this.m)&&b.push("#",Es(P,Wd)),b.join("")},Er.prototype.resolve=function(b){const C=Xt(this);let P=!!b.j;P?mn(C,b.j):P=!!b.o,P?C.o=b.o:P=!!b.g,P?C.g=b.g:P=b.u!=null;var z=b.h;if(P)pa(C,b.u);else if(P=!!b.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var X=C.h.lastIndexOf("/");X!=-1&&(z=C.h.slice(0,X+1)+z)}if(X=z,X==".."||X==".")z="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){z=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let be=0;be<X.length;){const qe=X[be++];qe=="."?z&&be==X.length&&ne.push(""):qe==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),z&&be==X.length&&ne.push("")):(ne.push(qe),z=!0)}z=ne.join("/")}else z=X}return P?C.h=z:P=b.i.toString()!=="",P?wc(C,Xd(b.i)):P=!!b.m,P&&(C.m=b.m),C};function Xt(b){return new Er(b)}function mn(b,C,P){b.j=P?Bi(C,!0):C,b.j&&(b.j=b.j.replace(/:$/,""))}function pa(b,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);b.u=C}else b.u=null}function wc(b,C,P){C instanceof ga?(b.i=C,Nl(b.i,b.l)):(P||(C=Es(C,ma)),b.i=new ga(C,b.l))}function ct(b,C,P){b.i.set(C,P)}function xs(b){return ct(b,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),b}function Bi(b,C){return b?C?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Es(b,C,P){return typeof b=="string"?(b=encodeURI(b).replace(C,or),P&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function or(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Cl=/[#\/\?@]/g,Yd=/[#\?:]/g,Sc=/[#\?]/g,ma=/[#\?@]/g,Wd=/#/g;function ga(b,C){this.h=this.g=null,this.i=b||null,this.j=!!C}function ar(b){b.g||(b.g=new Map,b.h=0,b.i&&Al(b.i,function(C,P){b.add(decodeURIComponent(C.replace(/\+/g," ")),P)}))}t=ga.prototype,t.add=function(b,C){ar(this),this.i=null,b=va(this,b);let P=this.g.get(b);return P||this.g.set(b,P=[]),P.push(C),this.h+=1,this};function Jd(b,C){ar(b),C=va(b,C),b.g.has(C)&&(b.i=null,b.h-=b.g.get(C).length,b.g.delete(C))}function Tc(b,C){return ar(b),C=va(b,C),b.g.has(C)}t.forEach=function(b,C){ar(this),this.g.forEach(function(P,z){P.forEach(function(X){b.call(C,X,z,this)},this)},this)};function Ac(b,C){ar(b);let P=[];if(typeof C=="string")Tc(b,C)&&(P=P.concat(b.g.get(va(b,C))));else for(b=Array.from(b.g.values()),C=0;C<b.length;C++)P=P.concat(b[C]);return P}t.set=function(b,C){return ar(this),this.i=null,b=va(this,b),Tc(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[C]),this.h+=1,this},t.get=function(b,C){return b?(b=Ac(this,b),b.length>0?String(b[0]):C):C};function Il(b,C,P){Jd(b,C),P.length>0&&(b.i=null,b.g.set(va(b,C),E(P)),b.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],C=Array.from(this.g.keys());for(let z=0;z<C.length;z++){var P=C[z];const X=vo(P);P=Ac(this,P);for(let ne=0;ne<P.length;ne++){let be=X;P[ne]!==""&&(be+="="+vo(P[ne])),b.push(be)}}return this.i=b.join("&")};function Xd(b){const C=new ga;return C.i=b.i,b.g&&(C.g=new Map(b.g),C.h=b.h),C}function va(b,C){return C=String(C),b.j&&(C=C.toLowerCase()),C}function Nl(b,C){C&&!b.j&&(ar(b),b.i=null,b.g.forEach(function(P,z){const X=z.toLowerCase();z!=X&&(Jd(this,z),Il(this,X,P))},b)),b.j=C}function ui(b,C){const P=new ai;if(l.Image){const z=new Image;z.onload=h(Ur,P,"TestLoadImage: loaded",!0,C,z),z.onerror=h(Ur,P,"TestLoadImage: error",!1,C,z),z.onabort=h(Ur,P,"TestLoadImage: abort",!1,C,z),z.ontimeout=h(Ur,P,"TestLoadImage: timeout",!1,C,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=b}else C(!1)}function Cc(b,C){const P=new ai,z=new AbortController,X=setTimeout(()=>{z.abort(),Ur(P,"TestPingServer: timeout",!1,C)},1e4);fetch(b,{signal:z.signal}).then(ne=>{clearTimeout(X),ne.ok?Ur(P,"TestPingServer: ok",!0,C):Ur(P,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(X),Ur(P,"TestPingServer: error",!1,C)})}function Ur(b,C,P,z,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),z(P)}catch{}}function ya(){this.g=new Ud}function qi(b){this.i=b.Sb||null,this.h=b.ab||!1}m(qi,jd),qi.prototype.g=function(){return new ws(this.i,this.h)};function ws(b,C){Kt.call(this),this.H=b,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ws,Kt),t=ws.prototype,t.open=function(b,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=b,this.D=C,this.readyState=1,ci(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};b&&(C.body=b),(this.H||l).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Pa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pl(this)}else b.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pl(b){b.j.read().then(b.Ma.bind(b)).catch(b.ga.bind(b))}t.Ma=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var C=b.value?b.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!b.done}))&&(this.response=this.responseText+=C)}b.done?ba(this):ci(this),this.readyState==3&&Pl(this)}},t.Oa=function(b){this.g&&(this.response=this.responseText=b,ba(this))},t.Na=function(b){this.g&&(this.response=b,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(b){b.readyState=4,b.l=null,b.j=null,b.B=null,ci(b)}t.setRequestHeader=function(b,C){this.A.append(b,C)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],C=this.h.entries();for(var P=C.next();!P.done;)P=P.value,b.push(P[0]+": "+P[1]),P=C.next();return b.join(`\r
`)};function ci(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function jr(b){let C="";return ce(b,function(P,z){C+=z,C+=":",C+=P,C+=`\r
`}),C}function Ss(b,C,P){e:{for(z in P){var z=!1;break e}z=!0}z||(P=jr(P),typeof b=="string"?P!=null&&vo(P):ct(b,C,P))}function mt(b){Kt.call(this),this.headers=new Map,this.L=b||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(mt,Kt);var Fi=/^https?$/i,Ic=["POST","PUT"];t=mt.prototype,t.Fa=function(b){this.H=b},t.ea=function(b,C,P,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);C=C?C.toUpperCase():"GET",this.D=b,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vc.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(C,String(b),!0),this.B=!1}catch(ne){Ts(this,ne);return}if(b=P||"",P=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var X in z)P.set(X,z[X]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())P.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(P.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=l.FormData&&b instanceof l.FormData,!(Array.prototype.indexOf.call(Ic,C,void 0)>=0)||z||X||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,be]of P)this.g.setRequestHeader(ne,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(b),this.v=!1}catch(ne){Ts(this,ne)}};function Ts(b,C){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=C,b.o=5,Nc(b),yo(b)}function Nc(b){b.A||(b.A=!0,ln(b,"complete"),ln(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=b||7,ln(this,"complete"),ln(this,"abort"),yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yo(this,!0)),mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},t.Xa=function(){As(this)};function As(b){if(b.h&&typeof o<"u"){if(b.v&&fi(b)==4)setTimeout(b.Ca.bind(b),0);else if(ln(b,"readystatechange"),fi(b)==4){b.h=!1;try{const ne=b.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var P;if(!(P=C)){var z;if(z=ne===0){let be=String(b.D).match(Kd)[1]||null;!be&&l.self&&l.self.location&&(be=l.self.location.protocol.slice(0,-1)),z=!Fi.test(be?be.toLowerCase():"")}P=z}if(P)ln(b,"complete"),ln(b,"success");else{b.o=6;try{var X=fi(b)>2?b.g.statusText:""}catch{X=""}b.l=X+" ["+b.ca()+"]",Nc(b)}}finally{yo(b)}}}}function yo(b,C){if(b.g){b.m&&(clearTimeout(b.m),b.m=null);const P=b.g;b.g=null,C||ln(b,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function fi(b){return b.g?b.g.readyState:0}t.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(b){if(this.g){var C=this.g.responseText;return b&&C.indexOf(b)==0&&(C=C.substring(b.length)),Av(C)}};function Cn(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.F){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function bo(b){const C={};b=(b.g&&fi(b)>=2&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<b.length;z++){if(V(b[z]))continue;var P=Gd(b[z]);const X=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ne=C[X]||[];C[X]=ne,ne.push(P)}_e(C,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(b,C,P){return P&&P.internalChannelParams&&P.internalChannelParams[b]||C}function _a(b){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,b),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,b),this.Za=Gi("retryDelaySeedMs",1e4,b),this.Ta=Gi("forwardChannelMaxRetries",2,b),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,b),this.ma=b&&b.xmlHttpFactory||void 0,this.Ua=b&&b.Rb||void 0,this.Aa=b&&b.useFetchStreams||!1,this.O=void 0,this.L=b&&b.supportsCrossDomainXhr||!1,this.M="",this.h=new yc(b&&b.concurrentRequestLimit),this.Ba=new ya,this.S=b&&b.fastHandshake||!1,this.R=b&&b.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=b&&b.Pb||!1,b&&b.ua&&this.j.ua(),b&&b.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&b&&b.detectBufferingProxy||!1,this.ia=void 0,b&&b.longPollingTimeout&&b.longPollingTimeout>0&&(this.ia=b.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_a.prototype,t.ka=8,t.I=1,t.connect=function(b,C,P,z){Yt(0),this.W=b,this.H=C||{},P&&z!==void 0&&(this.H.OSID=P,this.H.OAID=z),this.F=this.X,this.J=ih(this,null,this.W),Hi(this)};function Pc(b){if(Rl(b),b.I==3){var C=b.V++,P=Xt(b.J);if(ct(P,"SID",b.M),ct(P,"RID",C),ct(P,"TYPE","terminate"),Cs(b,P),C=new si(b,b.j,C),C.M=2,C.A=xs(Xt(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(C.A.toString(),"")}catch{}!P&&l.Image&&(new Image().src=C.A,P=!0),P||(C.g=oh(C.j,null),C.g.ea(C.A)),C.F=Date.now(),Li(C)}rh(b)}function xa(b){b.g&&(Mc(b),b.g.cancel(),b.g=null)}function Rl(b){xa(b),b.v&&(l.clearTimeout(b.v),b.v=null),Dl(b),b.h.cancel(),b.m&&(typeof b.m=="number"&&l.clearTimeout(b.m),b.m=null)}function Hi(b){if(!bc(b.h)&&!b.m){b.m=!0;var C=b.Ea;H||O(),F||(H(),F=!0),D.add(C,b),b.D=0}}function Ml(b,C){return ji(b.h)>=b.h.j-(b.m?1:0)?!1:b.m?(b.i=C.G.concat(b.i),!0):b.I==1||b.I==2||b.D>=(b.Sa?0:b.Ta)?!1:(b.m=Di(d(b.Ea,b,C),nh(b,b.D)),b.D++,!0)}t.Ea=function(b){if(this.m)if(this.m=null,this.I==1){if(!b){this.V=Math.floor(Math.random()*1e5),b=this.V++;const X=new si(this,this.j,b);let ne=this.o;if(this.U&&(ne?(ne=$(ne),pe(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var C=0,P=0;P<this.i.length;P++){t:{var z=this.i[P];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(C+=z,C>4096){C=P;break e}if(C===4096||P===this.i.length-1){C=P+1;break e}}C=1e3}else C=1e3;C=Qd(this,X,C),P=Xt(this.J),ct(P,"RID",b),ct(P,"CVER",22),this.G&&ct(P,"X-HTTP-Session-Id",this.G),Cs(this,P),ne&&(this.R?C="headers="+vo(jr(ne))+"&"+C:this.u&&Ss(P,this.u,ne)),_c(this.h,X),this.Ra&&ct(P,"TYPE","init"),this.S?(ct(P,"$req",C),ct(P,"SID","null"),X.U=!0,ki(X,P,null)):ki(X,P,C),this.I=2}}else this.I==3&&(b?Rc(this,b):this.i.length==0||bc(this.h)||Rc(this))};function Rc(b,C){var P;C?P=C.l:P=b.V++;const z=Xt(b.J);ct(z,"SID",b.M),ct(z,"RID",P),ct(z,"AID",b.K),Cs(b,z),b.u&&b.o&&Ss(z,b.u,b.o),P=new si(b,b.j,P,b.D+1),b.u===null&&(P.J=b.o),C&&(b.i=C.G.concat(b.i)),C=Qd(b,P,1e3),P.H=Math.round(b.va*.5)+Math.round(b.va*.5*Math.random()),_c(b.h,P),ki(P,z,C)}function Cs(b,C){b.H&&ce(b.H,function(P,z){ct(C,z,P)}),b.l&&ce({},function(P,z){ct(C,z,P)})}function Qd(b,C,P){P=Math.min(b.i.length,P);const z=b.l?d(b.l.Ka,b.l,b):null;e:{var X=b.i;let qe=-1;for(;;){const qt=["count="+P];qe==-1?P>0?(qe=X[0].g,qt.push("ofs="+qe)):qe=0:qt.push("ofs="+qe);let st=!0;for(let It=0;It<P;It++){var ne=X[It].g;const zr=X[It].map;if(ne-=qe,ne<0)qe=Math.max(0,X[It].g-100),st=!1;else try{ne="req"+ne+"_"||"";try{var be=zr instanceof Map?zr:Object.entries(zr);for(const[Ki,di]of be){let hi=di;u(di)&&(hi=ha(di)),qt.push(ne+Ki+"="+encodeURIComponent(hi))}}catch(Ki){throw qt.push(ne+"type="+encodeURIComponent("_badmap")),Ki}}catch{z&&z(zr)}}if(st){be=qt.join("&");break e}}be=void 0}return b=b.i.splice(0,P),C.G=b,be}function Zd(b){if(!b.g&&!b.v){b.Y=1;var C=b.Da;H||O(),F||(H(),F=!0),D.add(C,b),b.A=0}}function Is(b){return b.g||b.v||b.A>=3?!1:(b.Y++,b.v=Di(d(b.Da,b),nh(b,b.A)),b.A++,!0)}t.Da=function(){if(this.v=null,eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var b=4*this.T;this.j.info("BP detection timer enabled: "+b),this.B=Di(d(this.Wa,this),b)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Yt(10),xa(this),eh(this))};function Mc(b){b.B!=null&&(l.clearTimeout(b.B),b.B=null)}function eh(b){b.g=new si(b,b.j,"rpc",b.Y),b.u===null&&(b.g.J=b.o),b.g.P=0;var C=Xt(b.na);ct(C,"RID","rpc"),ct(C,"SID",b.M),ct(C,"AID",b.K),ct(C,"CI",b.F?"0":"1"),!b.F&&b.ia&&ct(C,"TO",b.ia),ct(C,"TYPE","xmlhttp"),Cs(b,C),b.u&&b.o&&Ss(C,b.u,b.o),b.O&&(b.g.H=b.O);var P=b.g;b=b.ba,P.M=1,P.A=xs(Xt(C)),P.u=null,P.R=!0,Sl(P,b)}t.Va=function(){this.C!=null&&(this.C=null,xa(this),Is(this),Yt(19))};function Dl(b){b.C!=null&&(l.clearTimeout(b.C),b.C=null)}function th(b,C){var P=null;if(b.g==C){Dl(b),Mc(b),b.g=null;var z=2}else if(zi(b.h,C))P=C.G,xc(b.h,C),z=1;else return;if(b.I!=0){if(C.o)if(z==1){P=C.u?C.u.length:0,C=Date.now()-C.F;var X=b.D;z=wl(),ln(z,new Mi(z,P)),Hi(b)}else Zd(b);else if(X=C.m,X==3||X==0&&C.X>0||!(z==1&&Ml(b,C)||z==2&&Is(b)))switch(P&&P.length>0&&(C=b.h,C.i=C.i.concat(P)),X){case 1:$i(b,5);break;case 4:$i(b,10);break;case 3:$i(b,6);break;default:$i(b,2)}}}function nh(b,C){let P=b.Qa+Math.floor(Math.random()*b.Za);return b.isActive()||(P*=2),P*C}function $i(b,C){if(b.j.info("Error code "+C),C==2){var P=d(b.bb,b),z=b.Ua;const X=!z;z=new Er(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mn(z,"https"),xs(z),X?ui(z.toString(),P):Cc(z.toString(),P)}else Yt(2);b.I=0,b.l&&b.l.pa(C),rh(b),Rl(b)}t.bb=function(b){b?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function rh(b){if(b.I=0,b.ja=[],b.l){const C=Ec(b.h);(C.length!=0||b.i.length!=0)&&(S(b.ja,C),S(b.ja,b.i),b.h.i.length=0,E(b.i),b.i.length=0),b.l.oa()}}function ih(b,C,P){var z=P instanceof Er?Xt(P):new Er(P);if(z.g!="")C&&(z.g=C+"."+z.g),pa(z,z.u);else{var X=l.location;z=X.protocol,C=C?C+"."+X.hostname:X.hostname,X=+X.port;const ne=new Er(null);z&&mn(ne,z),C&&(ne.g=C),X&&pa(ne,X),P&&(ne.h=P),z=ne}return P=b.G,C=b.wa,P&&C&&ct(z,P,C),ct(z,"VER",b.ka),Cs(b,z),z}function oh(b,C,P){if(C&&!b.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=b.Aa&&!b.ma?new mt(new qi({ab:P})):new mt(b.ma),C.Fa(b.L),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ah(){}t=ah.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ea(){}Ea.prototype.g=function(b,C){return new Xn(b,C)};function Xn(b,C){Kt.call(this),this.g=new _a(C),this.l=b,this.h=C&&C.messageUrlParams||null,b=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(b?b["X-WebChannel-Content-Type"]=C.messageContentType:b={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(b?b["X-WebChannel-Client-Profile"]=C.sa:b={"X-WebChannel-Client-Profile":C.sa}),this.g.U=b,(b=C&&C.Qb)&&!V(b)&&(this.g.u=b),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!V(C)&&(this.g.G=C,b=this.h,b!==null&&C in b&&(b=this.h,C in b&&delete b[C])),this.j=new _o(this)}m(Xn,Kt),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){Pc(this.g)},Xn.prototype.o=function(b){var C=this.g;if(typeof b=="string"){var P={};P.__data__=b,b=P}else this.v&&(P={},P.__data__=ha(b),b=P);C.i.push(new Jt(C.Ya++,b)),C.I==3&&Hi(C)},Xn.prototype.N=function(){this.g.l=null,delete this.j,Pc(this.g),delete this.g,Xn.Z.N.call(this)};function sh(b){An.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var C=b.__sm__;if(C){e:{for(const P in C){b=P;break e}b=void 0}(this.i=b)&&(b=this.i,C=C!==null&&b in C?C[b]:void 0),this.data=C}else this.data=b}m(sh,An);function lh(){Lr.call(this),this.status=1}m(lh,Lr);function _o(b){this.g=b}m(_o,ah),_o.prototype.ra=function(){ln(this.g,"a")},_o.prototype.qa=function(b){ln(this.g,new sh(b))},_o.prototype.pa=function(b){ln(this.g,new lh)},_o.prototype.oa=function(){ln(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,DD=function(){return new Ea},MD=function(){return wl()},RD=Bt,C_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,zp=bs,gc.COMPLETE="complete",PD=gc,zd.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Kt.prototype.listen=Kt.prototype.J,Nf=zd,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,ND=mt}).apply(typeof dp<"u"?dp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu="12.8.0";function Cz(t){Wu=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new ED("@firebase/firestore");function gu(){return sl.logLevel}function Se(t,...e){if(sl.logLevel<=nt.DEBUG){const n=e.map(rE);sl.debug(`Firestore (${Wu}): ${t}`,...n)}}function Ho(t,...e){if(sl.logLevel<=nt.ERROR){const n=e.map(rE);sl.error(`Firestore (${Wu}): ${t}`,...n)}}function ku(t,...e){if(sl.logLevel<=nt.WARN){const n=e.map(rE);sl.warn(`Firestore (${Wu}): ${t}`,...n)}}function rE(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OD(t,r,n)}function OD(t,e,n){let r=`FIRESTORE (${Wu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ho(r),new Error(r)}function ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OD(e,i,r)}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Yu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Iz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class Nz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Pz{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new zo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new kD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class Rz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Mz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Rz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cz(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Oz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function I_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return O0(i)===O0(o)?Xe(i,o):O0(i)?1:-1}return Xe(t.length,e.length)}const kz=55296,Lz=57343;function O0(t){const e=t.charCodeAt(0);return e>=kz&&e<=Lz}function Lu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="__name__";class to{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return to.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof to?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=to.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Xe(e.length,n.length)}static compareSegments(e,n){const r=to.isNumericId(e),i=to.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?to.extractNumericId(e).compare(to.extractNumericId(n)):I_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class Et extends to{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const Vz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends to{construct(e,n,r){return new Ln(e,n,r)}static isValidIdentifier(e){return Vz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cC}static keyField(){return new Ln([cC])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new xe(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new xe(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Et.fromString(e))}static fromName(e){return new Re(Et.fromString(e).popFirst(5))}static empty(){return new Re(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e,n){if(!n)throw new xe(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Uz(t,e,n,r){if(e===!0&&r===!0)throw new xe(ue.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fC(t){if(!Re.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dC(t){if(Re.isDocumentKey(t))throw new xe(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mg(t);throw new xe(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,e){const n={typeString:t};return e&&(n.value=e),n}function md(t,e){if(!VD(t))throw new xe(ue.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new xe(ue.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=-62135596800,pC=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*pC);return new At(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hC)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pC}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(md(e,At._jsonSchema))return new At(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:on("string",At._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new At(0,0))}static max(){return new je(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=-1;function jz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new is(i,Re.empty(),e)}function zz(t){return new is(t.readTime,t.key,Hf)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(je.min(),Re.empty(),Hf)}static max(){return new is(je.max(),Re.empty(),Hf)}}function Bz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==qz)throw t;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let i=0,o=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++o,l&&o===i&&n()}),(f=>r(f)))})),l=!0,o===i&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((i=>i?he.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next((h=>{l[d]=h,++u,u===o&&r(l)}),(h=>i(h)))}}))}static doWhile(e,n){return new he(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function Gz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=-1;function vg(t){return t==null}function sm(t){return t===0&&1/t==-1/0}function Hz(t){return typeof t=="number"&&Number.isInteger(t)&&!sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="";function $z(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mC(e)),e=Kz(t.get(n),e);return mC(e)}function Kz(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case UD:n+="";break;default:n+=o}}return n}function mC(t){return t+UD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hp(this.root,e,this.comparator,!0)}}class hp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=o??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new kn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vC(this.data.getIterator())}getIteratorFrom(e){return new vC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class vC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new fn(Ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new zD("Invalid base64 string: "+o):o}})(e);return new jn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const Yz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=Yz.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function as(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="server_timestamp",qD="__type__",FD="__previous_value__",GD="__local_write_time__";function aE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qD])==null?void 0:r.stringValue)===BD}function yg(t){const e=t.mapValue.fields[FD];return aE(e)?yg(e):e}function $f(t){const e=os(t.mapValue.fields[GD].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n,r,i,o,l,u,f,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=m}}const lm="(default)";class Kf{constructor(e,n){this.projectId=e,this.database=n||lm}static empty(){return new Kf("","")}get isDefaultDatabase(){return this.database===lm}isEqual(e){return e instanceof Kf&&e.projectId===this.projectId&&e.database===this.database}}function Jz(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xe(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="__type__",Xz="__max__",pp={mapValue:{}},$D="__vector__",um="value";function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aE(t)?4:Zz(t)?9007199254740991:Qz(t)?10:11:Le(28295,{value:t})}function uo(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $f(t).isEqual($f(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=os(i.timestampValue),u=os(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return as(i.bytesValue).isEqual(as(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ht(i.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ht(i.integerValue)===Ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Ht(i.doubleValue),u=Ht(o.doubleValue);return l===u?sm(l)===sm(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Lu(t.arrayValue.values||[],e.arrayValue.values||[],uo);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(gC(l)!==gC(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!uo(l[f],u[f])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Yf(t,e){return(t.values||[]).find((n=>uo(n,e)))!==void 0}function Vu(t,e){if(t===e)return 0;const n=ss(t),r=ss(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Ht(o.integerValue||o.doubleValue),f=Ht(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return yC(t.timestampValue,e.timestampValue);case 4:return yC($f(t),$f(e));case 5:return I_(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=as(o),f=as(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const h=Xe(u[d],f[d]);if(h!==0)return h}return Xe(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=Xe(Ht(o.latitude),Ht(l.latitude));return u!==0?u:Xe(Ht(o.longitude),Ht(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bC(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var v,E,S,A;const u=o.fields||{},f=l.fields||{},d=(v=u[um])==null?void 0:v.arrayValue,h=(E=f[um])==null?void 0:E.arrayValue,m=Xe(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return m!==0?m:bC(d,h)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===pp.mapValue&&l===pp.mapValue)return 0;if(o===pp.mapValue)return 1;if(l===pp.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let m=0;m<f.length&&m<h.length;++m){const v=I_(f[m],h[m]);if(v!==0)return v;const E=Vu(u[f[m]],d[h[m]]);if(E!==0)return E}return Xe(f.length,h.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function yC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=os(t),r=os(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function bC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Vu(n[i],r[i]);if(o)return o}return Xe(n.length,r.length)}function Uu(t){return N_(t)}function N_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=os(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return as(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=N_(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${N_(n.fields[l])}`;return i+"}"})(t.mapValue):Le(61005,{value:t})}function Bp(t){switch(ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yg(t);return e?16+Bp(e):16;case 5:return 2*t.stringValue.length;case 6:return as(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Bp(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return fs(r.fields,((o,l)=>{i+=o.length+Bp(l)})),i})(t.mapValue);default:throw Le(13486,{value:t})}}function _C(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function P_(t){return!!t&&"integerValue"in t}function sE(t){return!!t&&"arrayValue"in t}function xC(t){return!!t&&"nullValue"in t}function EC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qp(t){return!!t&&"mapValue"in t}function Qz(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HD])==null?void 0:r.stringValue)===$D}function Uf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uf(t.arrayValue.values[n]);return e}return{...t}}function Zz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Xz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uf(n)}setAll(e){let n=Ln.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Uf(l):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());qp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return uo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fs(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new pr(Uf(this.value))}}function KD(t){const e=[];return fs(t.fields,((n,r)=>{const i=new Ln([n]);if(qp(r)){const o=KD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new $n(e,0,je.min(),je.min(),je.min(),pr.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,je.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,je.min(),je.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,je.min(),je.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.position=e,this.inclusive=n}}function wC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(l.referenceValue),n.key):r=Vu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!uo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n="asc"){this.field=e,this.dir=n}}function eB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{}class rn extends YD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nB(e,n,r):n==="array-contains"?new oB(e,r):n==="in"?new aB(e,r):n==="not-in"?new sB(e,r):n==="array-contains-any"?new lB(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rB(e,r):new iB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vu(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(Vu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends YD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ci(e,n)}matches(e){return WD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WD(t){return t.op==="and"}function JD(t){return tB(t)&&WD(t)}function tB(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function R_(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+Uu(t.value);if(JD(t))return t.filters.map((e=>R_(e))).join(",");{const e=t.filters.map((n=>R_(n))).join(",");return`${t.op}(${e})`}}function XD(t,e){return t instanceof rn?(function(r,i){return i instanceof rn&&r.op===i.op&&r.field.isEqual(i.field)&&uo(r.value,i.value)})(t,e):t instanceof Ci?(function(r,i){return i instanceof Ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,u)=>o&&XD(l,i.filters[u])),!0):!1})(t,e):void Le(19439)}function QD(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uu(n.value)}`})(t):t instanceof Ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(QD).join(" ,")+"}"})(t):"Filter"}class nB extends rn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class rB extends rn{constructor(e,n){super(e,"in",n),this.keys=ZD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iB extends rn{constructor(e,n){super(e,"not-in",n),this.keys=ZD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZD(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Re.fromName(r.referenceValue)))}class oB extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sE(n)&&Yf(n.arrayValue,this.value)}}class aB extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yf(this.value.arrayValue,n)}}class sB extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yf(this.value.arrayValue,n)}}class lB extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function TC(t,e=null,n=[],r=[],i=null,o=null,l=null){return new uB(t,e,n,r,i,o,l)}function lE(t){const e=Be(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>R_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),vg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Uu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Uu(r))).join(",")),e.Te=n}return e.Te}function uE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SC(t.startAt,e.startAt)&&SC(t.endAt,e.endAt)}function M_(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cB(t,e,n,r,i,o,l,u){return new Qu(t,e,n,r,i,o,l,u)}function cE(t){return new Qu(t)}function AC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fB(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function eO(t){return t.collectionGroup!==null}function jf(t){const e=Be(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new fn(Ln.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Wf(o,r))})),n.has(Ln.keyField().canonicalString())||e.Ie.push(new Wf(Ln.keyField(),r))}return e.Ie}function oo(t){const e=Be(t);return e.Ee||(e.Ee=dB(e,jf(t))),e.Ee}function dB(t,e){if(t.limitType==="F")return TC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Wf(i.field,o)}));const n=t.endAt?new cm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cm(t.startAt.position,t.startAt.inclusive):null;return TC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function D_(t,e){const n=t.filters.concat([e]);return new Qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hB(t,e){const n=t.explicitOrderBy.concat([e]);return new Qu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function O_(t,e,n){return new Qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bg(t,e){return uE(oo(t),oo(e))&&t.limitType===e.limitType}function tO(t){return`${lE(oo(t))}|lt:${t.limitType}`}function vu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>QD(i))).join(", ")}]`),vg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Uu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Uu(i))).join(",")),`Target(${r})`})(oo(t))}; limitType=${t.limitType})`}function _g(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of jf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const d=wC(l,u,f);return l.inclusive?d<=0:d<0})(r.startAt,jf(r),i)||r.endAt&&!(function(l,u,f){const d=wC(l,u,f);return l.inclusive?d>=0:d>0})(r.endAt,jf(r),i))})(t,e)}function pB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nO(t){return(e,n)=>{let r=!1;for(const i of jf(t)){const o=mB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mB(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?Vu(f,d):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return jD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=new Ot(Re.comparator);function $o(){return gB}const rO=new Ot(Re.comparator);function Pf(...t){let e=rO;for(const n of t)e=e.insert(n.key,n);return e}function iO(t){let e=rO;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Xs(){return zf()}function oO(){return zf()}function zf(){return new gl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vB=new Ot(Re.comparator),yB=new fn(Re.comparator);function Qe(...t){let e=yB;for(const n of t)e=e.add(n);return e}const bB=new fn(Xe);function _B(){return bB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function aO(t){return{integerValue:""+t}}function xB(t,e){return Hz(e)?aO(e):fE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this._=void 0}}function EB(t,e,n){return t instanceof fm?(function(i,o){const l={fields:{[qD]:{stringValue:BD},[GD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&aE(o)&&(o=yg(o)),o&&(l.fields[FD]=o),{mapValue:l}})(n,e):t instanceof Jf?lO(t,e):t instanceof Xf?uO(t,e):(function(i,o){const l=sO(i,o),u=CC(l)+CC(i.Ae);return P_(l)&&P_(i.Ae)?aO(u):fE(i.serializer,u)})(t,e)}function wB(t,e,n){return t instanceof Jf?lO(t,e):t instanceof Xf?uO(t,e):n}function sO(t,e){return t instanceof dm?(function(r){return P_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class fm extends xg{}class Jf extends xg{constructor(e){super(),this.elements=e}}function lO(t,e){const n=cO(e);for(const r of t.elements)n.some((i=>uo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Xf extends xg{constructor(e){super(),this.elements=e}}function uO(t,e){let n=cO(e);for(const r of t.elements)n=n.filter((i=>!uo(i,r)));return{arrayValue:{values:n}}}class dm extends xg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CC(t){return Ht(t.integerValue||t.doubleValue)}function cO(t){return sE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SB(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Jf&&i instanceof Jf||r instanceof Xf&&i instanceof Xf?Lu(r.elements,i.elements,uo):r instanceof dm&&i instanceof dm?uo(r.Ae,i.Ae):r instanceof fm&&i instanceof fm})(t.transform,e.transform)}class TB{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eg{}function fO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wg(t.key,vr.none()):new gd(t.key,t.data,vr.none());{const n=t.data,r=pr.empty();let i=new fn(Ln.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new ds(t.key,r,new Rr(i.toArray()),vr.none())}}function AB(t,e,n){t instanceof gd?(function(i,o,l){const u=i.value.clone(),f=NC(i.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof ds?(function(i,o,l){if(!Fp(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=NC(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(dO(i)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Bf(t,e,n,r){return t instanceof gd?(function(o,l,u,f){if(!Fp(o.precondition,l))return u;const d=o.value.clone(),h=PC(o.fieldTransforms,f,l);return d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof ds?(function(o,l,u,f){if(!Fp(o.precondition,l))return u;const d=PC(o.fieldTransforms,f,l),h=l.data;return h.setAll(dO(o)),h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,l,u){return Fp(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function CB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=sO(r.transform,i||null);o!=null&&(n===null&&(n=pr.empty()),n.set(r.field,o))}return n||null}function IC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Lu(r,i,((o,l)=>SB(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gd extends Eg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends Eg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dO(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function NC(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,wB(l,u,n[i]))}return r}function PC(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,EB(o,l,e))}return r}class wg extends Eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IB extends Eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&AB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oO();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const f=fO(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Lu(this.mutations,e.mutations,((n,r)=>IC(n,r)))&&Lu(this.baseMutations,e.baseMutations,((n,r)=>IC(n,r)))}}class dE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return vB})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new dE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,tt;function MB(t){switch(t){case ue.OK:return Le(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function hO(t){if(t===void 0)return Ho("GRPC error has no .code"),ue.UNKNOWN;switch(t){case nn.OK:return ue.OK;case nn.CANCELLED:return ue.CANCELLED;case nn.UNKNOWN:return ue.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ue.INTERNAL;case nn.UNAVAILABLE:return ue.UNAVAILABLE;case nn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case nn.NOT_FOUND:return ue.NOT_FOUND;case nn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case nn.ABORTED:return ue.ABORTED;case nn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case nn.DATA_LOSS:return ue.DATA_LOSS;default:return Le(39323,{code:t})}}(tt=nn||(nn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=new Za([4294967295,4294967295],0);function RC(t){const e=DB().encode(t),n=new ID;return n.update(e),new Uint8Array(n.digest())}function MC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Za([n,r],0),new Za([i,o],0)]}class hE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rf(`Invalid padding: ${n}`);if(r<0)throw new Rf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Za.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Za.fromNumber(r)));return i.compare(OB)===1&&(i=new Za([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RC(e),[r,i]=MC(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new hE(o,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=RC(e),[r,i]=MC(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sg(je.min(),i,new Ot(Xe),$o(),Qe())}}class vd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vd(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class pO{constructor(e,n){this.targetId=e,this.Ce=n}}class mO{constructor(e,n,r=jn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class DC{constructor(){this.ve=0,this.Fe=OC(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),r=Qe();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:o})}})),new vd(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=OC()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kB{constructor(e){this.Ge=e,this.ze=new Map,this.je=$o(),this.He=mp(),this.Je=mp(),this.Ze=new Ot(Xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(M_(o))if(r===0){const l=new Re(o.path);this.et(n,l,$n.newNoDocument(l,je.min()))}else ut(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=as(r).toUint8Array()}catch(f){if(f instanceof zD)return ku("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new hE(l,i,o)}catch(f){return ku(f instanceof Rf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&M_(u.target)){const f=new Re(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,$n.newNoDocument(f,e))}o.Be&&(n.set(l,o.ke()),o.Ke())}}));let r=Qe();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new Sg(e,n,this.Ze,this.je,r);return this.je=$o(),this.He=mp(),this.Je=mp(),this.Ze=new Ot(Xe),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new DC,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new fn(Xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new fn(Xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Se("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new DC),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mp(){return new Ot(Re.comparator)}function OC(){return new Ot(Re.comparator)}const LB={asc:"ASCENDING",desc:"DESCENDING"},VB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UB={and:"AND",or:"OR"};class jB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k_(t,e){return t.useProto3Json||vg(e)?e:{value:e}}function hm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zB(t,e){return hm(t,e.toTimestamp())}function ao(t){return ut(!!t,49232),je.fromTimestamp((function(n){const r=os(n);return new At(r.seconds,r.nanos)})(t))}function pE(t,e){return L_(t,e).canonicalString()}function L_(t,e){const n=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vO(t){const e=Et.fromString(t);return ut(EO(e),10190,{key:e.toString()}),e}function V_(t,e){return pE(t.databaseId,e.path)}function k0(t,e){const n=vO(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(bO(n))}function yO(t,e){return pE(t.databaseId,e)}function BB(t){const e=vO(t);return e.length===4?Et.emptyPath():bO(e)}function U_(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bO(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kC(t,e,n){return{name:V_(t,e),fields:n.value.mapValue.fields}}function qB(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Le(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,h){return d.useProto3Json?(ut(h===void 0||typeof h=="string",58123),jn.fromBase64String(h||"")):(ut(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(d){const h=d.code===void 0?ue.UNKNOWN:hO(d.code);return new xe(h,d.message||"")})(l);n=new mO(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=k0(t,r.document.name),o=ao(r.document.updateTime),l=r.document.createTime?ao(r.document.createTime):je.min(),u=new pr({mapValue:{fields:r.document.fields}}),f=$n.newFoundDocument(i,o,l,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Gp(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=k0(t,r.document),o=r.readTime?ao(r.readTime):je.min(),l=$n.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Gp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=k0(t,r.document),o=r.removedTargetIds||[];n=new Gp([],o,i,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new RB(i,o),u=r.targetId;n=new pO(u,l)}}return n}function FB(t,e){let n;if(e instanceof gd)n={update:kC(t,e.key,e.value)};else if(e instanceof wg)n={delete:V_(t,e.key)};else if(e instanceof ds)n={update:kC(t,e.key,e.data),updateMask:QB(e.fieldMask)};else{if(!(e instanceof IB))return Le(16599,{dt:e.type});n={verify:V_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof fm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Jf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Xf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof dm)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Le(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:zB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(t,e.precondition)),n}function GB(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?ao(i.updateTime):ao(o);return l.isEqual(je.min())&&(l=ao(o)),new TB(l,i.transformResults||[])})(n,e)))):[]}function HB(t,e){return{documents:[yO(t,e.path)]}}function $B(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yO(t,i);const o=(function(d){if(d.length!==0)return xO(Ci.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((h=>(function(v){return{field:yu(v.field),direction:WB(v.dir)}})(h)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=k_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function KB(t){let e=BB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(m){const v=_O(m);return v instanceof Ci&&JD(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((v=>(function(S){return new Wf(bu(S.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let v;return v=typeof m=="object"?m.value:m,vg(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(m){const v=!!m.before,E=m.values||[];return new cm(E,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const v=!m.before,E=m.values||[];return new cm(E,v)})(n.endAt)),cB(e,i,l,o,u,"F",f,d)}function YB(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _O(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bu(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bu(n.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bu(n.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=bu(n.unaryFilter.field);return rn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(bu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ci.create(n.compositeFilter.filters.map((r=>_O(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function WB(t){return LB[t]}function JB(t){return VB[t]}function XB(t){return UB[t]}function yu(t){return{fieldPath:t.canonicalString()}}function bu(t){return Ln.fromServerFormat(t.fieldPath)}function xO(t){return t instanceof rn?(function(n){if(n.op==="=="){if(EC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NAN"}};if(xC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NOT_NAN"}};if(xC(n.value))return{unaryFilter:{field:yu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yu(n.field),op:JB(n.op),value:n.value}}})(t):t instanceof Ci?(function(n){const r=n.getFilters().map((i=>xO(i)));return r.length===1?r[0]:{compositeFilter:{op:XB(n.op),filters:r}}})(t):Le(54877,{filter:t})}function QB(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function EO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function wO(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n,r,i,o=je.min(),l=je.min(),u=jn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.yt=e}}function e9(t){const e=KB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?O_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.Sn=new n9}addToCollectionParentIndex(e,n){return this.Sn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(is.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class n9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new fn(Et.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SO=41943040;class hr{static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(SO,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ju(0)}static ar(){return new ju(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="LruGarbageCollector",r9=1048576;function UC([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class i9{constructor(e){this.Pr=e,this.buffer=new fn(UC),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();UC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Se(VC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xu(n)?Se(VC,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Ar(3e5)}))}}class a9{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(gg.ce);const r=new i9(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(LC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LC):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,l,u,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),gu()<=nt.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-h}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${m} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function s9(t,e){return new a9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(){this.changes=new gl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Bf(r.mutation,i,Rr.empty(),At.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Xs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=Pf();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Xs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Qe())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let o=$o();const l=zf(),u=(function(){return zf()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof ds)?o=o.insert(d.key,d):h!==void 0?(l.set(d.key,h.mutation.getFieldMask()),Bf(h.mutation,d,h.mutation.getFieldMask(),At.now())):l.set(d.key,Rr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,h)=>l.set(d,h))),n.forEach(((d,h)=>u.set(d,new u9(h,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=zf();let i=new Ot(((l,u)=>l-u)),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||Rr.empty();h=u.applyToLocalView(d,h),r.set(f,h);const m=(i.get(u.batchId)||Qe()).add(f);i=i.insert(u.batchId,m)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,h=f.value,m=oO();h.forEach((v=>{if(!o.has(v)){const E=fO(n.get(v),r.get(v));E!==null&&m.set(v,E),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,m))}return he.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return fB(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):he.resolve(Xs());let u=Hf,f=o;return l.next((d=>he.forEach(d,((h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(h)?he.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{f=f.insert(h,v)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,Qe()))).next((h=>({batchId:u,changes:iO(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=Pf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Pf();return this.indexManager.getCollectionParents(e,o).next((u=>he.forEach(u,(f=>{const d=(function(m,v){return new Qu(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,v)=>{l=l.insert(m,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((f,d)=>{const h=d.getKey();l.get(h)===null&&(l=l.insert(h,$n.newInvalidDocument(h)))}));let u=Pf();return l.forEach(((f,d)=>{const h=o.get(f);h!==void 0&&Bf(h.mutation,d,Rr.empty(),At.now()),_g(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return he.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:ao(i.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:e9(i.bundledQuery),readTime:ao(i.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this.overlays=new Ot(Re.comparator),this.Lr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xs();return he.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=Xs(),o=n.length+1,l=new Re(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ot(((d,h)=>d-h));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=Xs(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=Xs(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return he.resolve(u)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new PB(n,r));let o=this.Lr.get(n);o===void 0&&(o=Qe(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.kr=new fn(bn.Kr),this.qr=new fn(bn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new bn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new bn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Re(new Et([])),r=new bn(n,e),i=new bn(n,e+1),o=[];return this.qr.forEachInRange([r,i],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Re(new Et([])),r=new bn(n,e),i=new bn(n,e+1);let o=Qe();return this.qr.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new bn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Re.comparator(e.key,n.key)||Xe(e.Hr,n.Hr)}static Ur(e,n){return Xe(e.Hr,n.Hr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new fn(bn.Kr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new NB(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Jr=this.Jr.add(new bn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,n){return he.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?oE:this.Yn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bn(n,0),i=new bn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(l=>{const u=this.Zr(l.Hr);o.push(u)})),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(Xe);return n.forEach((i=>{const o=new bn(i,0),l=new bn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(u=>{r=r.add(u.Hr)}))})),he.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const l=new bn(new Re(o),0);let u=new fn(Xe);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Hr)),!0)}),l),he.resolve(this.Yr(u))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return he.forEach(n.mutations,(i=>{const o=new bn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new bn(n,0),i=this.Jr.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.ti=e,this.docs=(function(){return new Ot(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=$o();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():$n.newInvalidDocument(i))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=$o();const l=n.path,u=new Re(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||Bz(zz(h),r)<=0||(i.has(h.key)||_g(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Le(9500)}ni(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new g9(this)}getSize(e){return he.resolve(this.size)}}class g9 extends l9{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.persistence=e,this.ri=new gl((n=>lE(n)),uE),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.ii=0,this.si=new mE,this.targetCount=0,this.oi=ju._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),he.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ju(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.lr(n),he.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),he.waitFor(o).next((()=>i))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),he.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n){this._i={},this.overlays={},this.ai=new gg(0),this.ui=!1,this.ui=!0,this.ci=new h9,this.referenceDelegate=e(this),this.li=new v9(this),this.indexManager=new t9,this.remoteDocumentCache=(function(i){return new m9(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new ZB(n),this.Pi=new f9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new p9(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Se("MemoryPersistence","Starting transaction:",e);const i=new y9(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return he.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class y9 extends Fz{constructor(e){super(),this.currentSequenceNumber=e}}class gE{constructor(e){this.persistence=e,this.Ri=new mE,this.Ai=null}static Vi(e){return new gE(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,(r=>{const i=Re.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,je.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class pm{constructor(e,n){this.persistence=e,this.fi=new gl((r=>$z(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=s9(this,n)}static Vi(e,n){return new pm(e,n)}Ti(){}Ii(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return he.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?he.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(l=>this.wr(e,l,n).next((u=>{u||(r++,o.removeEntry(l,je.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bp(e.data.value)),n}wr(e,n,r){return he.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Qe(),i=Qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new vE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sj()?8:Gz(oj())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new b9;return this.ys(e,n,l).next((u=>{if(o.result=u,this.As)return this.ws(e,n,l,u.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(gu()<=nt.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",vu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(gu()<=nt.DEBUG&&Se("QueryEngine","Query:",vu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(gu()<=nt.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",vu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oo(n))):he.resolve())}gs(e,n){if(AC(n))return he.resolve(null);let r=oo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=O_(n,null,"F"),r=oo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Qe(...o);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(n,u);return this.Ss(n,d,l,f.readTime)?this.gs(e,O_(n,null,"F")):this.Ds(e,d,n,f)}))))})))))}ps(e,n,r,i){return AC(n)||i.isEqual(je.min())?he.resolve(null):this.fs.getDocuments(e,r).next((o=>{const l=this.bs(n,o);return this.Ss(n,l,r,i)?he.resolve(null):(gu()<=nt.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vu(n)),this.Ds(e,l,n,jz(i,Hf)).next((u=>u)))}))}bs(e,n){let r=new fn(nO(e));return n.forEach(((i,o)=>{_g(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return gu()<=nt.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",vu(n)),this.fs.getDocumentsMatchingQuery(e,n,is.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LocalStore",x9=3e8;class E9{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Ot(Xe),this.Fs=new gl((o=>lE(o)),uE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function w9(t,e,n,r){return new E9(t,e,n,r)}async function AO(t,e){const n=Be(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let f=Qe();for(const d of i){l.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of o){u.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function S9(t,e){const n=Be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,h){const m=d.batch,v=m.keys();let E=he.resolve();return v.forEach((S=>{E=E.next((()=>h.getEntry(f,S))).next((A=>{const T=d.docVersions.get(S);ut(T!==null,48541),A.version.compareTo(T)<0&&(m.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),h.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=Qe();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function CO(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function T9(t,e){const n=Be(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const u=[];e.targetChanges.forEach(((h,m)=>{const v=i.get(m);if(!v)return;u.push(n.li.removeMatchingKeys(o,h.removedDocuments,m).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,m))));let E=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(jn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(m,E),(function(A,T,R){return A.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=x9?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,E,h)&&u.push(n.li.updateTargetData(o,E))}));let f=$o(),d=Qe();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(A9(o,l,e.documentUpdates).next((h=>{f=h.Bs,d=h.Ls}))),!r.isEqual(je.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((m=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return he.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(n.vs=i,o)))}function A9(t,e,n){let r=Qe(),i=Qe();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=$o();return n.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Se(yE,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{Bs:l,Ls:i}}))}function C9(t,e){const n=Be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=oE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function I9(t,e){const n=Be(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,he.resolve(i)):n.li.allocateTargetId(r).next((l=>(i=new Wa(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function j_(t,e,n){const r=Be(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Xu(l))throw l;Se(yE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function jC(t,e,n){const r=Be(t);let i=je.min(),o=Qe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,h){const m=Be(f),v=m.Fs.get(h);return v!==void 0?he.resolve(m.vs.get(v)):m.li.getTargetData(d,h)})(r,l,oo(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:je.min(),n?o:Qe()))).next((u=>(N9(r,pB(e),u),{documents:u,ks:o})))))}function N9(t,e,n){let r=t.Ms.get(e)||je.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class zC{constructor(){this.activeTargetIds=_B()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P9{constructor(){this.vo=new zC,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="ConnectivityMonitor";class qC{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Se(BC,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Se(BC,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function z_(){return gp===null?gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="RestConnection",M9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class D9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===lm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const l=z_(),u=this.Qo(e,n.toUriEncodedString());Se(L0,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,o);const{host:d}=new URL(u),h=tE(d);return this.zo(e,u,f,r,h).then((m=>(Se(L0,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw ku(L0,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}jo(e,n,r,i,o,l){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=M9[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection",yf=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Iu extends D9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Iu.c_){const e=MD();yf(e,RD.STAT_EVENT,(n=>{n.stat===C_.PROXY?Se(Fn,"STAT_EVENT: detected buffering proxy"):n.stat===C_.NOPROXY&&Se(Fn,"STAT_EVENT: detected no buffering proxy")})),Iu.c_=!0}}zo(e,n,r,i,o){const l=z_();return new Promise(((u,f)=>{const d=new ND;d.setWithCredentials(!0),d.listenOnce(PD.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case zp.NO_ERROR:const m=d.getResponseJson();Se(Fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case zp.TIMEOUT:Se(Fn,`RPC '${e}' ${l} timed out`),f(new xe(ue.DEADLINE_EXCEEDED,"Request time out"));break;case zp.HTTP_ERROR:const v=d.getStatus();if(Se(Fn,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const A=(function(R){const j=R.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(j)>=0?j:ue.UNKNOWN})(S.status);f(new xe(A,S.message))}else f(new xe(ue.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new xe(ue.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Se(Fn,`RPC '${e}' ${l} completed.`)}}));const h=JSON.stringify(i);Se(Fn,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=z_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");Se(Fn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=l.createWebChannel(d,u);this.I_(h);let m=!1,v=!1;const E=new O9({Ho:S=>{v?Se(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(Se(Fn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Se(Fn,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return yf(h,Nf.EventType.OPEN,(()=>{v||(Se(Fn,`RPC '${e}' stream ${i} transport opened.`),E.i_())})),yf(h,Nf.EventType.CLOSE,(()=>{v||(v=!0,Se(Fn,`RPC '${e}' stream ${i} transport closed`),E.o_(),this.E_(h))})),yf(h,Nf.EventType.ERROR,(S=>{v||(v=!0,ku(Fn,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),E.o_(new xe(ue.UNAVAILABLE,"The operation could not be completed")))})),yf(h,Nf.EventType.MESSAGE,(S=>{var A;if(!v){const T=S.data[0];ut(!!T,16349);const R=T,j=(R==null?void 0:R.error)||((A=R[0])==null?void 0:A.error);if(j){Se(Fn,`RPC '${e}' stream ${i} received error:`,j);const L=j.status;let B=(function(D){const O=nn[D];if(O!==void 0)return hO(O)})(L),H=j.message;B===void 0&&(B=ue.INTERNAL,H="Unknown error status: "+L+" with message "+j.message),v=!0,E.o_(new xe(B,H)),h.close()}else Se(Fn,`RPC '${e}' stream ${i} received:`,T),E.__(T)}})),Iu.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return DD()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){return new Iu(t)}function V0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t){return new jB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Iu.c_=!1;class IO{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="PersistentStream";class NO{constructor(e,n,r,i,o,l,u,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Ho(n.toString()),Ho("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(FC,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Se(FC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L9 extends NO{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qB(this.serializer,e),r=(function(o){if(!("targetChange"in o))return je.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?ao(l.readTime):je.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=U_(this.serializer),n.addTarget=(function(o,l){let u;const f=l.target;if(u=M_(f)?{documents:HB(o,f)}:{query:$B(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=gO(o,l.resumeToken);const d=k_(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=hm(o,l.snapshotVersion.toTimestamp());const d=k_(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=YB(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=U_(this.serializer),n.removeTarget=e,this.K_(n)}}class V9 extends NO{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GB(e.writeResults,e.commitTime),r=ao(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=U_(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>FB(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{}class j9 extends U9{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,L_(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ue.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,L_(n,r),i,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ue.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function z9(t,e,n,r){return new j9(t,e,n,r)}class B9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ho(n),this.aa=!1):Se("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="RemoteStore";class q9{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{vl(this)&&(Se(ll,"Restarting streams for network reachability change."),await(async function(f){const d=Be(f);d.Ea.add(4),await yd(d),d.Va.set("Unknown"),d.Ea.delete(4),await Ag(d)})(this))}))})),this.Va=new B9(r,i)}}async function Ag(t){if(vl(t))for(const e of t.Ra)await e(!0)}async function yd(t){for(const e of t.Ra)await e(!1)}function PO(t,e){const n=Be(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),EE(n)?xE(n):Zu(n).O_()&&_E(n,e))}function bE(t,e){const n=Be(t),r=Zu(n);n.Ia.delete(e),r.O_()&&RO(n,e),n.Ia.size===0&&(r.O_()?r.L_():vl(n)&&n.Va.set("Unknown"))}function _E(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zu(t).Z_(e)}function RO(t,e){t.da.$e(e),Zu(t).X_(e)}function xE(t){t.da=new kB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zu(t).start(),t.Va.ua()}function EE(t){return vl(t)&&!Zu(t).x_()&&t.Ia.size>0}function vl(t){return Be(t).Ea.size===0}function MO(t){t.da=void 0}async function F9(t){t.Va.set("Online")}async function G9(t){t.Ia.forEach(((e,n)=>{_E(t,e)}))}async function H9(t,e){MO(t),EE(t)?(t.Va.ha(e),xE(t)):t.Va.set("Unknown")}async function $9(t,e,n){if(t.Va.set("Online"),e instanceof mO&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.da.removeTarget(u))})(t,e)}catch(r){Se(ll,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mm(t,r)}else if(e instanceof Gp?t.da.Xe(e):e instanceof pO?t.da.st(e):t.da.tt(e),!n.isEqual(je.min()))try{const r=await CO(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.da.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=o.Ia.get(d);h&&o.Ia.set(d,h.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const h=o.Ia.get(f);if(!h)return;o.Ia.set(f,h.withResumeToken(jn.EMPTY_BYTE_STRING,h.snapshotVersion)),RO(o,f);const m=new Wa(h.target,f,d,h.sequenceNumber);_E(o,m)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Se(ll,"Failed to raise snapshot:",r),await mm(t,r)}}async function mm(t,e,n){if(!Xu(e))throw e;t.Ea.add(1),await yd(t),t.Va.set("Offline"),n||(n=()=>CO(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Se(ll,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ag(t)}))}function DO(t,e){return e().catch((n=>mm(t,n,e)))}async function Cg(t){const e=Be(t),n=ls(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:oE;for(;K9(e);)try{const i=await C9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Y9(e,i)}catch(i){await mm(e,i)}OO(e)&&kO(e)}function K9(t){return vl(t)&&t.Ta.length<10}function Y9(t,e){t.Ta.push(e);const n=ls(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function OO(t){return vl(t)&&!ls(t).x_()&&t.Ta.length>0}function kO(t){ls(t).start()}async function W9(t){ls(t).ra()}async function J9(t){const e=ls(t);for(const n of t.Ta)e.ea(n.mutations)}async function X9(t,e,n){const r=t.Ta.shift(),i=dE.from(r,e,n);await DO(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Cg(t)}async function Q9(t,e){e&&ls(t).Y_&&await(async function(r,i){if((function(l){return MB(l)&&l!==ue.ABORTED})(i.code)){const o=r.Ta.shift();ls(r).B_(),await DO(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Cg(r)}})(t,e),OO(t)&&kO(t)}async function GC(t,e){const n=Be(t);n.asyncQueue.verifyOperationInProgress(),Se(ll,"RemoteStore received new credentials");const r=vl(n);n.Ea.add(3),await yd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ag(n)}async function Z9(t,e){const n=Be(t);e?(n.Ea.delete(2),await Ag(n)):e||(n.Ea.add(2),await yd(n),n.Va.set("Unknown"))}function Zu(t){return t.ma||(t.ma=(function(n,r,i){const o=Be(n);return o.sa(),new L9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:F9.bind(null,t),Yo:G9.bind(null,t),t_:H9.bind(null,t),J_:$9.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),EE(t)?xE(t):t.Va.set("Unknown")):(await t.ma.stop(),MO(t))}))),t.ma}function ls(t){return t.fa||(t.fa=(function(n,r,i){const o=Be(n);return o.sa(),new V9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:W9.bind(null,t),t_:Q9.bind(null,t),ta:J9.bind(null,t),na:X9.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Cg(t)):(await t.fa.stop(),t.Ta.length>0&&(Se(ll,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new wE(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function SE(t,e){if(Ho("AsyncQueue",`${e}: ${t}`),Xu(t))return new xe(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{static emptySet(e){return new Nu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Pf(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.ga=new Ot(Re.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class zu{constructor(e,n,r,i,o,l,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new zu(e,n,Nu.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class tq{constructor(){this.queries=$C(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Be(n),o=i.queries;i.queries=$C(),o.forEach(((l,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new xe(ue.ABORTED,"Firestore shutting down"))}}function $C(){return new gl((t=>tO(t)),bg)}async function LO(t,e){const n=Be(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new eq,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=SE(l,`Initialization of query '${vu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&TE(n)}async function VO(t,e){const n=Be(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nq(t,e){const n=Be(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.ba)u.Fa(i)&&(r=!0);l.wa=i}}r&&TE(n)}function rq(t,e,n){const r=Be(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function TE(t){t.Ca.forEach((e=>{e.next()}))}var B_,KC;(KC=B_||(B_={})).Ma="default",KC.Cache="cache";class UO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==B_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.key=e}}class zO{constructor(e){this.key=e}}class iq{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.eu=nO(e),this.tu=new Nu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new HC,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const v=i.get(h),E=_g(this.query,m)?m:null,S=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let T=!1;v&&E?v.data.isEqual(E.data)?S!==A&&(r.track({type:3,doc:E}),T=!0):this.su(v,E)||(r.track({type:2,doc:E}),T=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),T=!0):v&&!E&&(r.track({type:1,doc:v}),T=!0,(f||d)&&(u=!0)),T&&(E?(l=l.add(E),o=A?o.add(h):o.delete(h)):(l=l.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const h=this.query.limitType==="F"?l.last():l.first();l=l.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:l,iu:r,Ss:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((h,m)=>(function(E,S){const A=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:T})}};return A(E)-A(S)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,d=f!==this.Xa;return this.Xa=f,l.length!==0||d?{snapshot:new zu(this.query,e.tu,o,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HC,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new zO(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new jO(r))})),n}cu(e){this.Za=e.ks,this.Ya=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return zu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const AE="SyncEngine";class oq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aq{constructor(e){this.key=e,this.hu=!1}}class sq{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new gl((u=>tO(u)),bg),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ot(Re.comparator),this.Au=new Map,this.Vu=new mE,this.du={},this.mu=new Map,this.fu=ju.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lq(t,e,n=!0){const r=$O(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await BO(r,e,n,!0),i}async function uq(t,e){const n=$O(t);await BO(n,e,!0,!1)}async function BO(t,e,n,r){const i=await I9(t.localStore,oo(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await cq(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&PO(t.remoteStore,i),u}async function cq(t,e,n,r,i){t.pu=(m,v,E)=>(async function(A,T,R,j){let L=T.view.ru(R);L.Ss&&(L=await jC(A.localStore,T.query,!1).then((({documents:D})=>T.view.ru(D,L))));const B=j&&j.targetChanges.get(T.targetId),H=j&&j.targetMismatches.get(T.targetId)!=null,F=T.view.applyChanges(L,A.isPrimaryClient,B,H);return WC(A,T.targetId,F.au),F.snapshot})(t,m,v,E);const o=await jC(t.localStore,e,!0),l=new iq(e,o.ks),u=l.ru(o.documents),f=vd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(u,t.isPrimaryClient,f);WC(t,n,d.au);const h=new oq(e,n,l);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function fq(t,e,n){const r=Be(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!bg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await j_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bE(r.remoteStore,i.targetId),q_(r,i.targetId)})).catch(Ju)):(q_(r,i.targetId),await j_(r.localStore,i.targetId,!0))}async function dq(t,e){const n=Be(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bE(n.remoteStore,r.targetId))}async function hq(t,e,n){const r=_q(t);try{const i=await(function(l,u){const f=Be(l),d=At.now(),h=u.reduce(((E,S)=>E.add(S.key)),Qe());let m,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=$o(),A=Qe();return f.xs.getEntries(E,h).next((T=>{S=T,S.forEach(((R,j)=>{j.isValidDocument()||(A=A.add(R))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,S))).next((T=>{m=T;const R=[];for(const j of u){const L=CB(j,m.get(j.key).overlayedDocument);L!=null&&R.push(new ds(j.key,L,KD(L.value.mapValue),vr.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,R,u)})).next((T=>{v=T;const R=T.applyToLocalDocumentSet(m,A);return f.documentOverlayCache.saveOverlays(E,T.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:iO(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let d=l.du[l.currentUser.toKey()];d||(d=new Ot(Xe)),d=d.insert(u,f),l.du[l.currentUser.toKey()]=d})(r,i.batchId,n),await bd(r,i.changes),await Cg(r.remoteStore)}catch(i){const o=SE(i,"Failed to persist write");n.reject(o)}}async function qO(t,e){const n=Be(t);try{const r=await T9(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ut(l.hu,14607):i.removedDocuments.size>0&&(ut(l.hu,42227),l.hu=!1))})),await bd(n,r,e)}catch(r){await Ju(r)}}function YC(t,e,n){const r=Be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=Be(l);f.onlineState=u;let d=!1;f.queries.forEach(((h,m)=>{for(const v of m.ba)v.va(u)&&(d=!0)})),d&&TE(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pq(t,e,n){const r=Be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new Ot(Re.comparator);l=l.insert(o,$n.newNoDocument(o,je.min()));const u=Qe().add(o),f=new Sg(je.min(),new Map,new Ot(Xe),l,u);await qO(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),CE(r)}else await j_(r.localStore,e,!1).then((()=>q_(r,e,n))).catch(Ju)}async function mq(t,e){const n=Be(t),r=e.batch.batchId;try{const i=await S9(n.localStore,e);GO(n,r,null),FO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bd(n,i)}catch(i){await Ju(i)}}async function gq(t,e,n){const r=Be(t);try{const i=await(function(l,u){const f=Be(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,u).next((m=>(ut(m!==null,37113),h=m.keys(),f.mutationQueue.removeMutationBatch(d,m)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);GO(r,e,n),FO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bd(r,i)}catch(i){await Ju(i)}}function FO(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function GO(t,e,n){const r=Be(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function q_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||HO(t,r)}))}function HO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(bE(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),CE(t))}function WC(t,e,n){for(const r of n)r instanceof jO?(t.Vu.addReference(r.key,e),vq(t,r)):r instanceof zO?(Se(AE,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||HO(t,r.key)):Le(19791,{wu:r})}function vq(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Se(AE,"New document in limbo: "+n),t.Eu.add(r),CE(t))}function CE(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Re(Et.fromString(e)),r=t.fu.next();t.Au.set(r,new aq(n)),t.Ru=t.Ru.insert(n,r),PO(t.remoteStore,new Wa(oo(cE(n.path)),r,"TargetPurposeLimboResolution",gg.ce))}}async function bd(t,e,n){const r=Be(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){i.push(d);const m=vE.Es(f.targetId,d);o.push(m)}})))})),await Promise.all(l),r.Pu.J_(i),await(async function(f,d){const h=Be(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>he.forEach(d,(v=>he.forEach(v.Ts,(E=>h.persistence.referenceDelegate.addReference(m,v.targetId,E))).next((()=>he.forEach(v.Is,(E=>h.persistence.referenceDelegate.removeReference(m,v.targetId,E)))))))))}catch(m){if(!Xu(m))throw m;Se(yE,"Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const E=h.vs.get(v),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(v,A)}}})(r.localStore,o))}async function yq(t,e){const n=Be(t);if(!n.currentUser.isEqual(e)){Se(AE,"User change. New user:",e.toKey());const r=await AO(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new xe(ue.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bd(n,r.Ns)}}function bq(t,e){const n=Be(t),r=n.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let i=Qe();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function $O(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pq.bind(null,e),e.Pu.J_=nq.bind(null,e.eventManager),e.Pu.yu=rq.bind(null,e.eventManager),e}function _q(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gq.bind(null,e),e}class gm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return w9(this.persistence,new _9,e.initialUser,this.serializer)}Cu(e){return new TO(gE.Vi,this.serializer)}Du(e){return new P9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gm.provider={build:()=>new gm};class xq extends gm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof pm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new o9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new TO((r=>pm.Vi(r,n)),this.serializer)}}class F_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yq.bind(null,this.syncEngine),await Z9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tq})()}createDatastore(e){const n=Tg(e.databaseInfo.databaseId),r=k9(e.databaseInfo);return z9(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,u){return new q9(r,i,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>YC(this.syncEngine,n,0)),(function(){return qC.v()?new qC:new R9})())}createSyncEngine(e,n){return(function(i,o,l,u,f,d,h){const m=new sq(i,o,l,u,f,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Be(i);Se(ll,"RemoteStore shutting down."),o.Ea.add(5),await yd(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}F_.provider={build:()=>new F_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ho("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class Eq{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=iE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Se(us,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Se(us,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=SE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function U0(t,e){t.asyncQueue.verifyOperationInProgress(),Se(us,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await AO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function JC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wq(t);Se(us,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>GC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>GC(e.remoteStore,i))),t._onlineComponents=e}async function wq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Se(us,"Using user provided OfflineComponentProvider");try{await U0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ku("Error using user provided cache. Falling back to memory cache: "+n),await U0(t,new gm)}}else Se(us,"Using default OfflineComponentProvider"),await U0(t,new xq(void 0));return t._offlineComponents}async function YO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Se(us,"Using user provided OnlineComponentProvider"),await JC(t,t._uninitializedComponentsProvider._online)):(Se(us,"Using default OnlineComponentProvider"),await JC(t,new F_))),t._onlineComponents}function Sq(t){return YO(t).then((e=>e.syncEngine))}async function WO(t){const e=await YO(t),n=e.eventManager;return n.onListen=lq.bind(null,e.syncEngine),n.onUnlisten=fq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dq.bind(null,e.syncEngine),n}function Tq(t,e,n={}){const r=new zo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,d){const h=new KO({next:v=>{h.Nu(),l.enqueueAndForget((()=>VO(o,m)));const E=v.docs.has(u);!E&&v.fromCache?d.reject(new xe(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&f&&f.source==="server"?d.reject(new xe(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new UO(cE(u.path),h,{includeMetadataChanges:!0,Ka:!0});return LO(o,m)})(await WO(t),t.asyncQueue,e,n,r))),r.promise}function Aq(t,e,n={}){const r=new zo;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,d){const h=new KO({next:v=>{h.Nu(),l.enqueueAndForget((()=>VO(o,m))),v.fromCache&&f.source==="server"?d.reject(new xe(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new UO(u,h,{includeMetadataChanges:!0,Ka:!0});return LO(o,m)})(await WO(t),t.asyncQueue,e,n,r))),r.promise}function Cq(t,e){const n=new zo;return t.asyncQueue.enqueueAndForget((async()=>hq(await Sq(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq="ComponentProvider",XC=new Map;function Nq(t,e,n,r,i){return new Wz(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,JO(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="firestore.googleapis.com",QC=!0;class ZC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XO,this.ssl=QC}else this.host=e.host,this.ssl=e.ssl??QC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<r9)throw new xe(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ig{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Iz;switch(r.type){case"firstParty":return new Mz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=XC.get(n);r&&(Se(Iq,"Removing Datastore"),XC.delete(n),r.terminate())})(this),Promise.resolve()}}function Pq(t,e,n,r={}){var d;t=Ai(t,Ig);const i=tE(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(ej(`https://${u}`),ij("Firestore",!0)),o.host!==XO&&o.host!==u&&ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:r};if(!im(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Hn.MOCK_USER;else{h=tj(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Hn(v)}t._authCredentials=new Nz(new kD(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(md(n,$t._jsonSchema))return new $t(e,r||null,new Re(Et.fromString(n.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:on("string",$t._jsonSchemaVersion),referencePath:on("string")};class es extends yl{constructor(e,n,r){super(e,n,cE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Re(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function vp(t,e,...n){if(t=Ti(t),LD("collection","path",e),t instanceof Ig){const r=Et.fromString(e,...n);return dC(r),new es(t,null,r)}{if(!(t instanceof $t||t instanceof es))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return dC(r),new es(t.firestore,null,r)}}function Pt(t,e,...n){if(t=Ti(t),arguments.length===1&&(e=iE.newId()),LD("doc","path",e),t instanceof Ig){const r=Et.fromString(e,...n);return fC(r),new $t(t,null,new Re(r))}{if(!(t instanceof $t||t instanceof es))throw new xe(ue.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return fC(r),new $t(t.firestore,t instanceof es?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="AsyncQueue";class tI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IO(this,"async_queue_retry"),this._c=()=>{const r=V0();r&&Se(eI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=V0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=V0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Xu(e))throw e;Se(eI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ho("INTERNAL UNHANDLED ERROR: ",nI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=wE.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Le(47125,{Pc:nI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bl extends Ig{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tI(e),this._firestoreClient=void 0,await e}}}function Rq(t,e){const n=typeof t=="object"?t:pz(),r=typeof t=="string"?t:lm,i=uz(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Q6("firestore");o&&Pq(i,...o)}return i}function Ng(t){if(t._terminated)throw new xe(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Mq(t),t._firestoreClient}function Mq(t){var r,i,o,l;const e=t._freezeSettings(),n=Nq(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Eq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jr(jn.fromBase64String(e))}catch(n){throw new xe(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jr(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(md(e,Jr._jsonSchema))return Jr.fromBase64String(e.bytes)}}Jr._jsonSchemaVersion="firestore/bytes/1.0",Jr._jsonSchema={type:on("string",Jr._jsonSchemaVersion),bytes:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:so._jsonSchemaVersion}}static fromJSON(e){if(md(e,so._jsonSchema))return new so(e.latitude,e.longitude)}}so._jsonSchemaVersion="firestore/geoPoint/1.0",so._jsonSchema={type:on("string",so._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(md(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xi(e.vectorValues);throw new xe(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:on("string",xi._jsonSchemaVersion),vectorValues:on("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=/^__.*__$/;class Oq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new gd(e,this.data,n,this.fieldTransforms)}}class QO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:t})}}class NE{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new NE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ZO(this.dataSource)&&Dq.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class kq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tg(e)}createContext(e,n,r,i=!1){return new NE({dataSource:e,methodName:n,targetDoc:r,path:Ln.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(t){const e=t._freezeSettings(),n=Tg(t._databaseId);return new kq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ek(t,e,n,r,i,o={}){const l=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);PE("Data must be an object, but it was:",l,r);const u=rk(r,l);let f,d;if(o.merge)f=new Rr(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const v=Bu(e,m,n);if(!l.contains(v))throw new xe(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);ak(h,v)||h.push(v)}f=new Rr(h),d=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,d=l.fieldTransforms;return new Oq(new pr(u),f,d)}class Mg extends IE{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mg}}function tk(t,e,n,r){const i=t.createContext(1,e,n);PE("Data must be an object, but it was:",i,r);const o=[],l=pr.empty();fs(r,((f,d)=>{const h=ok(e,f,n);d=Ti(d);const m=i.childContextForFieldPath(h);if(d instanceof Mg)o.push(h);else{const v=_d(d,m);v!=null&&(o.push(h),l.set(h,v))}}));const u=new Rr(o);return new QO(l,u,i.fieldTransforms)}function nk(t,e,n,r,i,o){const l=t.createContext(1,e,n),u=[Bu(e,r,n)],f=[i];if(o.length%2!=0)throw new xe(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Bu(e,o[v])),f.push(o[v+1]);const d=[],h=pr.empty();for(let v=u.length-1;v>=0;--v)if(!ak(d,u[v])){const E=u[v];let S=f[v];S=Ti(S);const A=l.childContextForFieldPath(E);if(S instanceof Mg)d.push(E);else{const T=_d(S,A);T!=null&&(d.push(E),h.set(E,T))}}const m=new Rr(d);return new QO(h,m,l.fieldTransforms)}function Lq(t,e,n,r=!1){return _d(n,t.createContext(r?4:3,e))}function _d(t,e){if(ik(t=Ti(t)))return PE("Unsupported field value:",e,t),rk(t,e);if(t instanceof IE)return(function(r,i){if(!ZO(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const u of r){let f=_d(u,i.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=At.fromDate(r);return{timestampValue:hm(i.serializer,o)}}if(r instanceof At){const o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hm(i.serializer,o)}}if(r instanceof so)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jr)return{bytesValue:gO(i.serializer,r._byteString)};if(r instanceof $t){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xi)return(function(l,u){const f=l instanceof xi?l.toArray():l;return{mapValue:{fields:{[HD]:{stringValue:$D},[um]:{arrayValue:{values:f.map((h=>{if(typeof h!="number")throw u.createError("VectorValues must only contain numeric values.");return fE(u.serializer,h)}))}}}}}})(r,i);if(wO(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${mg(r)}`)})(t,e)}function rk(t,e){const n={};return jD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,((r,i)=>{const o=_d(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function ik(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof so||t instanceof Jr||t instanceof $t||t instanceof IE||t instanceof xi||wO(t))}function PE(t,e,n){if(!ik(n)||!VD(n)){const r=mg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Bu(t,e,n){if((e=Ti(e))instanceof Pg)return e._internalPath;if(typeof e=="string")return ok(t,e);throw vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vq=new RegExp("[~\\*/\\[\\]]");function ok(t,e,n){if(e.search(Vq)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pg(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vm(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new xe(ue.INVALID_ARGUMENT,u+t+f)}function ak(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fs(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[um].arrayValue)==null?void 0:i.values)==null?void 0:o.map((l=>Ht(l.doubleValue)));return new xi(n)}convertGeoPoint(e){return new so(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($f(e));default:return null}}convertTimestamp(e){const n=os(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);ut(EO(r),9688,{name:e});const i=new Kf(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return i.isEqual(n)||Ho(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk extends Uq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}const rI="@firebase/firestore",iI="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Bu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jq extends lk{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RE{}class uk extends RE{}function j0(t,e,...n){let r=[];e instanceof RE&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((f=>f instanceof DE)).length,u=o.filter((f=>f instanceof ME)).length;if(l>1||l>0&&u>0)throw new xe(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class ME extends uk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ME(e,n,r)}_apply(e){const n=this._parse(e);return ck(e._query,n),new yl(e.firestore,e.converter,D_(e._query,n))}_parse(e){const n=Rg(e.firestore);return(function(o,l,u,f,d,h,m){let v;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){aI(m,h);const S=[];for(const A of m)S.push(oI(f,o,A));v={arrayValue:{values:S}}}else v=oI(f,o,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||aI(m,h),v=Lq(u,l,m,h==="in"||h==="not-in");return rn.create(d,h,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class DE extends RE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new DE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const u=o.getFlattenedFilters();for(const f of u)ck(l,f),l=D_(l,f)})(e._query,n),new yl(e.firestore,e.converter,D_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class OE extends uk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new OE(e,n)}_apply(e){const n=(function(i,o,l){if(i.startAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wf(o,l)})(e._query,this._field,this._direction);return new yl(e.firestore,e.converter,hB(e._query,n))}}function z0(t,e="asc"){const n=e,r=Bu("orderBy",t);return OE._create(r,n)}function oI(t,e,n){if(typeof(n=Ti(n))=="string"){if(n==="")throw new xe(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eO(e)&&n.indexOf("/")!==-1)throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!Re.isDocumentKey(r))throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _C(t,new Re(r))}if(n instanceof $t)return _C(t,n._key);throw new xe(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mg(n)}.`)}function aI(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ck(t,e){const n=(function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nl extends lk{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=nl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}nl._jsonSchemaVersion="firestore/documentSnapshot/1.0",nl._jsonSchema={type:on("string",nl._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Hp extends nl{data(e={}){return super.data(e)}}class Pu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Hp(this._firestore,this._userDataWriter,r.key,r,new Mf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Hp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Mf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Hp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Mf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),h=l.indexOf(u.doc.key)),{type:Bq(u.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Bq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pu._jsonSchemaVersion="firestore/querySnapshot/1.0",Pu._jsonSchema={type:on("string",Pu._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rg(e)}set(e,n,r){this._verifyNotCommitted();const i=B0(e,this._firestore),o=fk(i.converter,n,r),l=ek(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,vr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=B0(e,this._firestore);let l;return l=typeof(n=Ti(n))=="string"||n instanceof Pg?nk(this._dataReader,"WriteBatch.update",o._key,n,r,i):tk(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(l.toMutation(o._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=B0(e,this._firestore);return this._mutations=this._mutations.concat(new wg(n._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function B0(t,e){if((t=Ti(t)).firestore!==e)throw new xe(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){t=Ai(t,$t);const e=Ai(t.firestore,bl),n=Ng(e);return Tq(n,t._key).then((r=>Fq(e,t,r)))}function yp(t){t=Ai(t,yl);const e=Ai(t.firestore,bl),n=Ng(e),r=new sk(e);return zq(t._query),Aq(n,t._query).then((i=>new Pu(e,r,t,i)))}function fu(t,e,n){t=Ai(t,$t);const r=Ai(t.firestore,bl),i=fk(t.converter,e,n),o=Rg(r);return Dg(r,[ek(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vr.none())])}function Ha(t,e,n,...r){t=Ai(t,$t);const i=Ai(t.firestore,bl),o=Rg(i);let l;return l=typeof(e=Ti(e))=="string"||e instanceof Pg?nk(o,"updateDoc",t._key,e,n,r):tk(o,"updateDoc",t._key,e),Dg(i,[l.toMutation(t._key,vr.exists(!0))])}function q0(t){return Dg(Ai(t.firestore,bl),[new wg(t._key,vr.none())])}function Dg(t,e){const n=Ng(t);return Cq(n,e)}function Fq(t,e,n){const r=n.docs.get(e._key),i=new sk(t);return new nl(t,i,e._key,r,new Mf(n.hasPendingWrites,n.fromCache),e.converter)}function Gq(t){return t=Ai(t,bl),Ng(t),new qq(t,(e=>Dg(t,e)))}(function(e,n=!0){Cz(hz),am(new Ff("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new bl(new Pz(r.getProvider("auth-internal")),new Dz(l,r.getProvider("app-check-internal")),Jz(l,i),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Cu(rI,iI,e),Cu(rI,iI,"esm2020")})();const Hq={apiKey:"AIzaSyBYfyPC_PEejSVytCmgljnKQ2HUSROlIFc",authDomain:"spades-c87ee.firebaseapp.com",projectId:"spades-c87ee",storageBucket:"spades-c87ee.firebasestorage.app",messagingSenderId:"930924627451",appId:"1:930924627451:web:99576f0d2d88f508e6375e",measurementId:"G-X49C6SCGGW"},$q=TD(Hq),ht=Rq($q);class Kq{async getUser(e){try{const n=Pt(ht,"users",e),r=await cu(n);return r.exists()?r.data():null}catch(n){return console.error("Error getting user:",n),null}}async userExists(e){return!!await this.getUser(e)}async saveUser(e){try{await fu(Pt(ht,"users",e.studentId),e)}catch(n){console.error("Error saving user:",n)}}async deleteUser(e){try{await q0(Pt(ht,"users",e))}catch(n){console.error("Error deleting user:",n)}}async updatePassword(e,n){try{await Ha(Pt(ht,"users",e),{passwordHash:n,requiresPasswordChange:!1})}catch(r){console.error("Error updating password:",r)}}async updateUserStatus(e,n){try{await Ha(Pt(ht,"users",e),n)}catch(r){console.error("Error updating user status:",r)}}async convertCurrency(e,n,r){try{const i=await this.getUser(e);if(!i)return{success:!1,message:"User not found."};if(r==="p2s"){const o=n*dr.POINT_TO_SPADE_CONVERSION;if(i.totalPoints<o)return{success:!1,message:`Insufficient Points. Need ${o.toLocaleString()} P.`};await Ha(Pt(ht,"users",e),{totalPoints:i.totalPoints-o,spadesBalance:i.spadesBalance+n})}else{if(i.spadesBalance<n)return{success:!1,message:"Insufficient Spades."};await Ha(Pt(ht,"users",e),{spadesBalance:i.spadesBalance-n,totalPoints:i.totalPoints+n*dr.SPADE_TO_POINT_CONVERSION})}return{success:!0,message:"Conversion process complete."}}catch(i){return console.error("Error converting currency:",i),{success:!1,message:"Error occurred."}}}async processLoginStreak(e){try{const n=await this.getUser(e);if(!n)return;const r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()).toISOString(),o=n.lastLoginDate?new Date(n.lastLoginDate):null;let l=n.streak||1,u=n.streakFreezes||0;if(o){const f=new Date(o.getFullYear(),o.getMonth(),o.getDate()),d=r.getTime()-f.getTime(),h=Math.floor(d/(1e3*60*60*24));h===0||(h===1?l+=1:u>0?u-=1:l=1)}else l=1;await Ha(Pt(ht,"users",e),{streak:l,streakFreezes:u,lastLoginDate:i})}catch(n){console.error("Error processing login streak:",n)}}async purchaseStreakFreeze(e){try{const n=await this.getUser(e);return n?n.streakFreezes>=dr.MAX_STREAK_FREEZES?{success:!1,message:"Maximum streak freezes already equipped."}:n.totalPoints<dr.STREAK_FREEZE_POINT_COST?{success:!1,message:`Insufficient Points. Requisition requires ${dr.STREAK_FREEZE_POINT_COST.toLocaleString()} P.`}:(await Ha(Pt(ht,"users",e),{totalPoints:n.totalPoints-dr.STREAK_FREEZE_POINT_COST,streakFreezes:n.streakFreezes+1}),{success:!0,message:"Streak Freeze equipped."}):{success:!1,message:"User identity not found."}}catch(n){return console.error("Error purchasing streak freeze:",n),{success:!1,message:"Error occurred."}}}async getAllUsers(){try{return(await yp(vp(ht,"users"))).docs.map(n=>n.data())}catch(e){return console.error("Error getting all users:",e),[]}}async getPosts(){try{const e=j0(vp(ht,"posts"),z0("createdAt","desc"));return(await yp(e)).docs.map(r=>r.data())}catch(e){return console.error("Error getting posts:",e),[]}}async savePost(e){try{await fu(Pt(ht,"posts",e.id),e)}catch(n){console.error("Error saving post:",n)}}async deletePost(e){try{await q0(Pt(ht,"posts",e))}catch(n){console.error("Error deleting post:",n)}}async deleteComment(e,n){try{const r=await cu(Pt(ht,"posts",e));if(r.exists()){const o=r.data().comments.filter(l=>l.id!==n);await Ha(Pt(ht,"posts",e),{comments:o})}}catch(r){console.error("Error deleting comment:",r)}}async getArtPieces(){try{const e=j0(vp(ht,"artPieces"),z0("createdAt","desc"));return(await yp(e)).docs.map(r=>r.data())}catch(e){return console.error("Error getting art pieces:",e),[]}}async uploadArt(e){try{await fu(Pt(ht,"artPieces",e.id),e)}catch(n){console.error("Error uploading art:",n)}}async deleteArt(e){try{await q0(Pt(ht,"artPieces",e))}catch(n){console.error("Error deleting art:",n)}}async purchaseArt(e,n,r){try{const i=await this.getUser(e),o=await cu(Pt(ht,"artPieces",n));if(!i)return{success:!1,message:"User identity not found."};if(!o.exists())return{success:!1,message:"Asset record not found."};const l=o.data();if(l.ownerId)return{success:!1,message:"Asset already requisitioned."};let u=0;if(r==="points"){if(!l.allowPoints)return{success:!1,message:"Points not accepted for this asset."};if(i.totalPoints<l.price)return{success:!1,message:"Insufficient point balance."};u=l.price}else{if(!l.allowSpades)return{success:!1,message:"Spades not accepted for this asset."};if(i.spadesBalance<l.spadesPrice)return{success:!1,message:"Insufficient Spades balance."};u=l.spadesPrice}const f=Gq(ht),d=[...i.inventory||[],l.id],h=r==="points"?{totalPoints:i.totalPoints-u,inventory:d}:{spadesBalance:i.spadesBalance-u,inventory:d};f.update(Pt(ht,"users",e),h),f.update(Pt(ht,"artPieces",n),{ownerId:i.studentId,ownerName:i.username});const m={id:`requisition-${Date.now()}`,buyerId:i.studentId,buyerName:i.username,artId:l.id,artTitle:l.title,price:u,currencyUsed:r,timestamp:new Date().toISOString(),delivered:!1};return f.set(Pt(ht,"purchaseLogs",m.id),m),await f.commit(),{success:!0,message:"Asset secured successfully."}}catch(i){return console.error("Error purchasing art:",i),{success:!1,message:"Error occurred."}}}async getPurchaseLogs(){try{const e=j0(vp(ht,"purchaseLogs"),z0("timestamp","desc"));return(await yp(e)).docs.map(r=>r.data())}catch(e){return console.error("Error getting purchase logs:",e),[]}}async markDelivered(e){try{await Ha(Pt(ht,"purchaseLogs",e),{delivered:!0})}catch(n){console.error("Error marking delivered:",n)}}async getSettings(){try{const e=Pt(ht,"systemSettings","settings"),n=await cu(e);return n.exists()?n.data():{minRankToPost:"2",allowPublicSignups:!0,allowGuestAccess:!0,emergencyLockdown:!1}}catch(e){return console.error("Error getting settings:",e),{minRankToPost:"2",allowPublicSignups:!0,allowGuestAccess:!0,emergencyLockdown:!1}}}async updateSettings(e){try{const n=await this.getSettings();await fu(Pt(ht,"systemSettings","settings"),{...n,...e})}catch(n){console.error("Error updating settings:",n)}}async init(){try{const e=Pt(ht,"users","ace of spades");if(!(await cu(e)).exists()){const o={studentId:"ace of spades",username:"ace of spades",passwordHash:"ayanokoji",currentRank:"Ace of Spades",currentCard:"A",totalPoints:5e4,spadesBalance:100,streak:1,streakFreezes:0,lastLoginDate:new Date().toISOString(),joinDate:new Date().toISOString(),lastActive:new Date().toISOString(),yearGroup:13,house:"Phoenix",stats:{postsCreated:0,commentsCreated:0,votesGiven:0,resourcesShared:0,moderationsPerformed:0,minutesStudied:0},isAdmin:!0,requiresPasswordChange:!0,inventory:[]};await fu(e,o)}const r=Pt(ht,"systemSettings","settings");(await cu(r)).exists()||await fu(r,{minRankToPost:"2",allowPublicSignups:!0,allowGuestAccess:!0,emergencyLockdown:!1})}catch(e){console.error("Error initializing:",e)}}}const ke=new Kq,Bo=({rankId:t,size:e="md",className:n=""})=>{const r={sm:"w-10 h-14 text-[10px] rounded",md:"w-28 h-40 text-xl rounded-xl",lg:"w-56 h-80 text-5xl rounded-2xl"},i="",o=t.replace("",""),l=["J","Q","K","A"].includes(o),u=o==="A";return x.jsxs("div",{className:`
      relative bg-[#080808] shadow-2xl 
      flex flex-col items-center justify-center font-display font-bold select-none
      border border-white/10 overflow-hidden text-neutral-200
      transition-all duration-500 group-hover:border-white/20
      ${r[e]} ${n}
      ${l?"shadow-[0_0_30px_rgba(226,177,91,0.1)] border-brand-gold/20":""}
      ${u?"shadow-[0_0_50px_rgba(217,35,35,0.25)] border-brand-red/40":""}
    `,children:[x.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/brushed-alum.png')] mix-blend-overlay"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/5 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 ease-in-out pointer-events-none z-20"}),x.jsx("div",{className:"absolute inset-0.5 border border-white/5 rounded-[inherit] pointer-events-none"}),x.jsxs("div",{className:"absolute top-1 left-1.5 leading-none flex flex-col items-center",children:[x.jsx("span",{className:`${u?"text-brand-red":l?"text-brand-gold":"text-neutral-300"} font-display tracking-tight`,children:o}),x.jsx("span",{className:"text-[0.5em] text-neutral-600",children:i})]}),x.jsx("div",{className:`relative z-10 transform group-hover:scale-110 transition-transform duration-500 flex items-center justify-center h-full
            ${u?"text-brand-red drop-shadow-[0_0_15px_rgba(217,35,35,0.6)] text-2xl md:text-6xl":l?"text-brand-gold drop-shadow-[0_0_10px_rgba(226,177,91,0.4)]":"text-neutral-800"}
        `,children:x.jsx("span",{className:e==="sm"&&u?"text-xl":"",children:i})}),e==="lg"&&x.jsx("div",{className:`absolute inset-0 flex items-center justify-center opacity-5 font-black text-9xl pointer-events-none 
                ${u?"text-brand-red":"text-white"}`,children:o}),x.jsxs("div",{className:"absolute bottom-1 right-1.5 leading-none flex flex-col items-center rotate-180",children:[x.jsx("span",{className:`${u?"text-brand-red":l?"text-brand-gold":"text-neutral-300"} font-display tracking-tight`,children:o}),x.jsx("span",{className:"text-[0.5em] text-neutral-600",children:i})]}),u&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-brand-red/10 to-transparent opacity-50"}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2/3 bg-gradient-to-t from-brand-red/20 to-transparent blur-xl opacity-30 animate-pulse-slow"})]}),!u&&l&&x.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-brand-gold/5 via-transparent to-brand-gold/5 pointer-events-none"})]})},Yq=({user:t,activeTab:e,onTabChange:n,onLogout:r})=>{const i=[{id:"dashboard",label:"Dashboard",icon:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},{id:"guide",label:"#SYSTEM GUIDE",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{id:"focus",label:"Focus Realm",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"feed",label:"Global Network",icon:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"},{id:"gallery",label:"The Vault",icon:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 v12a2 2 0 002 2z"},{id:"council",label:"Council Chamber",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{id:"leaderboard",label:"Elite Rankings",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},{id:"settings",label:"Settings",icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}];return t.isAdmin&&i.push({id:"admin",label:"Ace Controls",icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"}),x.jsxs(x.Fragment,{children:[x.jsxs("aside",{className:"hidden md:flex flex-col w-72 h-screen fixed left-0 top-0 glass-panel border-r border-white/5 z-50",children:[x.jsxs("div",{className:"p-8 border-b border-white/5 relative overflow-hidden group",children:[x.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-brand-red shadow-[0_0_10px_#dc2626]"}),x.jsx("div",{className:"absolute inset-0 bg-brand-red/5 opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),x.jsx("h1",{className:"text-3xl font-display font-black text-white tracking-widest leading-none",children:"SPADES"}),x.jsx("p",{className:"text-[10px] text-brand-red mt-2 uppercase tracking-[0.3em] font-bold",children:"Protocol Hub"})]}),x.jsx("div",{className:"flex-1 overflow-y-auto py-8 space-y-2 px-4",children:i.map(o=>x.jsxs("button",{onClick:()=>n(o.id),className:`group w-full flex items-center gap-4 px-4 py-4 rounded-xl transition-all duration-300 relative overflow-hidden ${e===o.id?"bg-gradient-to-r from-brand-red/20 to-transparent text-white border border-brand-red/10 shadow-[0_0_15px_rgba(220,38,38,0.1)]":"text-neutral-500 hover:bg-white/5 hover:text-white border border-transparent"}`,children:[x.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-0.5 transition-all duration-300 ${e===o.id?"bg-brand-red opacity-100":"bg-brand-red opacity-0 group-hover:opacity-50"}`}),x.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${e===o.id?"scale-110 text-brand-red":"group-hover:scale-110"} ${o.id==="guide"?"text-brand-gold":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:o.icon})}),x.jsx("span",{className:`font-display font-medium tracking-wide text-sm ${o.id==="guide"?"text-brand-gold font-bold":""}`,children:o.label})]},o.id))}),x.jsxs("div",{className:"p-4 mx-4 mb-4 rounded-xl bg-black/40 border border-white/10 relative overflow-hidden group hover:border-brand-gold/30 transition-colors duration-500",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-brand-gold/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),x.jsxs("div",{className:"flex gap-4 items-center mb-3",children:[x.jsx("div",{className:"shrink-0 transform group-hover:scale-105 transition-transform duration-500",children:x.jsx(Bo,{rankId:t.currentCard,size:"sm"})}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("p",{className:"text-sm font-bold text-white truncate font-display tracking-wide",children:t.username}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-brand-red animate-pulse"}),x.jsxs("p",{className:"text-[10px] text-neutral-400 font-mono truncate",children:[(t.totalPoints??0).toLocaleString()," PTS"]})]})]})]}),x.jsx("button",{type:"button",onClick:o=>{o.preventDefault(),o.stopPropagation(),r()},className:"w-full py-2.5 rounded-lg bg-neutral-900 border border-white/5 hover:bg-red-950/20 hover:text-red-400 hover:border-red-900/30 text-[10px] text-neutral-500 font-bold uppercase tracking-widest transition-all relative z-10",children:"Terminate Session"})]})]}),x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-black/95 backdrop-blur-xl border-t border-white/10 z-50 pb-safe",children:x.jsx("div",{className:"flex justify-around items-center h-20 px-2 overflow-x-auto",children:i.map(o=>x.jsxs("button",{onClick:()=>n(o.id),className:`flex flex-col items-center justify-center min-w-[60px] h-full space-y-1.5 transition-all duration-300 ${e===o.id?"text-brand-red":"text-neutral-600"}`,children:[x.jsx("div",{className:`p-1.5 rounded-full ${e===o.id?"bg-brand-red/10":""}`,children:x.jsx("svg",{className:`w-5 h-5 ${o.id==="guide"?"text-brand-gold":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:o.icon})})}),x.jsx("span",{className:"text-[9px] uppercase font-bold tracking-wider",children:o.id==="guide"?"GUIDE":o.label.split(" ")[0]})]},o.id))})})]})};var Wq={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Jq,Xq;function Qq(){return{geminiUrl:Jq,vertexUrl:Xq}}function Zq(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=Qq();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ta{}function we(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];y(h,e.slice(o+1),n[d])}else for(const d of f)y(d,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];y(f[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function eF(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}G_(t,i,o,0,l)}}function G_(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const f of u[l])G_(f,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=l[d];for(const[d,h]of Object.entries(f)){const m=[];for(const v of n.slice(r))v==="*"?m.push(d):m.push(v);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=t;o in l&&G_(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tF(t){const e={},n=g(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function nF(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],iF(l)),e}function rF(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],oF(l)),e}function iF(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>aF(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function oF(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>sF(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function aF(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],hF(n)),e}function sF(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],pF(n)),e}function lF(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function uF(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function cF(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],fF(l)),e}function fF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function dk(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],dF(l)),e}function dF(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function hF(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],kE(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function pF(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],kE(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(sI||(sI={}));var lI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(lI||(lI={}));var uI;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(uI||(uI={}));var _i;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(_i||(_i={}));var cI;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(cI||(cI={}));var fI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fI||(fI={}));var dI;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dI||(dI={}));var hI;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(hI||(hI={}));var pI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(pI||(pI={}));var mI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(mI||(mI={}));var gI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(gI||(gI={}));var vI;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(vI||(vI={}));var yI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yI||(yI={}));var bI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(bI||(bI={}));var _I;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(_I||(_I={}));var xI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(xI||(xI={}));var EI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(EI||(EI={}));var wI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wI||(wI={}));var SI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(SI||(SI={}));var TI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(TI||(TI={}));var AI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(AI||(AI={}));var ym;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(ym||(ym={}));var CI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(CI||(CI={}));var II;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(II||(II={}));var NI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(NI||(NI={}));var H_;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(H_||(H_={}));var PI;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(PI||(PI={}));var RI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(RI||(RI={}));var $_;(function(t){t.COLLECTION="COLLECTION"})($_||($_={}));var MI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(MI||(MI={}));var DI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(DI||(DI={}));var OI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(OI||(OI={}));var kI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(kI||(kI={}));var LI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(LI||(LI={}));var VI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(VI||(VI={}));var UI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(UI||(UI={}));var jI;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jI||(jI={}));var zI;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(zI||(zI={}));var BI;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(BI||(BI={}));var qI;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(qI||(qI={}));var FI;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(FI||(FI={}));var GI;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(GI||(GI={}));var HI;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(HI||(HI={}));var $I;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})($I||($I={}));var KI;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(KI||(KI={}));var YI;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(YI||(YI={}));var WI;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(WI||(WI={}));var JI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(JI||(JI={}));var XI;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(XI||(XI={}));var QI;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(QI||(QI={}));var ZI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ZI||(ZI={}));var eN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(eN||(eN={}));var tN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tN||(tN={}));var nN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nN||(nN={}));var rN;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rN||(rN={}));var iN;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(iN||(iN={}));var Eu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Eu||(Eu={}));class K_{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class bf{get text(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const v of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[E,S]of Object.entries(v))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(E);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[v,E]of Object.entries(m))v!=="inlineData"&&(E!==null||E!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,l,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,l,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class oN{}class aN{}class mF{}class gF{}class vF{}class yF{}class sN{}class lN{}class uN{}class bF{}class bm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new bm;let i;const o=e;return n?i=rF(o):i=nF(o),Object.assign(r,i),r}}class cN{}class fN{}class dN{}class hN{}class _F{}class xF{}class EF{}class LE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new LE,o=cF(e);return Object.assign(r,o),r}}class wF{}class SF{}class TF{}class pN{}class AF{get text(){var e,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class CF{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class VE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new VE,o=dk(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ot(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function hk(t,e){const n=ot(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function pk(t){return Array.isArray(t)?t.map(e=>_m(e)):[_m(t)]}function _m(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function mk(t){const e=_m(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gk(t){const e=_m(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mN(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function vk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>mN(e)):[mN(t)]}function Y_(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function gN(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function vN(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Yn(t){if(t==null)throw new Error("ContentUnion is required");return Y_(t)?t:{role:"user",parts:vk(t)}}function UE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Yn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Yn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Yn(n)):[Yn(e)]}function Zr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(gN(t)||vN(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Yn(t)]}const e=[],n=[],r=Y_(t[0]);for(const i of t){const o=Y_(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(gN(i)||vN(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:vk(n)}),e}function IF(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(_i).includes(n[0].toUpperCase())?n[0].toUpperCase():_i.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(_i).includes(r.toUpperCase())?r.toUpperCase():_i.TYPE_UNSPECIFIED})}}function Ru(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&IF(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(_i).includes(u.toUpperCase())?u.toUpperCase():_i.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Ru(u);else if(r.includes(l)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(Ru(d))}e[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(u))f[d]=Ru(h);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=u}return e}function jE(t){return Ru(t)}function zE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function BE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ec(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ru(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ru(e.response));return t}function tc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function NF(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function na(t,e){if(typeof e!="string")throw new Error("name must be a string");return NF(t,e,"cachedContents")}function yk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function hs(t){return kE(t)}function PF(t){return t!=null&&typeof t=="object"&&"name"in t}function RF(t){return t!=null&&typeof t=="object"&&"video"in t}function MF(t){return t!=null&&typeof t=="object"&&"uri"in t}function bk(t){var e;let n;if(PF(t)&&(n=t.name),!(MF(t)&&(n=t.uri,n===void 0))&&!(RF(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _k(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function xk(t){for(const e of["models","tunedModels","publisherModels"])if(DF(t,e))return t[e];return[]}function DF(t,e){return t!==null&&typeof t=="object"&&e in t}function OF(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function kF(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=OF(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Ek(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function LF(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function wk(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function nc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Sk(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VF(t){const e={},n=g(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>v8(l))),y(e,["inlinedResponses"],o)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["inlinedEmbedContentResponses"],o)}return e}function UF(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function jF(t){const e={},n=g(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $p(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&y(e,["state"],Sk(i));const o=g(t,["metadata","createTime"]);o!=null&&y(e,["createTime"],o);const l=g(t,["metadata","endTime"]);l!=null&&y(e,["endTime"],l);const u=g(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const f=g(t,["metadata","model"]);f!=null&&y(e,["model"],f);const d=g(t,["metadata","output"]);return d!=null&&y(e,["dest"],VF(wk(d))),e}function W_(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["state"]);i!=null&&y(e,["state"],Sk(i));const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["createTime"]);l!=null&&y(e,["createTime"],l);const u=g(t,["startTime"]);u!=null&&y(e,["startTime"],u);const f=g(t,["endTime"]);f!=null&&y(e,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(e,["updateTime"],d);const h=g(t,["model"]);h!=null&&y(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&y(e,["src"],zF(m));const v=g(t,["outputConfig"]);v!=null&&y(e,["dest"],UF(wk(v)));const E=g(t,["completionStats"]);return E!=null&&y(e,["completionStats"],E),e}function zF(t){const e={},n=g(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function BF(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>g8(t,l))),y(n,["requests","requests"],o)}return n}function qF(t){const e={},n=g(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function FF(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function GF(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],nc(t,r)),n}function HF(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],nc(t,r)),n}function $F(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],KF(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=g(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&y(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>E)),y(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function KF(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function Tk(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>S8(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function YF(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function WF(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],jF(LF(i))),n}function yN(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],BF(t,Ek(t,i)));const o=g(e,["config"]);return o!=null&&YF(o,n),n}function JF(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],ot(t,r));const i=g(e,["src"]);i!=null&&y(n,["inputConfig"],qF(Ek(t,i)));const o=g(e,["config"]);return o!=null&&WF(o,n),n}function XF(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function QF(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],o8(t,i));const o=g(e,["config"]);return o!=null&&XF(o,n),n}function ZF(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],nc(t,r)),n}function e8(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],nc(t,r)),n}function t8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);return o!=null&&y(e,["error"],o),e}function n8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);return o!=null&&y(e,["error"],o),e}function r8(t,e){const n={},r=g(e,["contents"]);if(r!=null){let o=UE(t,r);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["requests[]","request","content"],o)}const i=g(e,["config"]);return i!=null&&(y(n,["_self"],i8(i,n)),eF(n,{"requests[].*":"requests[].request.*"})),n}function i8(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function o8(t,e){const n={},r=g(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],r8(t,i)),n}function a8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function s8(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l8(t){const e={},n=g(t,["allowedFunctionNames"]);n!=null&&y(e,["allowedFunctionNames"],n);const r=g(t,["mode"]);if(r!=null&&y(e,["mode"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function u8(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Tk(Yn(i)));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const S=g(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&y(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const R=g(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],jE(R));const j=g(e,["responseJsonSchema"]);if(j!=null&&y(r,["responseJsonSchema"],j),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=g(e,["safetySettings"]);if(n!==void 0&&L!=null){let V=L;Array.isArray(V)&&(V=V.map(de=>T8(de))),y(n,["safetySettings"],V)}const B=g(e,["tools"]);if(n!==void 0&&B!=null){let V=tc(B);Array.isArray(V)&&(V=V.map(de=>C8(ec(de)))),y(n,["tools"],V)}const H=g(e,["toolConfig"]);if(n!==void 0&&H!=null&&y(n,["toolConfig"],A8(H)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=g(e,["cachedContent"]);n!==void 0&&F!=null&&y(n,["cachedContent"],na(t,F));const D=g(e,["responseModalities"]);D!=null&&y(r,["responseModalities"],D);const O=g(e,["mediaResolution"]);O!=null&&y(r,["mediaResolution"],O);const k=g(e,["speechConfig"]);if(k!=null&&y(r,["speechConfig"],zE(k)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=g(e,["thinkingConfig"]);G!=null&&y(r,["thinkingConfig"],G);const q=g(e,["imageConfig"]);q!=null&&y(r,["imageConfig"],m8(q));const M=g(e,["enableEnhancedCivicAnswers"]);if(M!=null&&y(r,["enableEnhancedCivicAnswers"],M),g(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function c8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>$F(d))),y(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=g(t,["responseId"]);l!=null&&y(e,["responseId"],l);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function f8(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],nc(t,r)),n}function d8(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],nc(t,r)),n}function h8(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function p8(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function m8(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function g8(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["request","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let u=Zr(i);Array.isArray(u)&&(u=u.map(f=>Tk(f))),y(n,["request","contents"],u)}const o=g(e,["metadata"]);o!=null&&y(n,["metadata"],o);const l=g(e,["config"]);return l!=null&&y(n,["request","generationConfig"],u8(t,l,g(n,["request"],{}))),n}function v8(t){const e={},n=g(t,["response"]);n!=null&&y(e,["response"],c8(n));const r=g(t,["error"]);return r!=null&&y(e,["error"],r),e}function y8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function b8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),n}function _8(t){const e={},n=g(t,["config"]);return n!=null&&y8(n,e),e}function x8(t){const e={},n=g(t,["config"]);return n!=null&&b8(n,e),e}function E8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>$p(l))),y(e,["batchJobs"],o)}return e}function w8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>W_(l))),y(e,["batchJobs"],o)}return e}function S8(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],a8(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],s8(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],FF(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function T8(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function A8(t){const e={},n=g(t,["retrievalConfig"]);n!=null&&y(e,["retrievalConfig"],n);const r=g(t,["functionCallingConfig"]);return r!=null&&y(e,["functionCallingConfig"],l8(r)),e}function C8(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}const l=g(t,["googleMaps"]);l!=null&&y(e,["googleMaps"],h8(l));const u=g(t,["googleSearch"]);u!=null&&y(e,["googleSearch"],p8(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&y(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ko;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Ko||(Ko={}));class _l{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I8 extends ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _l(Ko.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=yN(this.apiClient,e),r=n._url,i=we("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const E=m.request;E.systemInstruction=v,m.request=E}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=JF(this.apiClient,e);return u=we("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>W_(h))}else{const d=yN(this.apiClient,e);return u=we("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>$p(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QF(this.apiClient,e);return o=we("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>$p(f))}}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=d8(this.apiClient,e);return u=we("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>W_(h))}else{const d=f8(this.apiClient,e);return u=we("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>$p(h))}}async cancel(e){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const f=HF(this.apiClient,e);l=we("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=GF(this.apiClient,e);l=we("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=x8(e);return u=we("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=w8(h),v=new pN;return Object.assign(v,m),v})}else{const d=_8(e);return u=we("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=E8(h),v=new pN;return Object.assign(v,m),v})}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=e8(this.apiClient,e);return u=we("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>n8(h))}else{const d=ZF(this.apiClient,e);return u=we("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>t8(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N8(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function bN(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Q8(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function P8(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let h=Zr(l);Array.isArray(h)&&(h=h.map(m=>bN(m))),y(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],bN(Yn(u)));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>eG(m))),y(e,["tools"],h)}const d=g(t,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],Z8(d)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function R8(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let m=Zr(l);Array.isArray(m)&&(m=m.map(v=>v)),y(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],Yn(u));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>tG(v))),y(e,["tools"],m)}const d=g(t,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function M8(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],hk(t,r));const i=g(e,["config"]);return i!=null&&P8(i,n),n}function D8(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],hk(t,r));const i=g(e,["config"]);return i!=null&&R8(i,n),n}function O8(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],na(t,r)),n}function k8(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],na(t,r)),n}function L8(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function V8(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function U8(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function j8(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function z8(t){const e={},n=g(t,["allowedFunctionNames"]);n!=null&&y(e,["allowedFunctionNames"],n);const r=g(t,["mode"]);if(r!=null&&y(e,["mode"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function B8(t){const e={},n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);if(u!=null&&y(e,["responseJsonSchema"],u),g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function q8(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],na(t,r)),n}function F8(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],na(t,r)),n}function G8(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function H8(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function $8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function K8(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Y8(t){const e={},n=g(t,["config"]);return n!=null&&$8(n,e),e}function W8(t){const e={},n=g(t,["config"]);return n!=null&&K8(n,e),e}function J8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function X8(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function Q8(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],U8(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],j8(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],N8(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function Z8(t){const e={},n=g(t,["retrievalConfig"]);n!=null&&y(e,["retrievalConfig"],n);const r=g(t,["functionCallingConfig"]);return r!=null&&y(e,["functionCallingConfig"],z8(r)),e}function eG(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}const l=g(t,["googleMaps"]);l!=null&&y(e,["googleMaps"],G8(l));const u=g(t,["googleSearch"]);u!=null&&y(e,["googleSearch"],H8(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&y(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function tG(t){const e={},n=g(t,["retrieval"]);n!=null&&y(e,["retrieval"],n);const r=g(t,["computerUse"]);if(r!=null&&y(e,["computerUse"],r),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(t,["codeExecution"]);i!=null&&y(e,["codeExecution"],i);const o=g(t,["enterpriseWebSearch"]);o!=null&&y(e,["enterpriseWebSearch"],o);const l=g(t,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>B8(v))),y(e,["functionDeclarations"],m)}const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],u);const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const d=g(t,["googleSearchRetrieval"]);d!=null&&y(e,["googleSearchRetrieval"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function nG(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function rG(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function iG(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],na(t,r));const i=g(e,["config"]);return i!=null&&nG(i,n),n}function oG(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],na(t,r));const i=g(e,["config"]);return i!=null&&rG(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aG extends ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _l(Ko.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=D8(this.apiClient,e);return u=we("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=M8(this.apiClient,e);return u=we("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=F8(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=q8(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=k8(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=V8(h),v=new dN;return Object.assign(v,m),v})}else{const d=O8(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=L8(h),v=new dN;return Object.assign(v,m),v})}}async update(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=oG(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=iG(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=W8(e);return u=we("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=X8(h),v=new hN;return Object.assign(v,m),v})}else{const d=Y8(e);return u=we("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=J8(h),v=new hN;return Object.assign(v,m),v})}}}function xm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _N(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(t){return this instanceof Ue?(this.v=t,this):new Ue(t)}function Ei(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(E){return function(S){return Promise.resolve(S).then(E,m)}}function u(E,S){r[E]&&(i[E]=function(A){return new Promise(function(T,R){o.push([E,A,T,R])>1||f(E,A)})},S&&(i[E]=S(i[E])))}function f(E,S){try{d(r[E](S))}catch(A){v(o[0][3],A)}}function d(E){E.value instanceof Ue?Promise.resolve(E.value.v).then(h,m):v(o[0][2],E)}function h(E){f("next",E)}function m(E){f("throw",E)}function v(E,S){E(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function wi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _N=="function"?_N(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(u,f){l=t[o](l),i(u,f,l.done,l.value)})}}function i(o,l,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sG(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Ak(n)}function Ak(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function lG(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function xN(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Ak(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class uG{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new cG(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class cG{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),lG(o)}async sendMessage(e){var n;await this.sendPromise;const r=Yn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const E=d?[d]:[];this.recordHistory(r,E,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Yn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?xN(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ei(this,arguments,function*(){var i,o,l,u,f,d;const h=[];try{for(var m=!0,v=wi(e),E;E=yield Ue(v.next()),i=E.done,!i;m=!0){u=E.value,m=!1;const S=u;if(sG(S)){const A=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;A!==void 0&&h.push(A)}yield yield Ue(S)}}catch(S){o={error:S}}finally{try{!m&&!i&&(l=v.return)&&(yield Ue(l.call(v)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...xN(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Qf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fG(t){const e={},n=g(t,["file"]);return n!=null&&y(e,["file"],n),e}function dG(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function hG(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],bk(n)),e}function pG(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function mG(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],bk(n)),e}function gG(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function vG(t){const e={},n=g(t,["config"]);return n!=null&&gG(n,e),e}function yG(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bG extends ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _l(Ko.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vG(e);return o=we("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=yG(f),h=new wF;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fG(e);return o=we("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=dG(f),h=new SF;return Object.assign(h,d),h})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mG(e);return o=we("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hG(e);return o=we("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=pG(f),h=new TF;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kp(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function _G(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LG(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function xG(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function EG(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wG(t){const e={},n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);if(u!=null&&y(e,["responseJsonSchema"],u),g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function SG(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=g(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(e,["responseLogprobs"],v);const E=g(t,["responseMimeType"]);E!=null&&y(e,["responseMimeType"],E);const S=g(t,["responseModalities"]);S!=null&&y(e,["responseModalities"],S);const A=g(t,["responseSchema"]);A!=null&&y(e,["responseSchema"],A);const T=g(t,["routingConfig"]);T!=null&&y(e,["routingConfig"],T);const R=g(t,["seed"]);R!=null&&y(e,["seed"],R);const j=g(t,["speechConfig"]);j!=null&&y(e,["speechConfig"],j);const L=g(t,["stopSequences"]);L!=null&&y(e,["stopSequences"],L);const B=g(t,["temperature"]);B!=null&&y(e,["temperature"],B);const H=g(t,["thinkingConfig"]);H!=null&&y(e,["thinkingConfig"],H);const F=g(t,["topK"]);F!=null&&y(e,["topK"],F);const D=g(t,["topP"]);if(D!=null&&y(e,["topP"],D),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function TG(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function AG(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function CG(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],BE(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],_G(Yn(S)));const A=g(t,["tools"]);if(e!==void 0&&A!=null){let F=tc(A);Array.isArray(F)&&(F=F.map(D=>UG(ec(D)))),y(e,["setup","tools"],F)}const T=g(t,["sessionResumption"]);e!==void 0&&T!=null&&y(e,["setup","sessionResumption"],VG(T));const R=g(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const j=g(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","outputAudioTranscription"],j);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&y(e,["setup","realtimeInputConfig"],L);const B=g(t,["contextWindowCompression"]);e!==void 0&&B!=null&&y(e,["setup","contextWindowCompression"],B);const H=g(t,["proactivity"]);if(e!==void 0&&H!=null&&y(e,["setup","proactivity"],H),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function IG(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],SG(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],BE(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],Yn(S));const A=g(t,["tools"]);if(e!==void 0&&A!=null){let D=tc(A);Array.isArray(D)&&(D=D.map(O=>jG(ec(O)))),y(e,["setup","tools"],D)}const T=g(t,["sessionResumption"]);e!==void 0&&T!=null&&y(e,["setup","sessionResumption"],T);const R=g(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const j=g(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","outputAudioTranscription"],j);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&y(e,["setup","realtimeInputConfig"],L);const B=g(t,["contextWindowCompression"]);e!==void 0&&B!=null&&y(e,["setup","contextWindowCompression"],B);const H=g(t,["proactivity"]);e!==void 0&&H!=null&&y(e,["setup","proactivity"],H);const F=g(t,["explicitVadSignal"]);return e!==void 0&&F!=null&&y(e,["setup","explicitVadSignal"],F),n}function NG(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],CG(i,n)),n}function PG(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],IG(i,n)),n}function RG(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function MG(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function DG(t){const e={},n=g(t,["media"]);if(n!=null){let d=pk(n);Array.isArray(d)&&(d=d.map(h=>Kp(h))),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],Kp(gk(r)));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&y(e,["video"],Kp(mk(o)));const l=g(t,["text"]);l!=null&&y(e,["text"],l);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function OG(t){const e={},n=g(t,["media"]);if(n!=null){let d=pk(n);Array.isArray(d)&&(d=d.map(h=>h)),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],gk(r));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&y(e,["video"],mk(o));const l=g(t,["text"]);l!=null&&y(e,["text"],l);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function kG(t){const e={},n=g(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const o=g(t,["toolCallCancellation"]);o!=null&&y(e,["toolCallCancellation"],o);const l=g(t,["usageMetadata"]);l!=null&&y(e,["usageMetadata"],zG(l));const u=g(t,["goAway"]);u!=null&&y(e,["goAway"],u);const f=g(t,["sessionResumptionUpdate"]);f!=null&&y(e,["sessionResumptionUpdate"],f);const d=g(t,["voiceActivityDetectionSignal"]);d!=null&&y(e,["voiceActivityDetectionSignal"],d);const h=g(t,["voiceActivity"]);return h!=null&&y(e,["voiceActivity"],BG(h)),e}function LG(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],xG(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],EG(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],Kp(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function VG(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function UG(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}const l=g(t,["googleMaps"]);l!=null&&y(e,["googleMaps"],TG(l));const u=g(t,["googleSearch"]);u!=null&&y(e,["googleSearch"],AG(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&y(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function jG(t){const e={},n=g(t,["retrieval"]);n!=null&&y(e,["retrieval"],n);const r=g(t,["computerUse"]);if(r!=null&&y(e,["computerUse"],r),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(t,["codeExecution"]);i!=null&&y(e,["codeExecution"],i);const o=g(t,["enterpriseWebSearch"]);o!=null&&y(e,["enterpriseWebSearch"],o);const l=g(t,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>wG(v))),y(e,["functionDeclarations"],m)}const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],u);const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const d=g(t,["googleSearchRetrieval"]);d!=null&&y(e,["googleSearchRetrieval"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function zG(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const o=g(t,["toolUsePromptTokenCount"]);o!=null&&y(e,["toolUsePromptTokenCount"],o);const l=g(t,["thoughtsTokenCount"]);l!=null&&y(e,["thoughtsTokenCount"],l);const u=g(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const f=g(t,["promptTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>S)),y(e,["promptTokensDetails"],E)}const d=g(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(S=>S)),y(e,["cacheTokensDetails"],E)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(S=>S)),y(e,["responseTokensDetails"],E)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(S=>S)),y(e,["toolUsePromptTokensDetails"],E)}const v=g(t,["trafficType"]);return v!=null&&y(e,["trafficType"],v),e}function BG(t){const e={},n=g(t,["type"]);return n!=null&&y(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qG(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function FG(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],GG(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=g(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&y(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>E)),y(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function GG(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function HG(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let o=Zr(i);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["contents"],o)}return n}function $G(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["tokensInfo"],i)}return e}function KG(t){const e={},n=g(t,["values"]);n!=null&&y(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&y(e,["statistics"],YG(r)),e}function YG(t){const e={},n=g(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function Og(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>r7(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function WG(t){const e={},n=g(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function JG(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function XG(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],Yn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Pk(u))),y(e,["tools"],l)}const o=g(t,["generationConfig"]);return e!==void 0&&o!=null&&y(e,["generationConfig"],qH(o)),n}function QG(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let l=Zr(i);Array.isArray(l)&&(l=l.map(u=>Og(u))),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&JG(o),n}function ZG(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let l=Zr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&XG(o,n),n}function eH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function tH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function nH(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],ot(t,r)),n}function rH(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],ot(t,r)),n}function iH(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function oH(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function aH(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&y(e,["parameters","includeRaiReason"],v);const E=g(t,["language"]);e!==void 0&&E!=null&&y(e,["parameters","language"],E);const S=g(t,["outputMimeType"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","mimeType"],S);const A=g(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&y(e,["parameters","outputOptions","compressionQuality"],A);const T=g(t,["addWatermark"]);e!==void 0&&T!=null&&y(e,["parameters","addWatermark"],T);const R=g(t,["labels"]);e!==void 0&&R!=null&&y(e,["labels"],R);const j=g(t,["editMode"]);e!==void 0&&j!=null&&y(e,["parameters","editMode"],j);const L=g(t,["baseSteps"]);return e!==void 0&&L!=null&&y(e,["parameters","editConfig","baseSteps"],L),n}function sH(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>u7(f))),y(n,["instances[0]","referenceImages"],u)}const l=g(e,["config"]);return l!=null&&aH(l,n),n}function lH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>kg(o))),y(e,["generatedImages"],i)}return e}function uH(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function cH(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const o=g(t,["outputDimensionality"]);e!==void 0&&o!=null&&y(e,["parameters","outputDimensionality"],o);const l=g(t,["mimeType"]);e!==void 0&&l!=null&&y(e,["instances[]","mimeType"],l);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function fH(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let u=UE(t,i);Array.isArray(u)&&(u=u.map(f=>f)),y(n,["requests[]","content"],u)}const o=g(e,["config"]);o!=null&&uH(o,n);const l=g(e,["model"]);return l!==void 0&&y(n,["requests[]","model"],ot(t,l)),n}function dH(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let l=UE(t,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const o=g(e,["config"]);return o!=null&&cH(o,n),n}function hH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function pH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>KG(l))),y(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function mH(t){const e={},n=g(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function gH(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function vH(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yH(t){const e={},n=g(t,["allowedFunctionNames"]);n!=null&&y(e,["allowedFunctionNames"],n);const r=g(t,["mode"]);if(r!=null&&y(e,["mode"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bH(t){const e={},n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);if(u!=null&&y(e,["responseJsonSchema"],u),g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function _H(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Og(Yn(i)));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const S=g(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&y(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const R=g(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],jE(R));const j=g(e,["responseJsonSchema"]);if(j!=null&&y(r,["responseJsonSchema"],j),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=g(e,["safetySettings"]);if(n!==void 0&&L!=null){let V=L;Array.isArray(V)&&(V=V.map(de=>c7(de))),y(n,["safetySettings"],V)}const B=g(e,["tools"]);if(n!==void 0&&B!=null){let V=tc(B);Array.isArray(V)&&(V=V.map(de=>v7(ec(de)))),y(n,["tools"],V)}const H=g(e,["toolConfig"]);if(n!==void 0&&H!=null&&y(n,["toolConfig"],g7(H)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=g(e,["cachedContent"]);n!==void 0&&F!=null&&y(n,["cachedContent"],na(t,F));const D=g(e,["responseModalities"]);D!=null&&y(r,["responseModalities"],D);const O=g(e,["mediaResolution"]);O!=null&&y(r,["mediaResolution"],O);const k=g(e,["speechConfig"]);if(k!=null&&y(r,["speechConfig"],zE(k)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=g(e,["thinkingConfig"]);G!=null&&y(r,["thinkingConfig"],G);const q=g(e,["imageConfig"]);q!=null&&y(r,["imageConfig"],KH(q));const M=g(e,["enableEnhancedCivicAnswers"]);if(M!=null&&y(r,["enableEnhancedCivicAnswers"],M),g(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function xH(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Yn(i));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const S=g(e,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const A=g(e,["seed"]);A!=null&&y(r,["seed"],A);const T=g(e,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const R=g(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],jE(R));const j=g(e,["responseJsonSchema"]);j!=null&&y(r,["responseJsonSchema"],j);const L=g(e,["routingConfig"]);L!=null&&y(r,["routingConfig"],L);const B=g(e,["modelSelectionConfig"]);B!=null&&y(r,["modelConfig"],B);const H=g(e,["safetySettings"]);if(n!==void 0&&H!=null){let oe=H;Array.isArray(oe)&&(oe=oe.map(ve=>ve)),y(n,["safetySettings"],oe)}const F=g(e,["tools"]);if(n!==void 0&&F!=null){let oe=tc(F);Array.isArray(oe)&&(oe=oe.map(ve=>Pk(ec(ve)))),y(n,["tools"],oe)}const D=g(e,["toolConfig"]);n!==void 0&&D!=null&&y(n,["toolConfig"],D);const O=g(e,["labels"]);n!==void 0&&O!=null&&y(n,["labels"],O);const k=g(e,["cachedContent"]);n!==void 0&&k!=null&&y(n,["cachedContent"],na(t,k));const G=g(e,["responseModalities"]);G!=null&&y(r,["responseModalities"],G);const q=g(e,["mediaResolution"]);q!=null&&y(r,["mediaResolution"],q);const M=g(e,["speechConfig"]);M!=null&&y(r,["speechConfig"],zE(M));const V=g(e,["audioTimestamp"]);V!=null&&y(r,["audioTimestamp"],V);const de=g(e,["thinkingConfig"]);de!=null&&y(r,["thinkingConfig"],de);const ye=g(e,["imageConfig"]);if(ye!=null&&y(r,["imageConfig"],YH(ye)),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const W=g(e,["modelArmorConfig"]);return n!==void 0&&W!=null&&y(n,["modelArmorConfig"],W),r}function EN(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let l=Zr(i);Array.isArray(l)&&(l=l.map(u=>Og(u))),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&y(n,["generationConfig"],_H(t,o,n)),n}function wN(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["contents"]);if(i!=null){let l=Zr(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&y(n,["generationConfig"],xH(t,o,n)),n}function SN(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>FG(d))),y(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=g(t,["responseId"]);l!=null&&y(e,["responseId"],l);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function TN(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["candidates"],d)}const i=g(t,["createTime"]);i!=null&&y(e,["createTime"],i);const o=g(t,["modelVersion"]);o!=null&&y(e,["modelVersion"],o);const l=g(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const u=g(t,["responseId"]);u!=null&&y(e,["responseId"],u);const f=g(t,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function EH(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const o=g(t,["guidanceScale"]);if(e!==void 0&&o!=null&&y(e,["parameters","guidanceScale"],o),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const f=g(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=g(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const h=g(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","mimeType"],m);const v=g(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&y(e,["parameters","outputOptions","compressionQuality"],v),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=g(t,["imageSize"]);if(e!==void 0&&E!=null&&y(e,["parameters","sampleImageSize"],E),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function wH(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&y(e,["parameters","includeRaiReason"],v);const E=g(t,["language"]);e!==void 0&&E!=null&&y(e,["parameters","language"],E);const S=g(t,["outputMimeType"]);e!==void 0&&S!=null&&y(e,["parameters","outputOptions","mimeType"],S);const A=g(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&y(e,["parameters","outputOptions","compressionQuality"],A);const T=g(t,["addWatermark"]);e!==void 0&&T!=null&&y(e,["parameters","addWatermark"],T);const R=g(t,["labels"]);e!==void 0&&R!=null&&y(e,["labels"],R);const j=g(t,["imageSize"]);e!==void 0&&j!=null&&y(e,["parameters","sampleImageSize"],j);const L=g(t,["enhancePrompt"]);return e!==void 0&&L!=null&&y(e,["parameters","enhancePrompt"],L),n}function SH(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&EH(o,n),n}function TH(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&wH(o,n),n}function AH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>UH(l))),y(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],Ik(i)),e}function CH(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>kg(l))),y(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],Nk(i)),e}function IH(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&y(e,["parameters","aspectRatio"],o);const l=g(t,["resolution"]);e!==void 0&&l!=null&&y(e,["parameters","resolution"],l);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(t,["negativePrompt"]);e!==void 0&&f!=null&&y(e,["parameters","negativePrompt"],f);const d=g(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],Lg(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(E=>P7(E))),y(e,["instances[0]","referenceImages"],v)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function NH(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const o=g(t,["fps"]);e!==void 0&&o!=null&&y(e,["parameters","fps"],o);const l=g(t,["durationSeconds"]);e!==void 0&&l!=null&&y(e,["parameters","durationSeconds"],l);const u=g(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const f=g(t,["aspectRatio"]);e!==void 0&&f!=null&&y(e,["parameters","aspectRatio"],f);const d=g(t,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&y(e,["parameters","pubsubTopic"],m);const v=g(t,["negativePrompt"]);e!==void 0&&v!=null&&y(e,["parameters","negativePrompt"],v);const E=g(t,["enhancePrompt"]);e!==void 0&&E!=null&&y(e,["parameters","enhancePrompt"],E);const S=g(t,["generateAudio"]);e!==void 0&&S!=null&&y(e,["parameters","generateAudio"],S);const A=g(t,["lastFrame"]);e!==void 0&&A!=null&&y(e,["instances[0]","lastFrame"],Pi(A));const T=g(t,["referenceImages"]);if(e!==void 0&&T!=null){let L=T;Array.isArray(L)&&(L=L.map(B=>R7(B))),y(e,["instances[0]","referenceImages"],L)}const R=g(t,["mask"]);e!==void 0&&R!=null&&y(e,["instances[0]","mask"],N7(R));const j=g(t,["compressionQuality"]);return e!==void 0&&j!=null&&y(e,["parameters","compressionQuality"],j),n}function PH(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],OH(l)),e}function RH(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],kH(l)),e}function MH(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&y(n,["instances[0]","image"],Lg(o));const l=g(e,["video"]);l!=null&&y(n,["instances[0]","video"],Rk(l));const u=g(e,["source"]);u!=null&&LH(u,n);const f=g(e,["config"]);return f!=null&&IH(f,n),n}function DH(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&y(n,["instances[0]","image"],Pi(o));const l=g(e,["video"]);l!=null&&y(n,["instances[0]","video"],Mk(l));const u=g(e,["source"]);u!=null&&VH(u,n);const f=g(e,["config"]);return f!=null&&NH(f,n),n}function OH(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>zH(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function kH(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>BH(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function LH(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Lg(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],Rk(o)),n}function VH(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Pi(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],Mk(o)),n}function UH(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],WH(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],Ik(i)),e}function kg(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],Ck(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&y(e,["safetyAttributes"],Nk(i));const o=g(t,["prompt"]);return o!=null&&y(e,["enhancedPrompt"],o),e}function jH(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["mask"],Ck(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["labels"],i)}return e}function zH(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],C7(n)),e}function BH(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],I7(n)),e}function qH(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=g(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(e,["responseLogprobs"],v);const E=g(t,["responseMimeType"]);E!=null&&y(e,["responseMimeType"],E);const S=g(t,["responseModalities"]);S!=null&&y(e,["responseModalities"],S);const A=g(t,["responseSchema"]);A!=null&&y(e,["responseSchema"],A);const T=g(t,["routingConfig"]);T!=null&&y(e,["routingConfig"],T);const R=g(t,["seed"]);R!=null&&y(e,["seed"],R);const j=g(t,["speechConfig"]);j!=null&&y(e,["speechConfig"],j);const L=g(t,["stopSequences"]);L!=null&&y(e,["stopSequences"],L);const B=g(t,["temperature"]);B!=null&&y(e,["temperature"],B);const H=g(t,["thinkingConfig"]);H!=null&&y(e,["thinkingConfig"],H);const F=g(t,["topK"]);F!=null&&y(e,["topK"],F);const D=g(t,["topP"]);if(D!=null&&y(e,["topP"],D),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function FH(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],ot(t,r)),n}function GH(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],ot(t,r)),n}function HH(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function $H(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function KH(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function YH(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=g(t,["personGeneration"]);i!=null&&y(e,["personGeneration"],i);const o=g(t,["outputMimeType"]);o!=null&&y(e,["imageOutputOptions","mimeType"],o);const l=g(t,["outputCompressionQuality"]);return l!=null&&y(e,["imageOutputOptions","compressionQuality"],l),e}function WH(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],hs(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Ck(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],hs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Lg(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],hs(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Pi(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],hs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function JH(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=g(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],_k(t,u)),r}function XH(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=g(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],_k(t,u)),r}function QH(t,e){const n={},r=g(e,["config"]);return r!=null&&JH(t,r,n),n}function ZH(t,e){const n={},r=g(e,["config"]);return r!=null&&XH(t,r,n),n}function e7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=xk(i);Array.isArray(o)&&(o=o.map(l=>J_(l))),y(e,["models"],o)}return e}function t7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=xk(i);Array.isArray(o)&&(o=o.map(l=>X_(l))),y(e,["models"],o)}return e}function n7(t){const e={},n=g(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function J_(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const o=g(t,["version"]);o!=null&&y(e,["version"],o);const l=g(t,["_self"]);l!=null&&y(e,["tunedModelInfo"],y7(l));const u=g(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const f=g(t,["outputTokenLimit"]);f!=null&&y(e,["outputTokenLimit"],f);const d=g(t,["supportedGenerationMethods"]);d!=null&&y(e,["supportedActions"],d);const h=g(t,["temperature"]);h!=null&&y(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&y(e,["maxTemperature"],m);const v=g(t,["topP"]);v!=null&&y(e,["topP"],v);const E=g(t,["topK"]);E!=null&&y(e,["topK"],E);const S=g(t,["thinking"]);return S!=null&&y(e,["thinking"],S),e}function X_(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const o=g(t,["versionId"]);o!=null&&y(e,["version"],o);const l=g(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>mH(v))),y(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&y(e,["labels"],u);const f=g(t,["_self"]);f!=null&&y(e,["tunedModelInfo"],b7(f));const d=g(t,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>v)),y(e,["checkpoints"],m)}return e}function r7(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],gH(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],vH(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],qG(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function i7(t){const e={},n=g(t,["productImage"]);return n!=null&&y(e,["image"],Pi(n)),e}function o7(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const o=g(t,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const l=g(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const f=g(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const d=g(t,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","compressionQuality"],m);const v=g(t,["enhancePrompt"]);e!==void 0&&v!=null&&y(e,["parameters","enhancePrompt"],v);const E=g(t,["labels"]);return e!==void 0&&E!=null&&y(e,["labels"],E),n}function a7(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["source"]);i!=null&&l7(i,n);const o=g(e,["config"]);return o!=null&&o7(o,n),n}function s7(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>kg(i))),y(e,["generatedImages"],r)}return e}function l7(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],Pi(i));const o=g(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>i7(u))),y(e,["instances[0]","productImages"],l)}return n}function u7(t){const e={},n=g(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Pi(n));const r=g(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const o=g(t,["maskImageConfig"]);o!=null&&y(e,["maskImageConfig"],n7(o));const l=g(t,["controlImageConfig"]);l!=null&&y(e,["controlImageConfig"],WG(l));const u=g(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const f=g(t,["subjectImageConfig"]);return f!=null&&y(e,["subjectImageConfig"],f),e}function Ik(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function Nk(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function c7(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function f7(t){const e={},n=g(t,["image"]);return n!=null&&y(e,["image"],Pi(n)),e}function d7(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const o=g(t,["confidenceThreshold"]);e!==void 0&&o!=null&&y(e,["parameters","confidenceThreshold"],o);const l=g(t,["maskDilation"]);e!==void 0&&l!=null&&y(e,["parameters","maskDilation"],l);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const f=g(t,["labels"]);return e!==void 0&&f!=null&&y(e,["labels"],f),n}function h7(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["source"]);i!=null&&m7(i,n);const o=g(e,["config"]);return o!=null&&d7(o,n),n}function p7(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>jH(i))),y(e,["generatedMasks"],r)}return e}function m7(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Pi(i));const o=g(t,["scribbleImage"]);return e!==void 0&&o!=null&&y(e,["instances[0]","scribble"],f7(o)),n}function g7(t){const e={},n=g(t,["retrievalConfig"]);n!=null&&y(e,["retrievalConfig"],n);const r=g(t,["functionCallingConfig"]);return r!=null&&y(e,["functionCallingConfig"],yH(r)),e}function v7(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}const l=g(t,["googleMaps"]);l!=null&&y(e,["googleMaps"],HH(l));const u=g(t,["googleSearch"]);u!=null&&y(e,["googleSearch"],$H(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&y(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function Pk(t){const e={},n=g(t,["retrieval"]);n!=null&&y(e,["retrieval"],n);const r=g(t,["computerUse"]);if(r!=null&&y(e,["computerUse"],r),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(t,["codeExecution"]);i!=null&&y(e,["codeExecution"],i);const o=g(t,["enterpriseWebSearch"]);o!=null&&y(e,["enterpriseWebSearch"],o);const l=g(t,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>bH(v))),y(e,["functionDeclarations"],m)}const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],u);const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],f);const d=g(t,["googleSearchRetrieval"]);d!=null&&y(e,["googleSearchRetrieval"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function y7(t){const e={},n=g(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function b7(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function _7(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function x7(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function E7(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","name"],ot(t,r));const i=g(e,["config"]);return i!=null&&_7(i,n),n}function w7(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&x7(i,n),n}function S7(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const o=g(t,["personGeneration"]);e!==void 0&&o!=null&&y(e,["parameters","personGeneration"],o);const l=g(t,["includeRaiReason"]);e!==void 0&&l!=null&&y(e,["parameters","includeRaiReason"],l);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const f=g(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const d=g(t,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const v=g(t,["numberOfImages"]);e!==void 0&&v!=null&&y(e,["parameters","sampleCount"],v);const E=g(t,["mode"]);return e!==void 0&&E!=null&&y(e,["parameters","mode"],E),n}function T7(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ot(t,r));const i=g(e,["image"]);i!=null&&y(n,["instances[0]","image"],Pi(i));const o=g(e,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=g(e,["config"]);return l!=null&&S7(l,n),n}function A7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>kg(o))),y(e,["generatedImages"],i)}return e}function C7(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],hs(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function I7(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],hs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function N7(t){const e={},n=g(t,["image"]);n!=null&&y(e,["_self"],Pi(n));const r=g(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function P7(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],Lg(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function R7(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],Pi(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function Rk(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],hs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function Mk(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],hs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M7(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function D7(t){const e={},n=g(t,["config"]);return n!=null&&M7(n,e),e}function O7(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function k7(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&O7(r,e),e}function L7(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function V7(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["customMetadata"],o)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function U7(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],z7(l)),e}function j7(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&V7(i,e),e}function z7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function B7(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function q7(t){const e={},n=g(t,["config"]);return n!=null&&B7(n,e),e}function F7(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["fileSearchStores"],o)}return e}function Dk(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const o=g(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),y(e,["customMetadata"],u)}const l=g(t,["chunkingConfig"]);return e!==void 0&&l!=null&&y(e,["chunkingConfig"],l),n}function G7(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&Dk(r,e),e}function H7(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $7="Content-Type",K7="X-Server-Timeout",Y7="User-Agent",Q_="x-goog-api-client",W7="1.38.0",J7=`google-genai-sdk/${W7}`,X7="v1beta1",Q7="v1beta";class Z7{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:X7}else{if(!this.clientOptions.apiKey)throw new Qf({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Q7,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===$_.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&e$(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await AN(i),new K_(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await AN(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ei(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield Ue(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(h,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),T=A.status,R=A.code,j=`got status: ${T}. ${JSON.stringify(S)}`;if(R>=400&&R<600)throw new Qf({message:j,status:R})}}catch(S){if(S.name==="ApiError")throw S}l+=m;let v=-1,E=0;for(;;){v=-1,E=0;for(const T of f){const R=l.indexOf(T);R!==-1&&(v===-1||R<v)&&(v=R,E=T.length)}if(v===-1)break;const S=l.substring(0,v);l=l.substring(v+E);const A=S.trim();if(A.startsWith(u)){const T=A.substring(u.length).trim();try{const R=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ue(new K_(R))}catch(R){throw new Error(`exception parsing stream chunk ${T}. ${R}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=J7+" "+this.clientOptions.userAgentExtra;return e[Y7]=n,e[Q_]=n,e[$7]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(K7,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(e),h=we("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&Dk(r,m);const v=await this.fetchUploadUrl(d,u,f,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var u;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function AN(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Qf({message:i,status:n}):new Error(i)}}function e$(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t$="mcp_used/unknown";let n$=!1;function Ok(t){for(const e of t)if(r$(e)||typeof e=="object"&&"inputSchema"in e)return!0;return n$}function kk(t){var e;const n=(e=t[Q_])!==null&&e!==void 0?e:"";t[Q_]=(n+` ${t$}`).trimStart()}function r$(t){return t!==null&&typeof t=="object"&&t instanceof qE}function i$(t){return Ei(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield Ue(n.listTools({cursor:i}));for(const u of l.tools)yield yield Ue(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class qE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new qE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,wi(i$(h))),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;l.push(m);const v=m.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),kF(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function o$(t,e,n){const r=new CF;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class a${constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=u$(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(L=>{d=L}),m=e.callbacks,v=function(){d({})},E=this.apiClient,S={onopen:v,onmessage:L=>{o$(E,m.onmessage,L)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(L){}},A=this.webSocketFactory.create(f,l$(l),S);A.connect(),await h;const j={setup:{model:ot(this.apiClient,e.model)}};return A.send(JSON.stringify(j)),new s$(A,this.apiClient)}}class s${constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=MG(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=RG(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Eu.PLAY)}pause(){this.sendPlaybackControl(Eu.PAUSE)}stop(){this.sendPlaybackControl(Eu.STOP)}resetContext(){this.sendPlaybackControl(Eu.RESET_CONTEXT)}close(){this.conn.close()}}function l$(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function u$(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c$="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function f$(t,e,n){const r=new AF;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=kG(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class d${constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new a$(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&Ok(e.config.tools)&&kk(m);const v=g$(m);if(this.apiClient.isVertexAI()){const k=this.apiClient.getProject(),G=this.apiClient.getLocation(),q=this.apiClient.getApiKey(),M=!!k&&!!G||!!q;this.apiClient.getCustomBaseUrl()&&!M?h=f:(h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const k=this.apiClient.getApiKey();let G="BidiGenerateContent",q="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",q="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${G}?${q}=${k}`}let E=()=>{};const S=new Promise(k=>{E=k}),A=e.callbacks,T=function(){var k;(k=A==null?void 0:A.onopen)===null||k===void 0||k.call(A),E({})},R=this.apiClient,j={onopen:T,onmessage:k=>{f$(R,A.onmessage,k)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(k){}},L=this.webSocketFactory.create(h,m$(v),j);L.connect(),await S;let B=ot(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const k=this.apiClient.getProject(),G=this.apiClient.getLocation();k&&G&&(B=`projects/${k}/locations/${G}/`+B)}let H={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[ym.AUDIO]}:e.config.responseModalities=[ym.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const F=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],D=[];for(const k of F)if(this.isCallableTool(k)){const G=k;D.push(await G.tool())}else D.push(k);D.length>0&&(e.config.tools=D);const O={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=PG(this.apiClient,O):H=NG(this.apiClient,O),delete H.config,L.send(JSON.stringify(H)),new p$(L,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const h$={turnComplete:!0};class p${constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Zr(n.turns),e.isVertexAI()||(r=r.map(i=>Og(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(c$)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},h$),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:OG(e)}:n={realtimeInput:DG(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function m$(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function g$(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CN=10;function IN(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Mu(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Mu(t){return"callTool"in t&&typeof t.callTool=="function"}function v$(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Mu(i)))!==null&&r!==void 0?r:!1}function NN(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Mu(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function PN(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y$ extends ta{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!v$(n)||IN(n.config))return await this.generateContentInternal(f);const d=NN(n);if(d.length>0){const A=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,m;const v=Zr(f.contents),E=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:CN;let S=0;for(;S<E&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,T=[];for(const R of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Mu(R)){const L=await R.callTool(h.functionCalls);T.push(...L)}S++,m={role:"user",parts:T},f.contents=Zr(f.contents),f.contents.push(A),f.contents.push(m),PN(f.config)&&(v.push(A),v.push(m))}return PN(f.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),IN(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=NN(n);if(f.length>0){const m=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new _l(Ko.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async f=>Mu(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Ok(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),kk(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Mu(l)){const u=l,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:CN;let l=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,h,m){return Ei(this,arguments,function*(){for(var v,E,S,A,T,R;u<o;){l&&(u++,l=!1);const H=yield Ue(d.processParamsMaybeAddMcpUsage(m)),F=yield Ue(d.generateContentStreamInternal(H)),D=[],O=[];try{for(var j=!0,L=(E=void 0,wi(F)),B;B=yield Ue(L.next()),v=B.done,!v;j=!0){A=B.value,j=!1;const k=A;if(yield yield Ue(k),k.candidates&&(!((T=k.candidates[0])===null||T===void 0)&&T.content)){O.push(k.candidates[0].content);for(const G of(R=k.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(u<o&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(G.functionCall.name)){const q=yield Ue(h.get(G.functionCall.name).callTool([G.functionCall]));D.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(k){E={error:k}}finally{try{!j&&!v&&(S=L.return)&&(yield Ue(S.call(L)))}finally{if(E)throw E.error}}if(D.length>0){l=!0;const k=new bf;k.candidates=[{content:{role:"user",parts:D}}],yield yield Ue(k);const G=[];G.push(...O),G.push({role:"user",parts:D});const q=Zr(m.contents).concat(G);m.contents=q}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=wN(this.apiClient,e);return u=we("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=TN(h),v=new bf;return Object.assign(v,m),v})}else{const d=EN(this.apiClient,e);return u=we("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=SN(h),v=new bf;return Object.assign(v,m),v})}}async generateContentStreamInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=wN(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Ei(this,arguments,function*(){var v,E,S,A;try{for(var T=!0,R=wi(m),j;j=yield Ue(R.next()),v=j.done,!v;T=!0){A=j.value,T=!1;const L=A,B=TN(yield Ue(L.json()));B.sdkHttpResponse={headers:L.headers};const H=new bf;Object.assign(H,B),yield yield Ue(H)}}catch(L){E={error:L}}finally{try{!T&&!v&&(S=R.return)&&(yield Ue(S.call(R)))}finally{if(E)throw E.error}}})})}else{const d=EN(this.apiClient,e);return u=we("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Ei(this,arguments,function*(){var v,E,S,A;try{for(var T=!0,R=wi(m),j;j=yield Ue(R.next()),v=j.done,!v;T=!0){A=j.value,T=!1;const L=A,B=SN(yield Ue(L.json()));B.sdkHttpResponse={headers:L.headers};const H=new bf;Object.assign(H,B),yield yield Ue(H)}}catch(L){E={error:L}}finally{try{!T&&!v&&(S=R.return)&&(yield Ue(S.call(R)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=dH(this.apiClient,e);return u=we("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=pH(h),v=new oN;return Object.assign(v,m),v})}else{const d=fH(this.apiClient,e);return u=we("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=hH(h),v=new oN;return Object.assign(v,m),v})}}async generateImagesInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=TH(this.apiClient,e);return u=we("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=CH(h),v=new aN;return Object.assign(v,m),v})}else{const d=SH(this.apiClient,e);return u=we("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=AH(h),v=new aN;return Object.assign(v,m),v})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=sH(this.apiClient,e);return o=we("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=lH(f),h=new mF;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=T7(this.apiClient,e);return o=we("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=A7(f),h=new gF;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=a7(this.apiClient,e);return o=we("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=s7(f),h=new vF;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=h7(this.apiClient,e);return o=we("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=p7(f),h=new yF;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=GH(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>X_(h))}else{const d=FH(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>J_(h))}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=ZH(this.apiClient,e);return u=we("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=t7(h),v=new sN;return Object.assign(v,m),v})}else{const d=QH(this.apiClient,e);return u=we("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=e7(h),v=new sN;return Object.assign(v,m),v})}}async update(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=w7(this.apiClient,e);return u=we("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>X_(h))}else{const d=E7(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>J_(h))}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=rH(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=oH(h),v=new lN;return Object.assign(v,m),v})}else{const d=nH(this.apiClient,e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=iH(h),v=new lN;return Object.assign(v,m),v})}}async countTokens(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=ZG(this.apiClient,e);return u=we("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=tH(h),v=new uN;return Object.assign(v,m),v})}else{const d=QG(this.apiClient,e);return u=we("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=eH(h),v=new uN;return Object.assign(v,m),v})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=HG(this.apiClient,e);return o=we("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=$G(f),h=new bF;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=DH(this.apiClient,e);return u=we("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=RH(h),v=new bm;return Object.assign(v,m),v})}else{const d=MH(this.apiClient,e);return u=we("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=PH(h),v=new bm;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b$ extends ta{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=uF(e);return u=we("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=lF(e);return u=we("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=tF(e);return o=we("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _$(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function x$(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>P$(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function E$(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=g(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const l=g(e,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],N$(t,u));const f=g(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function w$(t,e){const n={},r=g(e,["config"]);return r!=null&&y(n,["config"],E$(t,r,n)),n}function S$(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function T$(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function A$(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function C$(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function I$(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],BE(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const S=g(t,["systemInstruction"]);e!==void 0&&S!=null&&y(e,["setup","systemInstruction"],x$(Yn(S)));const A=g(t,["tools"]);if(e!==void 0&&A!=null){let F=tc(A);Array.isArray(F)&&(F=F.map(D=>M$(ec(D)))),y(e,["setup","tools"],F)}const T=g(t,["sessionResumption"]);e!==void 0&&T!=null&&y(e,["setup","sessionResumption"],R$(T));const R=g(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const j=g(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&y(e,["setup","outputAudioTranscription"],j);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&y(e,["setup","realtimeInputConfig"],L);const B=g(t,["contextWindowCompression"]);e!==void 0&&B!=null&&y(e,["setup","contextWindowCompression"],B);const H=g(t,["proactivity"]);if(e!==void 0&&H!=null&&y(e,["setup","proactivity"],H),g(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function N$(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],ot(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],I$(i,n)),n}function P$(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],S$(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],T$(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],_$(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function R$(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function M$(t){const e={};if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(t,["computerUse"]);n!=null&&y(e,["computerUse"],n);const r=g(t,["fileSearch"]);r!=null&&y(e,["fileSearch"],r);const i=g(t,["codeExecution"]);if(i!=null&&y(e,["codeExecution"],i),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}const l=g(t,["googleMaps"]);l!=null&&y(e,["googleMaps"],A$(l));const u=g(t,["googleSearch"]);u!=null&&y(e,["googleSearch"],C$(u));const f=g(t,["googleSearchRetrieval"]);f!=null&&y(e,["googleSearchRetrieval"],f);const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D$(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function O$(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=D$(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class k$ extends ta{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=w$(this.apiClient,e);o=we("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=O$(u,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L$(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function V$(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&L$(r,e),e}function U$(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function j$(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function z$(t){const e={},n=g(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&j$(r,e),e}function B$(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q$ extends ta{constructor(e){super(),this.apiClient=e,this.list=async n=>new _l(Ko.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=U$(e);return o=we("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=V$(e);i=we("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=z$(e);return o=we("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=B$(f),h=new _F;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F$ extends ta{constructor(e,n=new q$(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new _l(Ko.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=D7(e);return o=we("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=L7(e);return o=we("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=k7(e);i=we("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q7(e);return o=we("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=F7(f),h=new xF;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=G7(e);return o=we("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=H7(f),h=new EF;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=j7(e);return o=we("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=U7(f),h=new LE;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Lk=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Lk=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const G$=()=>Lk();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Z_(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const ex=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ei extends Error{}class nr extends ei{constructor(e,n,r,i){super(`${nr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Vg({message:r,cause:ex(n)});const o=n;return e===400?new Uk(e,o,r,i):e===401?new jk(e,o,r,i):e===403?new zk(e,o,r,i):e===404?new Bk(e,o,r,i):e===409?new qk(e,o,r,i):e===422?new Fk(e,o,r,i):e===429?new Gk(e,o,r,i):e>=500?new Hk(e,o,r,i):new nr(e,o,r,i)}}class tx extends nr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Vg extends nr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Vk extends Vg{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Uk extends nr{}class jk extends nr{}class zk extends nr{}class Bk extends nr{}class qk extends nr{}class Fk extends nr{}class Gk extends nr{}class Hk extends nr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H$=/^[a-z][a-z0-9+.-]*:/i,$$=t=>H$.test(t);let nx=t=>(nx=Array.isArray,nx(t));const K$=nx;let Y$=K$;const RN=Y$;function W$(t){if(!t)return!0;for(const e in t)return!1;return!0}function J$(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const X$=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ei(`${t} must be an integer`);if(e<0)throw new ei(`${t} must be a positive integer`);return e},Q$=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z$=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _u="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eK(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const tK=()=>{var t,e,n,r,i;const o=eK();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_u,"X-Stainless-OS":DN(Deno.build.os),"X-Stainless-Arch":MN(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_u,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_u,"X-Stainless-OS":DN((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":MN((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=nK();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_u,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":_u,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function nK(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:e,version:`${i}.${o}.${l}`}}}return null}const MN=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",DN=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let bp;const rK=()=>bp??(bp=tK());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iK(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function $k(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function oK(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return $k({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Kk(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function aK(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sK=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yk=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function F0(t,e,n){return Yk(),new File(t,e??"unknown_file",n)}function lK(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const uK=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wk=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",cK=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Wk(t),fK=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function dK(t,e,n){if(Yk(),t=await t,cK(t))return t instanceof File?t:F0([await t.arrayBuffer()],t.name);if(fK(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),F0(await rx(i),e,n)}const r=await rx(t);if(e||(e=lK(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return F0(r,e,n)}async function rx(t){var e,n,r,i,o;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(Wk(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(uK(t))try{for(var u=!0,f=wi(t),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const h=i;l.push(...await rx(h))}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${hK(t)}`)}return l}function hK(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jk{constructor(e){this._client=e}}Jk._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xk(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ON=Object.freeze(Object.create(null)),pK=(t=Xk)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],l=n.reduce((h,m,v)=>{var E,S,A;/[?#]/.test(m)&&(i=!0);const T=r[v];let R=(i?encodeURIComponent:t)(""+T);return v!==r.length&&(T==null||typeof T=="object"&&T.toString===((A=Object.getPrototypeOf((S=Object.getPrototypeOf((E=T.hasOwnProperty)!==null&&E!==void 0?E:ON))!==null&&S!==void 0?S:ON))===null||A===void 0?void 0:A.toString))&&(R=T+"",o.push({start:h.length+m.length,length:R.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),h+m+(v===r.length?"":R)},""),u=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(u))!==null;)o.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(o.sort((h,m)=>h.start-m.start),o.length>0){let h=0;const m=o.reduce((v,E)=>{const S=" ".repeat(E.start-h),A="^".repeat(E.length);return h=E.start+E.length,v+S+A},"");throw new ei(`Path parameters result in path with invalid segments:
${o.map(v=>v.error).join(`
`)}
${l}
${m}`)}return l}),_p=pK(Xk);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qk extends Jk{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=xm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new ei("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new ei("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(_p`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(_p`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(_p`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:l=this._client.apiVersion}=o,u=xm(o,["api_version"]);return this._client.get(_p`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}Qk._key=Object.freeze(["interactions"]);class Zk extends Qk{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mK(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let xp;function FE(t){let e;return(xp??(e=new globalThis.TextEncoder,xp=e.encode.bind(e)))(t)}let Ep;function kN(t){let e;return(Ep??(e=new globalThis.TextDecoder,Ep=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ug{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?FE(e):e;this.buffer=mK([this.buffer,n]);const r=[];let i;for(;(i=gK(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(kN(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=kN(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Ug.NEWLINE_CHARS=new Set([`
`,"\r"]);Ug.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function gK(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function vK(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Em={off:0,error:200,warn:300,info:400,debug:500},LN=(t,e,n)=>{if(t){if(J$(Em,t))return t;Zn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Em))}`)}};function Df(){}function wp(t,e,n){return!e||Em[t]>Em[n]?Df:e[t].bind(e)}const yK={error:Df,warn:Df,info:Df,debug:Df};let VN=new WeakMap;function Zn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return yK;const i=VN.get(n);if(i&&i[0]===r)return i[1];const o={error:wp("error",n,r),warn:wp("warn",n,r),info:wp("info",n,r),debug:wp("debug",n,r)};return VN.set(n,[r,o]),o}const Ks=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wu{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Zn(r):console;function l(){return Ei(this,arguments,function*(){var f,d,h,m;if(i)throw new ei("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var E=!0,S=wi(bK(e,n)),A;A=yield Ue(S.next()),f=A.done,!f;E=!0){m=A.value,E=!1;const T=m;if(!v)if(T.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Ue(JSON.parse(T.data))}catch(R){throw o.error("Could not parse message into JSON:",T.data),o.error("From chunk:",T.raw),R}}}catch(T){d={error:T}}finally{try{!E&&!f&&(h=S.return)&&(yield Ue(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(T){if(Z_(T))return yield Ue(void 0);throw T}finally{v||n.abort()}})}return new wu(l,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Ei(this,arguments,function*(){var f,d,h,m;const v=new Ug,E=Kk(e);try{for(var S=!0,A=wi(E),T;T=yield Ue(A.next()),f=T.done,!f;S=!0){m=T.value,S=!1;const R=m;for(const j of v.decode(R))yield yield Ue(j)}}catch(R){d={error:R}}finally{try{!S&&!f&&(h=A.return)&&(yield Ue(h.call(A)))}finally{if(d)throw d.error}}for(const R of v.flush())yield yield Ue(R)})}function l(){return Ei(this,arguments,function*(){var f,d,h,m;if(i)throw new ei("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var E=!0,S=wi(o()),A;A=yield Ue(S.next()),f=A.done,!f;E=!0){m=A.value,E=!1;const T=m;v||T&&(yield yield Ue(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!E&&!f&&(h=S.return)&&(yield Ue(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(T){if(Z_(T))return yield Ue(void 0);throw T}finally{v||n.abort()}})}return new wu(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const l=r.next();e.push(l),n.push(l)}return o.shift()}});return[new wu(()=>i(e),this.controller,this.client),new wu(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return $k({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const l=FE(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function bK(t,e){return Ei(this,arguments,function*(){var r,i,o,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ei("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ei("Attempted to iterate over a response with no body");const u=new xK,f=new Ug,d=Kk(t.body);try{for(var h=!0,m=wi(_K(d)),v;v=yield Ue(m.next()),r=v.done,!r;h=!0){l=v.value,h=!1;const E=l;for(const S of f.decode(E)){const A=u.decode(S);A&&(yield yield Ue(A))}}}catch(E){i={error:E}}finally{try{!h&&!r&&(o=m.return)&&(yield Ue(o.call(m)))}finally{if(i)throw i.error}}for(const E of f.flush()){const S=u.decode(E);S&&(yield yield Ue(S))}})}function _K(t){return Ei(this,arguments,function*(){var n,r,i,o;let l=new Uint8Array;try{for(var u=!0,f=wi(t),d;d=yield Ue(f.next()),n=d.done,!n;u=!0){o=d.value,u=!1;const h=o;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?FE(h):h;let v=new Uint8Array(l.length+m.length);v.set(l),v.set(m,l.length),l=v;let E;for(;(E=vK(l))!==-1;)yield yield Ue(l.slice(0,E)),l=l.slice(E)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=f.return)&&(yield Ue(i.call(f)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ue(l))})}class xK{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=EK(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function EK(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wK(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,l=await(async()=>{var u;if(e.options.stream)return Zn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):wu.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(u=f==null?void 0:f.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Zn(t).debug(`[${r}] response parsed`,Ks({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE extends Promise{constructor(e,n,r=wK){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new GE(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e4=Symbol("brand.privateNullableHeaders");function*SK(t){if(!t)return;if(e4 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():RN(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=RN(r[1])?r[1]:[r[1]];let l=!1;for(const u of o)u!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const _f=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,l]of SK(r)){const u=o.toLowerCase();i.has(u)||(e.delete(o),i.add(u)),l===null?(e.delete(o),n.add(u)):(e.append(o,l),n.delete(u))}}return{[e4]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G0=t=>{var e,n,r,i,o,l;if(typeof globalThis.process<"u")return(r=(n=(e=Wq)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var t4;class jg{constructor(e){var n,r,i,o,l,u,f,{baseURL:d=G0("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=G0("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=e,v=xm(e,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:h,apiVersion:m},v),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(r=E.timeout)!==null&&r!==void 0?r:jg.DEFAULT_TIMEOUT,this.logger=(i=E.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(o=LN(E.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:LN(G0("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=E.fetchOptions,this.maxRetries=(u=E.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=E.fetch)!==null&&f!==void 0?f:iK(),this.encoder=sK,this._options=E,this.apiKey=h,this.apiVersion=m,this.clientAdapter=E.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=_f([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return _f([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return _f([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ei(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${_u}`}defaultIdempotencyKey(){return`stainless-node-retry-${G$()}`}makeStatusError(e,n,r,i){return nr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=$$(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return W$(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new GE(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,l;const u=await e,f=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(u);const{req:d,url:h,timeout:m}=await this.buildRequest(u,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Zn(this).debug(`[${v}] sending request`,Ks({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:d.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new tx;const A=new AbortController,T=await this.fetchWithTimeout(h,d,m,A).catch(ex),R=Date.now();if(T instanceof globalThis.Error){const L=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new tx;const B=Z_(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return Zn(this).info(`[${v}] connection ${B?"timed out":"failed"} - ${L}`),Zn(this).debug(`[${v}] connection ${B?"timed out":"failed"} (${L})`,Ks({retryOfRequestLogID:r,url:h,durationMs:R-S,message:T.message})),this.retryRequest(u,n,r??v);throw Zn(this).info(`[${v}] connection ${B?"timed out":"failed"} - error; no more retries left`),Zn(this).debug(`[${v}] connection ${B?"timed out":"failed"} (error; no more retries left)`,Ks({retryOfRequestLogID:r,url:h,durationMs:R-S,message:T.message})),B?new Vk:new Vg({cause:T})}const j=`[${v}${E}] ${d.method} ${h} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${R-S}ms`;if(!T.ok){const L=await this.shouldRetry(T);if(n&&L){const k=`retrying, ${n} attempts remaining`;return await aK(T.body),Zn(this).info(`${j} - ${k}`),Zn(this).debug(`[${v}] response error (${k})`,Ks({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:R-S})),this.retryRequest(u,n,r??v,T.headers)}const B=L?"error; no more retries left":"error; not retryable";Zn(this).info(`${j} - ${B}`);const H=await T.text().catch(k=>ex(k).message),F=Q$(H),D=F?void 0:H;throw Zn(this).debug(`[${v}] response error (${B})`,Ks({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:D,durationMs:Date.now()-S})),this.makeStatusError(T.status,F,D,T.headers)}return Zn(this).info(j),Zn(this).debug(`[${v}] response start`,Ks({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:R-S})),{response:T,options:u,controller:A,requestLogID:v,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:l,method:u}=o,f=xm(o,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),f);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,m)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!l){const d=parseFloat(f);Number.isNaN(d)?l=Date.parse(f)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await Z$(l),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,l=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const l=Object.assign({},e),{method:u,path:f,query:d,defaultBaseURL:h}=l,m=this.buildURL(f,d,h);"timeout"in l&&X$("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:E}=this.buildBody({options:l}),S=await this.buildHeaders({options:e,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=_f([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),rK()),this._options.defaultHeaders,r,e.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=_f([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:oK(e)}:this.encoder({body:e,headers:r})}}jg.DEFAULT_TIMEOUT=6e4;class xn extends jg{constructor(){super(...arguments),this.interactions=new Zk(this)}}t4=xn;xn.GeminiNextGenAPIClient=t4;xn.GeminiNextGenAPIClientError=ei;xn.APIError=nr;xn.APIConnectionError=Vg;xn.APIConnectionTimeoutError=Vk;xn.APIUserAbortError=tx;xn.NotFoundError=Bk;xn.ConflictError=qk;xn.RateLimitError=Gk;xn.BadRequestError=Uk;xn.AuthenticationError=jk;xn.InternalServerError=Hk;xn.PermissionDeniedError=zk;xn.UnprocessableEntityError=Fk;xn.toFile=dK;xn.Interactions=Zk;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TK(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function AK(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function CK(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function IK(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function NK(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=g(t,["epochCount"]);e!==void 0&&o!=null&&y(e,["tuningTask","hyperparameters","epochCount"],o);const l=g(t,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const f=g(t,["learningRate"]);if(e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","learningRate"],f),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function PK(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const E=g(t,["validationDataset"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec"],UN(E))}else if(i==="PREFERENCE_TUNING"){const E=g(t,["validationDataset"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec"],UN(E))}const o=g(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&y(e,["tunedModelDisplayName"],o);const l=g(t,["description"]);e!==void 0&&l!=null&&y(e,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const E=g(t,["epochCount"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(u==="PREFERENCE_TUNING"){const E=g(t,["epochCount"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=g(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(f==="PREFERENCE_TUNING"){const E=g(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=g(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(d==="PREFERENCE_TUNING"){const E=g(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=g(t,["adapterSize"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(h==="PREFERENCE_TUNING"){const E=g(t,["adapterSize"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const v=g(t,["beta"]);return e!==void 0&&v!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function RK(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&qK(o);const l=g(t,["config"]);return l!=null&&NK(l,n),n}function MK(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&FK(o,n,e);const l=g(t,["config"]);return l!=null&&PK(l,n,e),n}function DK(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function OK(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function kK(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=g(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function LK(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=g(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function VK(t,e){const n={},r=g(t,["config"]);return r!=null&&kK(r,n),n}function UK(t,e){const n={},r=g(t,["config"]);return r!=null&&LK(r,n),n}function jK(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=g(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>n4(u))),y(n,["tuningJobs"],l)}return n}function zK(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=g(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>ix(u))),y(n,["tuningJobs"],l)}return n}function BK(t,e){const n={},r=g(t,["name"]);r!=null&&y(n,["model"],r);const i=g(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function qK(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function FK(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=g(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function n4(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["state"]);o!=null&&y(n,["state"],yk(o));const l=g(t,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const f=g(t,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["description"]);h!=null&&y(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(t,["_self"]);return v!=null&&y(n,["tunedModel"],BK(v)),n}function ix(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["state"]);o!=null&&y(n,["state"],yk(o));const l=g(t,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(t,["startTime"]);u!=null&&y(n,["startTime"],u);const f=g(t,["endTime"]);f!=null&&y(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["error"]);h!=null&&y(n,["error"],h);const m=g(t,["description"]);m!=null&&y(n,["description"],m);const v=g(t,["baseModel"]);v!=null&&y(n,["baseModel"],v);const E=g(t,["tunedModel"]);E!=null&&y(n,["tunedModel"],E);const S=g(t,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const A=g(t,["supervisedTuningSpec"]);A!=null&&y(n,["supervisedTuningSpec"],A);const T=g(t,["preferenceOptimizationSpec"]);T!=null&&y(n,["preferenceOptimizationSpec"],T);const R=g(t,["tuningDataStats"]);R!=null&&y(n,["tuningDataStats"],R);const j=g(t,["encryptionSpec"]);j!=null&&y(n,["encryptionSpec"],j);const L=g(t,["partnerModelTuningSpec"]);L!=null&&y(n,["partnerModelTuningSpec"],L);const B=g(t,["customBaseModel"]);B!=null&&y(n,["customBaseModel"],B);const H=g(t,["experiment"]);H!=null&&y(n,["experiment"],H);const F=g(t,["labels"]);F!=null&&y(n,["labels"],F);const D=g(t,["outputUri"]);D!=null&&y(n,["outputUri"],D);const O=g(t,["pipelineJob"]);O!=null&&y(n,["pipelineJob"],O);const k=g(t,["serviceAccount"]);k!=null&&y(n,["serviceAccount"],k);const G=g(t,["tunedModelDisplayName"]);G!=null&&y(n,["tunedModelDisplayName"],G);const q=g(t,["veoTuningSpec"]);return q!=null&&y(n,["veoTuningSpec"],q),n}function GK(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["metadata"]);o!=null&&y(n,["metadata"],o);const l=g(t,["done"]);l!=null&&y(n,["done"],l);const u=g(t,["error"]);return u!=null&&y(n,["error"],u),n}function UN(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HK extends ta{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _l(Ko.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:H_.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=OK(e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>ix(h))}else{const d=DK(e);return u=we("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>n4(h))}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=UK(e);return u=we("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=zK(h),v=new cN;return Object.assign(v,m),v})}else{const d=VK(e);return u=we("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=jK(h),v=new cN;return Object.assign(v,m),v})}}async cancel(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=AK(e);return u=we("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=IK(h),v=new fN;return Object.assign(v,m),v})}else{const d=TK(e);return u=we("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=CK(h),v=new fN;return Object.assign(v,m),v})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=MK(e,e);return o=we("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>ix(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RK(e);return o=we("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>GK(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $K{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const KK=1024*1024*8,YK=3,WK=1e3,JK=2,wm="x-goog-upload-status";async function XK(t,e,n){var r;const i=await r4(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[wm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function QK(t,e,n){var r;const i=await r4(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[wm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=dk(o),u=new VE;return Object.assign(u,l),u}async function r4(t,e,n){var r,i;let o=0,l=0,u=new K_(new Response),f="upload";for(o=t.size;l<o;){const d=Math.min(KK,o-l),h=t.slice(l,l+d);l+d>=o&&(f+=", finalize");let m=0,v=WK;for(;m<YK&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[wm]));)m++,await eY(v),v=v*JK;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[wm])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function ZK(t){return{size:t.size,type:t.type}}function eY(t){return new Promise(e=>setTimeout(e,t))}class tY{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XK(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QK(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZK(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nY{create(e,n,r){return new rY(e,n,r)}}class rY{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jN="x-goog-api-key";class iY{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(jN)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jN,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oY="gl-node/";class i4{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new xn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Zq(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new iY(this.apiKey);this.apiClient=new Z7({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:oY+"web",uploader:new tY,downloader:new $K}),this.models=new y$(this.apiClient),this.live=new d$(this.apiClient,i,new nY),this.batches=new I8(this.apiClient),this.chats=new uG(this.models,this.apiClient),this.caches=new aG(this.apiClient),this.files=new bG(this.apiClient),this.operations=new b$(this.apiClient),this.authTokens=new k$(this.apiClient),this.tunings=new HK(this.apiClient),this.fileSearchStores=new F$(this.apiClient)}}const Sm=async t=>{var e;try{const n=new i4({apiKey:"PLACEHOLDER_API_KEY"}),r="gemini-3-flash-preview",i=`
      You are a content filter for a high-security student platform.
      Your task is to take the provided text and replace EVERY instance of swearing, profanity, slurs, or highly toxic language with hashtags (#) of equal length to the word (e.g., "fuck" becomes "####").
      Do not change any other part of the sentence. Maintain original punctuation and casing for non-flagged words.
      
      Input Text: "${t}"
      
      Respond ONLY with the sanitized text string.
    `;return((e=(await n.models.generateContent({model:r,contents:i})).text)==null?void 0:e.trim())||t}catch(n){console.error("Gemini sanitization failed",n);const r=["fuck","shit","piss","cunt","nigger","faggot","retard","bastard","bitch","asshole","dick","pussy"];let i=t;return r.forEach(o=>{const l=new RegExp(`\\b${o}\\b`,"gi");i=i.replace(l,"#".repeat(o.length))}),i}},o4=async t=>{try{const e=new i4({apiKey:"PLACEHOLDER_API_KEY"}),n="gemini-3-flash-preview",r=`
      Analyze the following text for a student platform. 
      Check for: Extreme Hate Speech, Explicit Threats of Violence, or Illegal content.
      Minor profanity will be handled by a different filter, so focus on high-severity risks.
      
      Text: "${t}"
    `,o=(await e.models.generateContent({model:n,contents:r,config:{responseMimeType:"application/json",responseSchema:{type:_i.OBJECT,properties:{safe:{type:_i.BOOLEAN,description:"Whether the content is safe to display."},reason:{type:_i.STRING,description:"The reason why the content was flagged, if applicable."}},required:["safe"]}}})).text;return o?JSON.parse(o):{safe:!0}}catch(e){return console.error("Gemini safety check failed",e),{safe:!0}}},aY=({currentUser:t,refreshTrigger:e,onActivity:n})=>{const[r,i]=N.useState([]),[o,l]=N.useState(null),[u,f]=N.useState({}),[d,h]=N.useState(""),[m,v]=N.useState(!1),[E,S]=N.useState(!1),[A,T]=N.useState(["",""]),[R,j]=N.useState("public"),[L,B]=N.useState([]),[H,F]=N.useState({});N.useEffect(()=>{D()},[e,R]);const D=async()=>{const[ce,_e,$]=await Promise.all([ke.getPosts(),ke.getSettings(),ke.getAllUsers()]),te={};$.forEach(me=>te[me.studentId]=me),f(te);let pe=[];R==="public"?pe=ce.filter(me=>me.category==="general"||me.category==="poll"||me.category==="announcement"):q(t)?pe=ce.filter(me=>me.category==="ticket"):pe=ce.filter(me=>me.category==="ticket"&&me.authorId===t.studentId),i(pe),l(_e)},O=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],k=O.indexOf(t.currentCard),G=o?O.indexOf(o.minRankToPost):0,q=ce=>O.indexOf(ce.currentCard)>=9||ce.isAdmin,M=(k>=G||t.isAdmin)&&R==="public",V=R==="council",de=async()=>{if(!d.trim())return;v(!0);const ce=await Sm(d),_e=await o4(ce),$=R==="council"?"ticket":E?"poll":"general",te={id:`post-${Date.now()}`,authorId:t.studentId,authorName:t.username,authorRank:t.currentCard,content:ce,category:$,status:_e.safe?"approved":"flagged",upvotes:[],downvotes:[],comments:[],pollOptions:E?A.map(pe=>({text:pe,votes:[]})):void 0,createdAt:new Date().toISOString()};await ke.savePost(te),await ke.saveUser({...t,totalPoints:t.totalPoints+nm.POST}),h(""),v(!1),D(),n()},ye=async ce=>{const _e=H[ce];if(!(_e!=null&&_e.trim()))return;const $=r.find(Ee=>Ee.id===ce);if(!$)return;const te=await Sm(_e),pe={id:`c-${Date.now()}`,authorId:t.studentId,authorName:t.username,content:te,createdAt:new Date().toISOString()},me={...$,comments:[...$.comments||[],pe]};await ke.savePost(me),F({...H,[ce]:""}),D()},W=async(ce,_e)=>{ce.stopPropagation(),ce.preventDefault(),i($=>$.filter(te=>te.id!==_e)),await ke.deletePost(_e),n()},oe=async(ce,_e,$)=>{ce.stopPropagation(),ce.preventDefault(),i(te=>te.map(pe=>pe.id===_e?{...pe,comments:pe.comments.filter(me=>me.id!==$)}:pe)),await ke.deleteComment(_e,$)},ve=ce=>{L.includes(ce)?B(_e=>_e.filter($=>$!==ce)):B(_e=>[..._e,ce])};return x.jsxs("div",{className:"max-w-3xl mx-auto space-y-8 pb-32 animate-in fade-in duration-500",children:[x.jsxs("div",{className:"flex bg-black border border-white/10 rounded-xl p-1 relative z-10",children:[x.jsx("button",{onClick:()=>j("public"),className:`flex-1 py-3 text-xs font-bold uppercase tracking-widest rounded-lg transition-all ${R==="public"?"bg-white text-black shadow-lg":"text-neutral-500 hover:text-white"}`,children:"Public Broadcast"}),x.jsxs("button",{onClick:()=>j("council"),className:`flex-1 py-3 text-xs font-bold uppercase tracking-widest rounded-lg transition-all flex items-center justify-center gap-2 ${R==="council"?"bg-emerald-900/50 text-emerald-400 border border-emerald-500/50 shadow-[0_0_20px_rgba(16,185,129,0.2)]":"text-neutral-500 hover:text-emerald-500"}`,children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Council Uplink"]})]}),x.jsxs("div",{className:"flex justify-between items-center px-2",children:[x.jsx("h2",{className:`text-xl font-display font-bold ${R==="council"?"text-emerald-500":"text-white"}`,children:R==="public"?"Global Network":"Secure Channel"}),x.jsxs("div",{className:"text-[10px] font-mono text-neutral-500 uppercase tracking-widest",children:["Frequency: ",R==="public"?"Open":"Encrypted"]})]}),(M||V)&&x.jsxs("div",{className:`glass-panel rounded-2xl border p-6 shadow-2xl relative overflow-hidden ${R==="council"?"border-emerald-500/20":"border-white/5"}`,children:[x.jsx("div",{className:`absolute top-0 left-0 w-1 h-full bg-gradient-to-b ${R==="council"?"from-emerald-500 to-transparent":"from-brand-red to-transparent"}`}),x.jsx("div",{className:"flex gap-6",children:x.jsxs("div",{className:"flex-1",children:[x.jsx("textarea",{value:d,onChange:ce=>h(ce.target.value),placeholder:R==="council"?"Send secure message to the High Table...":"Share intelligence...",className:"w-full bg-black/30 border border-white/10 rounded-xl p-4 text-sm text-white outline-none h-24 resize-none focus:border-white/20"}),x.jsxs("div",{className:"flex justify-between items-center mt-4",children:[R==="public"?x.jsx("button",{onClick:()=>S(!E),className:"text-[10px] text-neutral-500 font-bold uppercase tracking-widest hover:text-white",children:E?"Poll Mode Active":"Toggle Poll"}):x.jsxs("div",{className:"text-[10px] text-emerald-600 font-mono flex items-center gap-2",children:[x.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"ENCRYPTED"]}),x.jsx("button",{onClick:de,disabled:m,className:`px-6 py-2 text-white text-xs font-bold uppercase rounded-lg shadow-lg ${R==="council"?"bg-emerald-700 hover:bg-emerald-600":"bg-brand-red hover:bg-brand-red/80"}`,children:m?"...":R==="council"?"Transmit":"Post"})]})]})})]}),x.jsxs("div",{className:"space-y-6",children:[r.map(ce=>{var Ee,Me;const _e=ce.authorId===t.studentId,$=t.isAdmin||_e,te=u[ce.authorId],pe=(te==null?void 0:te.username)||ce.authorName,me=(te==null?void 0:te.currentCard)||ce.authorRank;return x.jsxs("div",{className:`glass-panel border rounded-2xl p-6 relative group ${ce.category==="ticket"?"border-emerald-500/20 bg-emerald-950/10":"border-white/5"}`,children:[$&&x.jsx("button",{onClick:Ae=>W(Ae,ce.id),className:"absolute top-4 right-4 z-50 p-2 bg-black hover:bg-red-500 text-neutral-500 hover:text-white rounded-lg transition-all border border-white/10 hover:border-red-500 shadow-xl cursor-pointer",title:"Purge Post",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx(Bo,{rankId:me,size:"sm"}),x.jsxs("div",{children:[x.jsxs("div",{className:`font-bold text-sm ${ce.category==="ticket"?"text-emerald-400":"text-white"}`,children:[pe,ce.category==="ticket"&&x.jsx("span",{className:"ml-2 text-[10px] bg-emerald-500/20 px-1.5 py-0.5 rounded border border-emerald-500/30",children:"TICKET"})]}),x.jsx("div",{className:"text-[10px] text-neutral-600 font-mono",children:new Date(ce.createdAt).toLocaleDateString()})]})]}),x.jsx("p",{className:"text-neutral-300 text-sm font-light leading-relaxed whitespace-pre-wrap",children:ce.content}),ce.category==="ticket"&&x.jsxs("div",{className:"mt-6 border-t border-emerald-500/20 pt-4",children:[x.jsx("button",{onClick:()=>ve(ce.id),className:"text-[10px] font-bold uppercase tracking-widest text-emerald-600 hover:text-emerald-400 flex items-center gap-2",children:L.includes(ce.id)?"Hide Responses":`View Responses (${((Ee=ce.comments)==null?void 0:Ee.length)||0})`}),L.includes(ce.id)&&x.jsxs("div",{className:"mt-4 space-y-4 animate-in fade-in slide-in-from-top-2",children:[x.jsxs("div",{className:"space-y-3 max-h-40 overflow-y-auto custom-scrollbar",children:[(Me=ce.comments)==null?void 0:Me.map(Ae=>{const bt=t.isAdmin||Ae.authorId===t.studentId,ae=u[Ae.authorId],Ve=(ae==null?void 0:ae.username)||Ae.authorName;return x.jsxs("div",{className:"bg-emerald-900/20 border border-emerald-500/10 p-3 rounded-lg relative group/comment hover:bg-emerald-900/30 transition-colors",children:[bt&&x.jsx("button",{onClick:Ge=>oe(Ge,ce.id,Ae.id),className:"absolute top-2 right-2 bg-black text-neutral-500 hover:text-red-500 p-1.5 rounded transition-colors z-50 cursor-pointer border border-white/5",title:"Delete Comment",children:x.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),x.jsxs("div",{className:"flex justify-between items-baseline mb-1 mr-8",children:[x.jsx("span",{className:"text-emerald-400 text-xs font-bold",children:Ve}),x.jsx("span",{className:"text-[9px] text-emerald-700/70",children:new Date(Ae.createdAt).toLocaleTimeString()})]}),x.jsx("p",{className:"text-neutral-300 text-xs pr-2",children:Ae.content})]},Ae.id)}),(!ce.comments||ce.comments.length===0)&&x.jsx("div",{className:"text-neutral-600 text-xs italic",children:"Awaiting Council Response..."})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:H[ce.id]||"",onChange:Ae=>F({...H,[ce.id]:Ae.target.value}),placeholder:"Add response...",className:"flex-1 bg-black/40 border border-emerald-500/30 rounded px-3 py-2 text-xs text-white outline-none focus:border-emerald-500"}),x.jsx("button",{onClick:()=>ye(ce.id),className:"px-4 py-2 bg-emerald-800 text-emerald-100 text-[10px] font-bold uppercase rounded hover:bg-emerald-700",children:"Reply"})]})]})]})]},ce.id)}),r.length===0&&x.jsx("div",{className:"text-center py-20 text-neutral-600 font-mono text-sm border-2 border-dashed border-white/5 rounded-2xl",children:R==="public"?"No signals detected on the network.":"Secure Channel Clear. No tickets."})]})]})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=t=>{const e=lY(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},f)=>N.createElement("svg",{ref:f,...uY,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:a4("lucide",i),...!o&&!cY(u)&&{"aria-hidden":"true"},...u},[...l.map(([d,h])=>N.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=(t,e)=>{const n=N.forwardRef(({className:r,...i},o)=>N.createElement(fY,{ref:o,iconNode:e,className:a4(`lucide-${sY(zN(t))}`,`lucide-${t}`,r),...i}));return n.displayName=zN(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hY=zn("activity",dY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],mY=zn("arrow-down-right",pY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],vY=zn("arrow-up-right",gY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],bY=zn("circle-plus",yY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],ox=zn("coins",_Y);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],EY=zn("database",xY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Yp=zn("flame",wY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TY=zn("info",SY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],CY=zn("lock-open",AY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],NY=zn("lock",IY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PY=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],RY=zn("pen-line",PY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],DY=zn("refresh-cw",MY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kY=zn("shield-check",OY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BN=zn("square-check-big",LY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],qN=zn("square",VY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],jY=zn("tag",UY);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],BY=zn("trending-up",zY);function s4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=s4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=s4(t))&&(r&&(r+=" "),r+=e);return r}var qY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function HE(t){if(typeof t!="string")return!1;var e=qY;return e.includes(t)}var FY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GY=new Set(FY);function l4(t){return typeof t!="string"?!1:GY.has(t)}function u4(t){return typeof t=="string"&&t.startsWith("data-")}function Ii(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l4(n)||u4(n))&&(e[n]=t[n]);return e}function zg(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ii(e)}return typeof t=="object"&&!Array.isArray(t)?Ii(t):null}function ti(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(l4(n)||u4(n)||HE(n))&&(e[n]=t[n]);return e}function HY(t){return t==null?null:N.isValidElement(t)?ti(t.props):typeof t=="object"&&!Array.isArray(t)?ti(t):null}var $Y=["children","width","height","viewBox","className","style","title","desc"];function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(null,arguments)}function KY(t,e){if(t==null)return{};var n,r,i=YY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var c4=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:f,desc:d}=t,h=KY(t,$Y),m=o||{width:r,height:i,x:0,y:0},v=Ct("recharts-surface",l);return N.createElement("svg",ax({},ti(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),N.createElement("title",null,f),N.createElement("desc",null,d),n)}),WY=["children","className"];function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(null,arguments)}function JY(t,e){if(t==null)return{};var n,r,i=XY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var co=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=JY(t,WY),o=Ct("recharts-layer",r);return N.createElement("g",sx({className:o},ti(i),{ref:e}),n)}),f4=vD(),QY=N.createContext(null);function Vt(t){return function(){return t}}const lx=Math.PI,ux=2*lx,Ys=1e-6,ZY=ux-Ys;function d4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function eW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return d4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?d4:eW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,f=r-e,d=i-n,h=l-e,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Ys)if(!(Math.abs(m*f-d*h)>Ys)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-l,S=i-u,A=f*f+d*d,T=E*E+S*S,R=Math.sqrt(A),j=Math.sqrt(v),L=o*Math.tan((lx-Math.acos((A+v-T)/(2*R*j)))/2),B=L/j,H=L/R;Math.abs(B-1)>Ys&&this._append`L${e+B*h},${n+B*m}`,this._append`A${o},${o},0,0,${+(m*E>h*S)},${this._x1=e+H*f},${this._y1=n+H*d}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,h=n+f,m=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ys||Math.abs(this._y1-h)>Ys)&&this._append`L${d},${h}`,r&&(v<0&&(v=v%ux+ux),v>ZY?this._append`A${r},${r},0,1,${m},${e-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:v>Ys&&this._append`A${r},${r},0,${+(v>=lx)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function h4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new tW(e)}function $E(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function p4(t){this._context=t}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bg(t){return new p4(t)}function m4(t){return t[0]}function g4(t){return t[1]}function v4(t,e){var n=Vt(!0),r=null,i=Bg,o=null,l=h4(u);t=typeof t=="function"?t:t===void 0?m4:Vt(t),e=typeof e=="function"?e:e===void 0?g4:Vt(e);function u(f){var d,h=(f=$E(f)).length,m,v=!1,E;for(r==null&&(o=i(E=l())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(m,d,f),+e(m,d,f));if(E)return o=null,E+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Vt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Sp(t,e,n){var r=null,i=Vt(!0),o=null,l=Bg,u=null,f=h4(d);t=typeof t=="function"?t:t===void 0?m4:Vt(+t),e=typeof e=="function"?e:Vt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?g4:Vt(+n);function d(m){var v,E,S,A=(m=$E(m)).length,T,R=!1,j,L=new Array(A),B=new Array(A);for(o==null&&(u=l(j=f())),v=0;v<=A;++v){if(!(v<A&&i(T=m[v],v,m))===R)if(R=!R)E=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=E;--S)u.point(L[S],B[S]);u.lineEnd(),u.areaEnd()}R&&(L[v]=+t(T,v,m),B[v]=+e(T,v,m),u.point(r?+r(T,v,m):L[v],n?+n(T,v,m):B[v]))}if(j)return u=null,j+""||null}function h(){return v4().defined(i).curve(l).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Vt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Vt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Vt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Vt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Vt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Vt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Vt(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),d):l},d.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),d):o},d}class y4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function nW(t){return new y4(t,!0)}function rW(t){return new y4(t,!1)}function Tm(){}function Am(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function b4(t){this._context=t}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Am(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iW(t){return new b4(t)}function _4(t){this._context=t}_4.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oW(t){return new _4(t)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Am(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aW(t){return new x4(t)}function E4(t){this._context=t}E4.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sW(t){return new E4(t)}function FN(t){return t<0?-1:1}function GN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(FN(o)+FN(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function HN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function H0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,l-u*n,o,l)}function Cm(t){this._context=t}Cm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:H0(this,this._t0,HN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,H0(this,HN(this,n=GN(this,t,e)),n);break;default:H0(this,this._t0,n=GN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function w4(t){this._context=new S4(t)}(w4.prototype=Object.create(Cm.prototype)).point=function(t,e){Cm.prototype.point.call(this,e,t)};function S4(t){this._context=t}S4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function lW(t){return new Cm(t)}function uW(t){return new w4(t)}function T4(t){this._context=t}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=$N(t),i=$N(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function $N(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function cW(t){return new T4(t)}function qg(t,e){this._context=t,this._t=e}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fW(t){return new qg(t,.5)}function dW(t){return new qg(t,0)}function hW(t){return new qg(t,1)}function ul(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,u=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function pW(t,e){return t[e]}function mW(t){const e=[];return e.key=t,e}function gW(){var t=Vt([]),e=cx,n=ul,r=pW;function i(o){var l=Array.from(t.apply(this,arguments),mW),u,f=l.length,d=-1,h;for(const m of o)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(m,l[u].key,d,o)]).data=m;for(u=0,h=$E(e(l));u<f;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Vt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Vt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?cx:typeof o=="function"?o:Vt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ul,i):n},i}function vW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}ul(t,e)}}function yW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}ul(t,e)}}function bW(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,f=0,d=0;u<l;++u){for(var h=t[e[u]],m=h[r][1]||0,v=h[r-1][1]||0,E=(m-v)/2,S=0;S<u;++S){var A=t[e[S]],T=A[r][1]||0,R=A[r-1][1]||0;E+=T-R}f+=m,d+=E*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,ul(t,e)}}var $0={},K0={},KN;function _W(){return KN||(KN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(K0)),K0}var Y0={},YN;function A4(){return YN||(YN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Y0)),Y0}var W0={},WN;function KE(){return WN||(WN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(W0)),W0}var J0={},X0={},JN;function xW(){return JN||(JN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(X0)),X0}var XN;function YE(){return XN||(XN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xW(),n=KE();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,f+=i[u]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(f),f=""):f+=m:m==="["?(h=!0,f&&(o.push(f),f="")):m==="."?f&&(o.push(f),f=""):f+=m,u++}return f&&o.push(f),o}t.toPath=r})(J0)),J0}var QN;function WE(){return QN||(QN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_W(),n=A4(),r=KE(),i=YE();function o(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function l(u,f,d){if(f.length===0)return d;let h=u;for(let m=0;m<f.length;m++){if(h==null||e.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}t.get=o})($0)),$0}var Q0,ZN;function EW(){return ZN||(ZN=1,Q0=WE().get),Q0}var wW=EW();const Fg=ea(wW);var SW=4;function Ja(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SW,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Dn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,o,l)=>{var u=n[l-1];return typeof u=="string"?i+u+o:u!==void 0?i+Ja(u)+o:i+o},"")}var Xr=t=>t===0?0:t>0?1:-1,fo=t=>typeof t=="number"&&t!=+t,cl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!fo(t),ho=t=>Ne(t)||typeof t=="string",TW=0,Zf=t=>{var e=++TW;return"".concat(t||"").concat(e)},cs=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var o;if(cl(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return fo(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},C4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function no(t,e,n){return Ne(t)&&Ne(e)?Ja(t+n*(e-t)):e}function I4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Fg(r,e))===n)}var Wn=t=>t===null||typeof t>"u",JE=t=>Wn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function mr(t){return t!=null}function rc(){}var N4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,XE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{HE(i)&&(r[i]=(o=>n[i](n,o)))}),r},AW=(t,e,n)=>r=>(t(e,n,r),null),CW=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];HE(i)&&typeof o=="function"&&(r||(r={}),r[i]=AW(o,e,n))}),r};function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return(e=PW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=RW(t,"string");return typeof e=="symbol"?e:e+""}function RW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kr(t,e){var n=IW({},t),r=e,i=Object.keys(e),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var Z0={},eb={},t2;function MW(){return t2||(t2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l,o,n);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(eb)),eb}var tb={},n2;function DW(){return n2||(n2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(tb)),tb}var nb={},r2;function P4(){return r2||(r2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(nb)),nb}var rb={},ib={},ob={},i2;function OW(){return i2||(i2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(ob)),ob}var o2;function QE(){return o2||(o2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OW();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(ib)),ib}var ab={},a2;function kW(){return a2||(a2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(ab)),ab}var s2;function LW(){return s2||(s2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QE(),n=kW();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(rb)),rb}var sb={},lb={},l2;function VW(){return l2||(l2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WE();function n(r){return function(i){return e.get(i,r)}}t.property=n})(lb)),lb}var ub={},cb={},fb={},db={},u2;function R4(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(db)),db}var hb={},c2;function M4(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(hb)),hb}var pb={},f2;function D4(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(pb)),pb}var d2;function UW(){return d2||(d2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R4(),n=M4(),r=D4();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):o(h,m,function E(S,A,T,R,j,L){const B=v(S,A,T,R,j,L);return B!==void 0?!!B:o(S,A,E,L)},new Map)}function o(h,m,v,E){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,v,E);case"function":return Object.keys(m).length>0?o(h,{...m},v,E):r.isEqualsSameValueZero(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(h,m)}}function l(h,m,v,E){if(m==null)return!0;if(Array.isArray(m))return f(h,m,v,E);if(m instanceof Map)return u(h,m,v,E);if(m instanceof Set)return d(h,m,v,E);const S=Object.keys(m);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(E!=null&&E.has(m))return E.get(m)===h;E==null||E.set(m,h);try{for(let A=0;A<S.length;A++){const T=S[A];if(!n.isPrimitive(h)&&!(T in h)||m[T]===void 0&&h[T]!==void 0||m[T]===null&&h[T]!==null||!v(h[T],m[T],T,h,m,E))return!1}return!0}finally{E==null||E.delete(m)}}function u(h,m,v,E){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,A]of m.entries()){const T=h.get(S);if(v(T,A,S,h,m,E)===!1)return!1}return!0}function f(h,m,v,E){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let A=0;A<m.length;A++){const T=m[A];let R=!1;for(let j=0;j<h.length;j++){if(S.has(j))continue;const L=h[j];let B=!1;if(v(L,T,A,h,m,E)&&(B=!0),B){S.add(j),R=!0;break}}if(!R)return!1}return!0}function d(h,m,v,E){return m.size===0?!0:h instanceof Set?f([...h],[...m],v,E):!1}t.isMatchWith=i,t.isSetMatch=d})(fb)),fb}var h2;function O4(){return h2||(h2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UW();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(cb)),cb}var mb={},gb={},vb={},p2;function jW(){return p2||(p2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(vb)),vb}var yb={},m2;function ZE(){return m2||(m2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(yb)),yb}var bb={},g2;function k4(){return g2||(g2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",E="[object Object]",S="[object Error]",A="[object DataView]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",j="[object Uint16Array]",L="[object Uint32Array]",B="[object BigUint64Array]",H="[object Int8Array]",F="[object Int16Array]",D="[object Int32Array]",O="[object BigInt64Array]",k="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=A,t.dateTag=u,t.errorTag=S,t.float32ArrayTag=k,t.float64ArrayTag=G,t.functionTag=m,t.int16ArrayTag=F,t.int32ArrayTag=D,t.int8ArrayTag=H,t.mapTag=f,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=j,t.uint32ArrayTag=L,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=R})(bb)),bb}var _b={},v2;function zW(){return v2||(v2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(_b)),_b}var y2;function L4(){return y2||(y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jW(),n=ZE(),r=k4(),i=M4(),o=zW();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,v,E=new Map,S=void 0){const A=S==null?void 0:S(h,m,v,E);if(A!==void 0)return A;if(i.isPrimitive(h))return h;if(E.has(h))return E.get(h);if(Array.isArray(h)){const T=new Array(h.length);E.set(h,T);for(let R=0;R<h.length;R++)T[R]=u(h[R],R,v,E,S);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;E.set(h,T);for(const[R,j]of h)T.set(R,u(j,R,v,E,S));return T}if(h instanceof Set){const T=new Set;E.set(h,T);for(const R of h)T.add(u(R,void 0,v,E,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);E.set(h,T);for(let R=0;R<h.length;R++)T[R]=u(h[R],R,v,E,S);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return E.set(h,T),f(T,h,v,E,S),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return E.set(h,T),f(T,h,v,E,S),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return E.set(h,T),f(T,h,v,E,S),T}if(h instanceof Error){const T=new h.constructor;return E.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,f(T,h,v,E,S),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return E.set(h,T),f(T,h,v,E,S),T}if(h instanceof Number){const T=new Number(h.valueOf());return E.set(h,T),f(T,h,v,E,S),T}if(h instanceof String){const T=new String(h.valueOf());return E.set(h,T),f(T,h,v,E,S),T}if(typeof h=="object"&&d(h)){const T=Object.create(Object.getPrototypeOf(h));return E.set(h,T),f(T,h,v,E,S),T}return h}function f(h,m,v=h,E,S){const A=[...Object.keys(m),...e.getSymbols(m)];for(let T=0;T<A.length;T++){const R=A[T],j=Object.getOwnPropertyDescriptor(h,R);(j==null||j.writable)&&(h[R]=u(m[R],R,v,E,S))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(gb)),gb}var b2;function BW(){return b2||(b2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(mb)),mb}var _2;function qW(){return _2||(_2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O4(),n=BW();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(ub)),ub}var xb={},Eb={},wb={},x2;function FW(){return x2||(x2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L4(),n=ZE(),r=k4();function i(o,l){return e.cloneDeepWith(o,(u,f,d,h)=>{const m=l==null?void 0:l(u,f,d,h);if(m!==void 0)return m;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const v={};return h.set(o,v),e.copyProperties(v,o,d,h),v}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new o.constructor(o==null?void 0:o.valueOf());return e.copyProperties(v,o),v}case r.argumentsTag:{const v={};return e.copyProperties(v,o),v.length=o.length,v[Symbol.iterator]=o[Symbol.iterator],v}default:return}}})}t.cloneDeepWith=i})(wb)),wb}var E2;function GW(){return E2||(E2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FW();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Eb)),Eb}var Sb={},Tb={},w2;function V4(){return w2||(w2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Tb)),Tb}var Ab={},S2;function HW(){return S2||(S2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZE();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Ab)),Ab}var T2;function $W(){return T2||(T2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A4(),n=V4(),r=HW(),i=YE();function o(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=o})(Sb)),Sb}var A2;function KW(){return A2||(A2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O4(),n=KE(),r=GW(),i=WE(),o=$W();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=l})(xb)),xb}var C2;function YW(){return C2||(C2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P4(),n=VW(),r=qW(),i=KW();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(sb)),sb}var I2;function WW(){return I2||(I2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MW(),n=DW(),r=P4(),i=LW(),o=YW();function l(u,f=r.identity){return i.isArrayLikeObject(u)?e.uniqBy(Array.from(u),n.ary(o.iteratee(f),1)):[]}t.uniqBy=l})(Z0)),Z0}var Cb,N2;function JW(){return N2||(N2=1,Cb=WW().uniqBy),Cb}var XW=JW();const P2=ea(XW);function QW(t,e,n){return e===!0?P2(t,n):typeof e=="function"?P2(t,e):t}var Ib={exports:{}},Nb={},Pb={exports:{}},Rb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function ZW(){if(R2)return Rb;R2=1;var t=Ku();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(m,v){var E=v(),S=r({inst:{value:E,getSnapshot:v}}),A=S[0].inst,T=S[1];return o(function(){A.value=E,A.getSnapshot=v,f(A)&&T({inst:A})},[m,E,v]),i(function(){return f(A)&&T({inst:A}),m(function(){f(A)&&T({inst:A})})},[m]),l(E),E}function f(m){var v=m.getSnapshot;m=m.value;try{var E=v();return!n(m,E)}catch{return!0}}function d(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return Rb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,Rb}var M2;function eJ(){return M2||(M2=1,Pb.exports=ZW()),Pb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function tJ(){if(D2)return Nb;D2=1;var t=Ku(),e=eJ();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Nb.useSyncExternalStoreWithSelector=function(d,h,m,v,E){var S=o(null);if(S.current===null){var A={hasValue:!1,value:null};S.current=A}else A=S.current;S=u(function(){function R(F){if(!j){if(j=!0,L=F,F=v(F),E!==void 0&&A.hasValue){var D=A.value;if(E(D,F))return B=D}return B=F}if(D=B,r(L,F))return D;var O=v(F);return E!==void 0&&E(D,O)?(L=F,D):(L=F,B=O)}var j=!1,L,B,H=m===void 0?null:m;return[function(){return R(h())},H===null?void 0:function(){return R(H())}]},[h,m,v,E]);var T=i(d,S[0],S[1]);return l(function(){A.hasValue=!0,A.value=T},[T]),f(T),T},Nb}var O2;function nJ(){return O2||(O2=1,Ib.exports=tJ()),Ib.exports}var rJ=nJ(),ew=N.createContext(null),iJ=t=>t,En=()=>{var t=N.useContext(ew);return t?t.store.dispatch:iJ},Wp=()=>{},oJ=()=>Wp,aJ=(t,e)=>t===e;function De(t){var e=N.useContext(ew),n=N.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Wp,[e,t]);return rJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:oJ,e?e.store.getState:Wp,e?e.store.getState:Wp,n,aJ)}function sJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function lJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function uJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var k2=t=>Array.isArray(t)?t:[t];function cJ(t){const e=Array.isArray(t[0])?t[0]:t;return uJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function fJ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var dJ=class{constructor(t){this.value=t}deref(){return this.value}},hJ=typeof WeakRef<"u"?WeakRef:dJ,pJ=0,L2=1;function Tp(){return{s:pJ,v:void 0,o:null,p:null}}function U4(t,e={}){let n=Tp();const{resultEqualityCheck:r}=e;let i,o=0;function l(){var m;let u=n;const{length:f}=arguments;for(let v=0,E=f;v<E;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const T=A.get(S);T===void 0?(u=Tp(),A.set(S,u)):u=T}else{let A=u.p;A===null&&(u.p=A=new Map);const T=A.get(S);T===void 0?(u=Tp(),A.set(S,u)):u=T}}const d=u;let h;if(u.s===L2)h=u.v;else if(h=t.apply(null,arguments),o++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,h)&&(h=v,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new hJ(h):h}return d.s=L2,d.v=h,h}return l.clearCache=()=>{n=Tp(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function mJ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),sJ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:v=[],argsMemoize:E=U4,argsMemoizeOptions:S=[]}=h,A=k2(v),T=k2(S),R=cJ(i),j=m(function(){return o++,d.apply(null,arguments)},...A),L=E(function(){l++;const H=fJ(R,arguments);return u=j.apply(null,H),u},...T);return Object.assign(L,{resultFunc:d,memoizedResultFunc:j,dependencies:R,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var ie=mJ(U4),gJ=Object.assign((t,e=ie)=>{lJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>gJ}),Mb={},Db={},Ob={},V2;function vJ(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};t.compareValues=n})(Ob)),Ob}var kb={},Lb={},U2;function j4(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Lb)),Lb}var j2;function yJ(){return j2||(j2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})(kb)),kb}var z2;function bJ(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vJ(),n=yJ(),r=YE();function i(o,l,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const d=(E,S)=>{let A=E;for(let T=0;T<S.length&&A!=null;++T)A=A[S[T]];return A},h=(E,S)=>S==null||E==null?S:typeof E=="object"&&"key"in E?Object.hasOwn(S,E.key)?S[E.key]:d(S,E.path):typeof E=="function"?E(S):Array.isArray(E)?d(S,E):typeof S=="object"?S[E]:S,m=l.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:m.map(S=>h(S,E))})).slice().sort((E,S)=>{for(let A=0;A<m.length;A++){const T=e.compareValues(E.criteria[A],S.criteria[A],u[A]);if(T!==0)return T}return 0}).map(E=>E.original)}t.orderBy=i})(Db)),Db}var Vb={},B2;function _J(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<o?l(h,f+1):i.push(h)}};return l(n,0),i}t.flatten=e})(Vb)),Vb}var Ub={},q2;function z4(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V4(),n=QE(),r=R4(),i=D4();function o(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],l):!1}t.isIterateeCall=o})(Ub)),Ub}var F2;function xJ(){return F2||(F2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bJ(),n=_J(),r=z4();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(Mb)),Mb}var jb,G2;function EJ(){return G2||(G2=1,jb=xJ().sortBy),jb}var wJ=EJ();const Gg=ea(wJ);var B4=t=>t.legend.settings,SJ=t=>t.legend.size,TJ=t=>t.legend.payload;ie([TJ,B4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Gg(r,n):r});var Ap=1;function AJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>Ap||Math.abs(l.left-e.left)>Ap||Math.abs(l.top-e.top)>Ap||Math.abs(l.width-e.width)>Ap)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Mn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",H2=CJ,zb=()=>Math.random().toString(36).substring(7).split("").join("."),IJ={INIT:`@@redux/INIT${zb()}`,REPLACE:`@@redux/REPLACE${zb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${zb()}`},Im=IJ;function tw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function q4(t,e,n){if(typeof t!="function")throw new Error(Mn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mn(1));return n(q4)(t,e)}let r=t,i=e,o=new Map,l=o,u=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((T,R)=>{l.set(R,T)}))}function h(){if(f)throw new Error(Mn(3));return i}function m(T){if(typeof T!="function")throw new Error(Mn(4));if(f)throw new Error(Mn(5));let R=!0;d();const j=u++;return l.set(j,T),function(){if(R){if(f)throw new Error(Mn(6));R=!1,d(),l.delete(j),o=null}}}function v(T){if(!tw(T))throw new Error(Mn(7));if(typeof T.type>"u")throw new Error(Mn(8));if(typeof T.type!="string")throw new Error(Mn(17));if(f)throw new Error(Mn(9));try{f=!0,i=r(i,T)}finally{f=!1}return(o=l).forEach(j=>{j()}),T}function E(T){if(typeof T!="function")throw new Error(Mn(10));r=T,v({type:Im.REPLACE})}function S(){const T=m;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(Mn(11));function j(){const B=R;B.next&&B.next(h())}return j(),{unsubscribe:T(j)}},[H2](){return this}}}return v({type:Im.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:E,[H2]:S}}function NJ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Im.INIT})>"u")throw new Error(Mn(12));if(typeof n(void 0,{type:Im.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mn(13))})}function F4(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{NJ(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],E=l[m],S=v(E,u);if(typeof S>"u")throw u&&u.type,new Error(Mn(14));d[m]=S,f=f||S!==E}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Nm(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function PJ(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Mn(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},u=t.map(f=>f(l));return o=Nm(...u)(i.dispatch),{...i,dispatch:o}}}function G4(t){return tw(t)&&"type"in t&&typeof t.type=="string"}var H4=Symbol.for("immer-nothing"),$2=Symbol.for("immer-draftable"),rr=Symbol.for("immer-state");function vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mr=Object,qu=Mr.getPrototypeOf,Pm="constructor",Hg="prototype",fx="configurable",Rm="enumerable",Jp="writable",ed="value",Yo=t=>!!t&&!!t[rr];function Ni(t){var e;return t?$4(t)||Kg(t)||!!t[$2]||!!((e=t[Pm])!=null&&e[$2])||Yg(t)||Wg(t):!1}var RJ=Mr[Hg][Pm].toString(),K2=new WeakMap;function $4(t){if(!t||!nw(t))return!1;const e=qu(t);if(e===null||e===Mr[Hg])return!0;const n=Mr.hasOwnProperty.call(e,Pm)&&e[Pm];if(n===Object)return!0;if(!xu(n))return!1;let r=K2.get(n);return r===void 0&&(r=Function.toString.call(n),K2.set(n,r)),r===RJ}function $g(t,e,n=!0){xd(t)===0?(n?Reflect.ownKeys(t):Mr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function xd(t){const e=t[rr];return e?e.type_:Kg(t)?1:Yg(t)?2:Wg(t)?3:0}var Y2=(t,e,n=xd(t))=>n===2?t.has(e):Mr[Hg].hasOwnProperty.call(t,e),dx=(t,e,n=xd(t))=>n===2?t.get(e):t[e],Mm=(t,e,n,r=xd(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function MJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Kg=Array.isArray,Yg=t=>t instanceof Map,Wg=t=>t instanceof Set,nw=t=>typeof t=="object",xu=t=>typeof t=="function",Bb=t=>typeof t=="boolean";function DJ(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Lo=t=>t.copy_||t.base_,rw=t=>t.modified_?t.copy_:t.base_;function hx(t,e){if(Yg(t))return new Map(t);if(Wg(t))return new Set(t);if(Kg(t))return Array[Hg].slice.call(t);const n=$4(t);if(e===!0||e==="class_only"&&!n){const r=Mr.getOwnPropertyDescriptors(t);delete r[rr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[Jp]===!1&&(u[Jp]=!0,u[fx]=!0),(u.get||u.set)&&(r[l]={[fx]:!0,[Jp]:!0,[Rm]:u[Rm],[ed]:t[l]})}return Mr.create(qu(t),r)}else{const r=qu(t);if(r!==null&&n)return{...t};const i=Mr.create(r);return Mr.assign(i,t)}}function iw(t,e=!1){return Jg(t)||Yo(t)||!Ni(t)||(xd(t)>1&&Mr.defineProperties(t,{set:Cp,add:Cp,clear:Cp,delete:Cp}),Mr.freeze(t),e&&$g(t,(n,r)=>{iw(r,!0)},!1)),t}function OJ(){vi(2)}var Cp={[ed]:OJ};function Jg(t){return t===null||!nw(t)?!0:Mr.isFrozen(t)}var Dm="MapSet",px="Patches",W2="ArrayMethods",K4={};function fl(t){const e=K4[t];return e||vi(0,t),e}var J2=t=>!!K4[t],td,Y4=()=>td,kJ=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:J2(Dm)?fl(Dm):void 0,arrayMethodsPlugin_:J2(W2)?fl(W2):void 0});function X2(t,e){e&&(t.patchPlugin_=fl(px),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mx(t){gx(t),t.drafts_.forEach(LJ),t.drafts_=null}function gx(t){t===td&&(td=t.parent_)}var Q2=t=>td=kJ(td,t);function LJ(t){const e=t[rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Z2(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[rr].modified_&&(mx(e),vi(4)),Ni(t)&&(t=eP(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[rr].base_,t,e)}else t=eP(e,n);return VJ(e,t,!0),mx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==H4?t:void 0}function eP(t,e){if(Jg(e))return e;const n=e[rr];if(!n)return Om(e,t.handledSet_,t);if(!Xg(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);X4(n,t)}return n.copy_}function VJ(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&iw(e,n)}function W4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Xg=(t,e)=>t.scope_===e,UJ=[];function J4(t,e,n,r){const i=Lo(t),o=t.type_;if(r!==void 0&&dx(i,r,o)===e){Mm(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;$g(i,(f,d)=>{if(Yo(d)){const h=u.get(d)||[];h.push(f),u.set(d,h)}})}const l=t.draftLocations_.get(e)??UJ;for(const u of l)Mm(i,u,n,o)}function jJ(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!Xg(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=rw(o);J4(t,o.draft_??o,l,n),X4(o,i)})}function X4(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}W4(t)}}function zJ(t,e,n){const{scope_:r}=t;if(Yo(n)){const i=n[rr];Xg(i,r)&&i.callbacks_.push(function(){Xp(t);const l=rw(i);J4(t,n,l,e)})}else Ni(n)&&t.callbacks_.push(function(){const o=Lo(t);t.type_===3?o.has(n)&&Om(n,r.handledSet_,r):dx(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Om(dx(t.copy_,e,t.type_),r.handledSet_,r)})}function Om(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Yo(t)||e.has(t)||!Ni(t)||Jg(t)||(e.add(t),$g(t,(r,i)=>{if(Yo(i)){const o=i[rr];if(Xg(o,n)){const l=rw(o);Mm(t,r,l,t.type_),W4(o)}}else Ni(i)&&Om(i,e,n)})),t}function BJ(t,e){const n=Kg(t),r={type_:n?1:0,scope_:e?e.scope_:Y4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=km;n&&(i=[r],o=nd);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var km={get(t,e){if(e===rr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n!=null&&n.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Lo(t);if(!Y2(i,e,t.type_))return qJ(t,i,e);const o=i[e];if(t.finalized_||!Ni(o)||r&&t.operationMethod&&(n!=null&&n.isMutatingArrayMethod(t.operationMethod))&&DJ(e))return o;if(o===qb(t.base_,e)){Xp(t);const l=t.type_===1?+e:e,u=yx(t.scope_,o,t,l);return t.copy_[l]=u}return o},has(t,e){return e in Lo(t)},ownKeys(t){return Reflect.ownKeys(Lo(t))},set(t,e,n){const r=Q4(Lo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=qb(Lo(t),e),o=i==null?void 0:i[rr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(MJ(n,i)&&(n!==void 0||Y2(t.base_,e,t.type_)))return!0;Xp(t),vx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),zJ(t,e,n)),!0},deleteProperty(t,e){return Xp(t),qb(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),vx(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Lo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Jp]:!0,[fx]:t.type_!==1||e!=="length",[Rm]:r[Rm],[ed]:n[e]}},defineProperty(){vi(11)},getPrototypeOf(t){return qu(t.base_)},setPrototypeOf(){vi(12)}},nd={};for(let t in km){let e=km[t];nd[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}nd.deleteProperty=function(t,e){return nd.set.call(this,t,e,void 0)};nd.set=function(t,e,n){return km.set.call(this,t[0],e,n,t[0])};function qb(t,e){const n=t[rr];return(n?Lo(n):t)[e]}function qJ(t,e,n){var i;const r=Q4(e,n);return r?ed in r?r[ed]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Q4(t,e){if(!(e in t))return;let n=qu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=qu(n)}}function vx(t){t.modified_||(t.modified_=!0,t.parent_&&vx(t.parent_))}function Xp(t){t.copy_||(t.assigned_=new Map,t.copy_=hx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var FJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(xu(n)&&!xu(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}xu(r)||vi(6),i!==void 0&&!xu(i)&&vi(7);let o;if(Ni(n)){const l=Q2(this),u=yx(l,n,void 0);let f=!0;try{o=r(u),f=!1}finally{f?mx(l):gx(l)}return X2(l,i),Z2(o,l)}else if(!n||!nw(n)){if(o=r(n),o===void 0&&(o=n),o===H4&&(o=void 0),this.autoFreeze_&&iw(o,!0),i){const l=[],u=[];fl(px).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else vi(1,n)},this.produceWithPatches=(n,r)=>{if(xu(n))return(u,...f)=>this.produceWithPatches(u,d=>n(d,...f));let i,o;return[this.produce(n,r,(u,f)=>{i=u,o=f}),i,o]},Bb(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Bb(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Bb(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ni(e)||vi(8),Yo(e)&&(e=Si(e));const n=Q2(this),r=yx(n,e,void 0);return r[rr].isManual_=!0,gx(n),r}finishDraft(e,n){const r=e&&e[rr];(!r||!r.isManual_)&&vi(9);const{scope_:i}=r;return X2(i,n),Z2(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=fl(px).applyPatches_;return Yo(e)?i(e,n):this.produce(e,o=>i(o,n))}};function yx(t,e,n,r){const[i,o]=Yg(e)?fl(Dm).proxyMap_(e,n):Wg(e)?fl(Dm).proxySet_(e,n):BJ(e,n);return((n==null?void 0:n.scope_)??Y4()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?jJ(n,o,r):o.callbacks_.push(function(f){var h;(h=f.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),i}function Si(t){return Yo(t)||vi(10,t),Z4(t)}function Z4(t){if(!Ni(t)||Jg(t))return t;const e=t[rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=hx(t,!0);return $g(n,(i,o)=>{Mm(n,i,Z4(o))},r),e&&(e.finalized_=!1),n}var GJ=new FJ,eL=GJ.produce;function tL(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var HJ=tL(),$J=tL,KJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nm:Nm.apply(null,arguments)};function ni(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Dr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>G4(r)&&r.type===t,n}var nL=class Of extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Of.prototype)}static get[Symbol.species](){return Of}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Of(...e[0].concat(this)):new Of(...e.concat(this))}};function tP(t){return Ni(t)?eL(t,()=>{}):t}function Ip(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function YJ(t){return typeof t=="boolean"}var WJ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new nL;return n&&(YJ(n)?l.push(HJ):l.push($J(n.extraArgument))),l},rL="RTK_autoBatch",Rt=()=>t=>({payload:t,meta:{[rL]:!0}}),nP=t=>e=>{setTimeout(e,t)},iL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nP(10):t.type==="callback"?t.queueNotification:nP(t.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[rL]),o=!i,o&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},JJ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new nL(t);return r&&i.push(iL(typeof r=="object"?r:void 0)),i};function XJ(t){const e=WJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(tw(n))u=F4(n);else throw new Error(Dr(1));let f;typeof r=="function"?f=r(e):f=e();let d=Nm;i&&(d=KJ({trace:!1,...typeof i=="object"&&i}));const h=PJ(...f),m=JJ(h);let v=typeof l=="function"?l(m):m();const E=d(...v);return q4(u,o,E)}function oL(t){const e={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Dr(28));if(u in e)throw new Error(Dr(29));return e[u]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function QJ(t){return typeof t=="function"}function ZJ(t,e){let[n,r,i]=oL(e),o;if(QJ(t))o=()=>tP(t());else{const u=tP(t);o=()=>u}function l(u=o(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Yo(h)){const E=m(h,f);return E===void 0?h:E}else{if(Ni(h))return eL(h,v=>m(v,f));{const v=m(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=o,l}var eX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tX=(t=21)=>{let e="",n=t;for(;n--;)e+=eX[Math.random()*64|0];return e},nX=Symbol.for("rtk-slice-createasyncthunk");function rX(t,e){return`${t}/${e}`}function iX({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[nX];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Dr(11));const u=(typeof i.reducers=="function"?i.reducers(aX()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(B,H){const F=typeof B=="string"?B:B.type;if(!F)throw new Error(Dr(12));if(F in d.sliceCaseReducersByType)throw new Error(Dr(13));return d.sliceCaseReducersByType[F]=H,h},addMatcher(B,H){return d.sliceMatchers.push({matcher:B,reducer:H}),h},exposeAction(B,H){return d.actionCreators[B]=H,h},exposeCaseReducer(B,H){return d.sliceCaseReducersByName[B]=H,h}};f.forEach(B=>{const H=u[B],F={reducerName:B,type:rX(o,B),createNotation:typeof i.reducers=="function"};lX(H)?cX(F,H,h,e):sX(F,H,h)});function m(){const[B={},H=[],F=void 0]=typeof i.extraReducers=="function"?oL(i.extraReducers):[i.extraReducers],D={...B,...d.sliceCaseReducersByType};return ZJ(i.initialState,O=>{for(let k in D)O.addCase(k,D[k]);for(let k of d.sliceMatchers)O.addMatcher(k.matcher,k.reducer);for(let k of H)O.addMatcher(k.matcher,k.reducer);F&&O.addDefaultCase(F)})}const v=B=>B,E=new Map,S=new WeakMap;let A;function T(B,H){return A||(A=m()),A(B,H)}function R(){return A||(A=m()),A.getInitialState()}function j(B,H=!1){function F(O){let k=O[B];return typeof k>"u"&&H&&(k=Ip(S,F,R)),k}function D(O=v){const k=Ip(E,H,()=>new WeakMap);return Ip(k,O,()=>{const G={};for(const[q,M]of Object.entries(i.selectors??{}))G[q]=oX(M,O,()=>Ip(S,O,R),H);return G})}return{reducerPath:B,getSelectors:D,get selectors(){return D(F)},selectSlice:F}}const L={name:o,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:R,...j(l),injectInto(B,{reducerPath:H,...F}={}){const D=H??l;return B.inject({reducerPath:D,reducer:T},F),{...L,...j(D,!0)}}};return L}}function oX(t,e,n,r){function i(o,...l){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var yr=iX();function aX(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function sX({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!uX(r))throw new Error(Dr(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?ni(t,l):ni(t))}function lX(t){return t._reducerDefinitionType==="asyncThunk"}function uX(t){return t._reducerDefinitionType==="reducerWithPrepare"}function cX({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Dr(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:f,settled:d,options:h}=n,m=i(t,o,h);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Np,pending:u||Np,rejected:f||Np,settled:d||Np})}function Np(){}var fX="task",aL="listener",sL="completed",ow="cancelled",dX=`task-${ow}`,hX=`task-${sL}`,bx=`${aL}-${ow}`,pX=`${aL}-${sL}`,Qg=class{constructor(t){w0(this,"name","TaskAbortError");w0(this,"message");this.code=t,this.message=`${fX} ${ow} (reason: ${t})`}},aw=(t,e)=>{if(typeof t!="function")throw new TypeError(Dr(32))},Lm=()=>{},lL=(t,e=Lm)=>(t.catch(e),t),uL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),rl=t=>{if(t.aborted)throw new Qg(t.reason)};function cL(t,e){let n=Lm;return new Promise((r,i)=>{const o=()=>i(new Qg(t.reason));if(t.aborted){o();return}n=uL(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Lm})}var mX=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Qg?"cancelled":"rejected",error:n}}finally{e==null||e()}},Vm=t=>e=>lL(cL(t,e).then(n=>(rl(t),n))),fL=t=>{const e=Vm(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Du}=Object,rP={},Zg="listenerMiddleware",gX=(t,e)=>{const n=r=>uL(t,()=>r.abort(t.reason));return(r,i)=>{aw(r);const o=new AbortController;n(o);const l=mX(async()=>{rl(t),rl(o.signal);const u=await r({pause:Vm(o.signal),delay:fL(o.signal),signal:o.signal});return rl(o.signal),u},()=>o.abort(hX));return i!=null&&i.autoJoin&&e.push(l.catch(Lm)),{result:Vm(t)(l),cancel(){o.abort(dX)}}}},vX=(t,e)=>{const n=async(r,i)=>{rl(e);let o=()=>{};const u=[new Promise((f,d)=>{let h=t({predicate:r,effect:(m,v)=>{v.unsubscribe(),f([m,v.getState(),v.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await cL(e,Promise.race(u));return rl(e),f}finally{o()}};return(r,i)=>lL(n(r,i))},dL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=ni(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Dr(21));return aw(o),{predicate:i,type:e,effect:o}},hL=Du(t=>{const{type:e,predicate:n,effect:r}=dL(t);return{id:tX(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Dr(22))}}},{withTypes:()=>hL}),iP=(t,e)=>{const{type:n,effect:r,predicate:i}=dL(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},_x=t=>{t.pending.forEach(e=>{e.abort(bx)})},yX=(t,e)=>()=>{for(const n of e.keys())_x(n);t.clear()},oP=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},pL=Du(ni(`${Zg}/add`),{withTypes:()=>pL}),bX=ni(`${Zg}/removeAll`),mL=Du(ni(`${Zg}/remove`),{withTypes:()=>mL}),_X=(...t)=>{console.error(`${Zg}/error`,...t)},Ed=(t={})=>{const e=new Map,n=new Map,r=E=>{const S=n.get(E)??0;n.set(E,S+1)},i=E=>{const S=n.get(E)??1;S===1?n.delete(E):n.set(E,S-1)},{extra:o,onError:l=_X}=t;aw(l);const u=E=>(E.unsubscribe=()=>e.delete(E.id),e.set(E.id,E),S=>{E.unsubscribe(),S!=null&&S.cancelActive&&_x(E)}),f=E=>{const S=iP(e,E)??hL(E);return u(S)};Du(f,{withTypes:()=>f});const d=E=>{const S=iP(e,E);return S&&(S.unsubscribe(),E.cancelActive&&_x(S)),!!S};Du(d,{withTypes:()=>d});const h=async(E,S,A,T)=>{const R=new AbortController,j=vX(f,R.signal),L=[];try{E.pending.add(R),r(E),await Promise.resolve(E.effect(S,Du({},A,{getOriginalState:T,condition:(B,H)=>j(B,H).then(Boolean),take:j,delay:fL(R.signal),pause:Vm(R.signal),extra:o,signal:R.signal,fork:gX(R.signal,L),unsubscribe:E.unsubscribe,subscribe:()=>{e.set(E.id,E)},cancelActiveListeners:()=>{E.pending.forEach((B,H,F)=>{B!==R&&(B.abort(bx),F.delete(B))})},cancel:()=>{R.abort(bx),E.pending.delete(R)},throwIfCancelled:()=>{rl(R.signal)}})))}catch(B){B instanceof Qg||oP(l,B,{raisedBy:"effect"})}finally{await Promise.all(L),R.abort(pX),i(E),E.pending.delete(R)}},m=yX(e,n);return{middleware:E=>S=>A=>{if(!G4(A))return S(A);if(pL.match(A))return f(A.payload);if(bX.match(A)){m();return}if(mL.match(A))return d(A.payload);let T=E.getState();const R=()=>{if(T===rP)throw new Error(Dr(23));return T};let j;try{if(j=S(A),e.size>0){const L=E.getState(),B=Array.from(e.values());for(const H of B){let F=!1;try{F=H.predicate(A,L,T)}catch(D){F=!1,oP(l,D,{raisedBy:"predicate"})}F&&h(H,A,E,R)}}}finally{T=rP}return j},startListening:f,stopListening:d,clearListeners:m}};function Dr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gL=yr({name:"chartLayout",initialState:xX,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:EX,setLayout:wX,setChartSize:SX,setScale:TX}=gL.actions,AX=gL.reducer;function vL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ze(t){return Number.isFinite(t)}function po(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Su(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){CX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CX(t,e,n){return(e=IX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IX(t){var e=NX(t,"string");return typeof e=="symbol"?e:e+""}function NX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Un(t,e,n){return Wn(t)||Wn(e)?n:ho(e)?Fg(t,e,n):typeof e=="function"?e(t):n}var PX=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&Ne(t[o]))return Su(Su({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&Ne(t[l]))return Su(Su({},t),{},{[l]:t[l]+(i||0)})}return t},go=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",yL=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(e),o||l.push(n),l},bL=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:v,axisType:E}=t;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,A=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(A=E==="angleAxis"&&o&&o.length>=2?Xr(o[0]-o[1])*2*A:A,m||v){var T=(m||v||[]).map((R,j)=>{var L=r?r.indexOf(R):R,B=l.map(L);return Ze(B)?{coordinate:B+A,value:R,offset:A,index:j}:null}).filter(mr);return T}return f&&d?d.map((R,j)=>{var L=l.map(R);return Ze(L)?{coordinate:L+A,value:R,index:j,offset:A}:null}).filter(mr):l.ticks&&h!=null?l.ticks(h).map((R,j)=>{var L=l.map(R);return Ze(L)?{coordinate:L+A,value:R,index:j,offset:A}:null}).filter(mr):l.domain().map((R,j)=>{var L=l.map(R);return Ze(L)?{coordinate:L+A,value:r?r[R]:R,index:j,offset:A}:null}).filter(mr)},RX=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,u=0;u<n;++u){var f=t[u],d=f==null?void 0:f[i];if(d!=null){var h=d[1],m=d[0],v=fo(h)?m:h;v>=0?(d[0]=o,o+=v,d[1]=o):(d[0]=l,l+=v,d[1]=l)}}}},MX=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var u=t[l],f=u==null?void 0:u[i];if(f!=null){var d=fo(f[1])?f[0]:f[1];d>=0?(f[0]=o,o+=d,f[1]=o):(f[0]=0,f[1]=0)}}}},DX={sign:RX,expand:vW,none:ul,silhouette:yW,wiggle:bW,positive:MX},OX=(t,e,n)=>{var r,i=(r=DX[n])!==null&&r!==void 0?r:ul,o=gW().keys(e).value((u,f)=>Number(Un(u,f,0))).order(cx).offset(i),l=o(t);return l.forEach((u,f)=>{u.forEach((d,h)=>{var m=Un(t[h],e[f],0);Array.isArray(m)&&m.length===2&&Ne(m[0])&&Ne(m[1])&&(d[0]=m[0],d[1]=m[1])})}),l};function kX(t){return t==null?void 0:String(t)}function sP(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Wn(i[e.dataKey])){var u=I4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var f=Un(i,Wn(l)?e.dataKey:l),d=e.scale.map(f);return Ne(d)?d:null}var LX=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},VX=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],UX=(t,e,n)=>{if(t!=null)return VX(Object.keys(t).reduce((r,i)=>{var o=t[i];if(!o)return r;var{stackedData:l}=o,u=l.reduce((f,d)=>{var h=vL(d,e,n),m=LX(h);return!Ze(m[0])||!Ze(m[1])?f:[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},lP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Um=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Gg(e,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];o=Math.min(((f==null?void 0:f.coordinate)||0)-((d==null?void 0:d.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function cP(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Su(Su({},e),{},{dataKey:n,payload:r,value:i,name:o})}function _L(t,e){if(t)return String(t);if(typeof e=="string")return e}var jX=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},zX=(t,e)=>e==="centric"?t.angle:t.radius,ra=t=>t.layout.width,ia=t=>t.layout.height,BX=t=>t.layout.scale,xL=t=>t.layout.margin,ev=ie(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),tv=ie(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),qX="data-recharts-item-index",FX="data-recharts-item-id",wd=60;function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){GX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GX(t,e,n){return(e=HX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HX(t){var e=$X(t,"string");return typeof e=="symbol"?e:e+""}function $X(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KX=t=>t.brush.height;function YX(t){var e=tv(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:wd;return n+i}return n},0)}function WX(t){var e=tv(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:wd;return n+i}return n},0)}function JX(t){var e=ev(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function XX(t){var e=ev(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Bn=ie([ra,ia,xL,KX,YX,WX,JX,XX,B4,SJ],(t,e,n,r,i,o,l,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=Pp(Pp({},m),h),E=v.bottom;v.bottom+=r,v=PX(v,f,d);var S=t-v.left-v.right,A=e-v.top-v.bottom;return Pp(Pp({brushBottom:E},v),{},{width:Math.max(S,0),height:Math.max(A,0)})}),QX=ie(Bn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),EL=ie(ra,ia,(t,e)=>({x:0,y:0,width:t,height:e})),ZX=N.createContext(null),br=()=>N.useContext(ZX)!=null,nv=t=>t.brush,rv=ie([nv,Bn,xL],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ne(t.width)?t.width:e.width})),Fb={},Gb={},Hb={},dP;function eQ(){return dP||(dP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,u=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),A()};let v=null;const E=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},S=()=>{v!==null&&(clearTimeout(v),v=null)},A=()=>{S(),l=void 0,u=null},T=()=>{h()},R=function(...j){if(i!=null&&i.aborted)return;l=this,u=j;const L=v==null;E(),f&&L&&h()};return R.schedule=E,R.cancel=A,R.flush=T,i==null||i.addEventListener("abort",A,{once:!0}),R}t.debounce=e})(Hb)),Hb}var hP;function tQ(){return hP||(hP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eQ();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const v=e.debounce(function(...A){h=r.apply(this,A),m=null},i,{edges:d}),E=function(...A){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=r.apply(this,A),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,A),h)},S=()=>(v.flush(),h);return E.cancel=v.cancel,E.flush=S,E}t.debounce=n})(Gb)),Gb}var pP;function nQ(){return pP||(pP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tQ();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(Fb)),Fb}var $b,mP;function rQ(){return mP||(mP=1,$b=nQ().throttle),$b}var iQ=rQ();const oQ=ea(iQ);var jm=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},ro={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},wL=(t,e,n)=>{var{width:r=ro.width,height:i=ro.height,aspect:o,maxHeight:l}=n,u=cl(r)?t:Number(r),f=cl(i)?e:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},aQ={width:0,height:0,overflow:"visible"},sQ={width:0,overflowX:"visible"},lQ={height:0,overflowY:"visible"},uQ={},cQ=t=>{var{width:e,height:n}=t,r=cl(e),i=cl(n);return r&&i?aQ:r?sQ:i?lQ:uQ};function fQ(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i=ro.width,o=ro.height):i===void 0?i=r&&r>0?void 0:ro.width:o===void 0&&(o=r&&r>0?void 0:ro.height),{width:i,height:o}}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(null,arguments)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){dQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dQ(t,e,n){return(e=hQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hQ(t){var e=pQ(t,"string");return typeof e=="symbol"?e:e+""}function pQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SL=N.createContext(ro.initialDimension);function mQ(t){return po(t.width)&&po(t.height)}function TL(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return mQ(i)?N.createElement(SL.Provider,{value:i},e):null}var sw=()=>N.useContext(SL),gQ=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=ro.initialDimension,width:i,height:o,minWidth:l=ro.minWidth,minHeight:u,maxHeight:f,children:d,debounce:h=ro.debounce,id:m,className:v,onResize:E,style:S={}}=t,A=N.useRef(null),T=N.useRef();T.current=E,N.useImperativeHandle(e,()=>A.current);var[R,j]=N.useState({containerWidth:r.width,containerHeight:r.height}),L=N.useCallback((O,k)=>{j(G=>{var q=Math.round(O),M=Math.round(k);return G.containerWidth===q&&G.containerHeight===M?G:{containerWidth:q,containerHeight:M}})},[]);N.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return rc;var O=M=>{var V,de=M[0];if(de!=null){var{width:ye,height:W}=de.contentRect;L(ye,W),(V=T.current)===null||V===void 0||V.call(T,ye,W)}};h>0&&(O=oQ(O,h,{trailing:!0,leading:!1}));var k=new ResizeObserver(O),{width:G,height:q}=A.current.getBoundingClientRect();return L(G,q),k.observe(A.current),()=>{k.disconnect()}},[L,h]);var{containerWidth:B,containerHeight:H}=R;jm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:D}=wL(B,H,{width:i,height:o,aspect:n,maxHeight:f});return jm(F!=null&&F>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,D,i,o,l,u,n),N.createElement("div",{id:m?"".concat(m):void 0,className:Ct("recharts-responsive-container",v),style:vP(vP({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:f}),ref:A},N.createElement("div",{style:cQ({width:i,height:o})},N.createElement(TL,{width:F,height:D},d)))}),vQ=N.forwardRef((t,e)=>{var n=sw();if(po(n.width)&&po(n.height))return t.children;var{width:r,height:i}=fQ({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=wL(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ne(o)&&Ne(l)?N.createElement(TL,{width:o,height:l},t.children):N.createElement(gQ,xx({},t,{width:r,height:i,ref:e}))});function lw(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var iv=()=>{var t,e=br(),n=De(QX),r=De(rv),i=(t=De(nv))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},yQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},AL=()=>{var t;return(t=De(Bn))!==null&&t!==void 0?t:yQ},CL=()=>De(ra),IL=()=>De(ia),Dt=t=>t.layout.layoutType,ic=()=>De(Dt),uw=()=>{var t=ic();if(t==="horizontal"||t==="vertical")return t},NL=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},bQ=()=>{var t=ic();return t!==void 0},Sd=t=>{var e=En(),n=br(),{width:r,height:i}=t,o=sw(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),N.useEffect(()=>{!n&&po(l)&&po(u)&&e(SX({width:l,height:u}))},[e,n,l,u]),null},PL=Symbol.for("immer-nothing"),yP=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var rd=Object.getPrototypeOf;function Fu(t){return!!t&&!!t[Or]}function dl(t){var e;return t?RL(t)||Array.isArray(t)||!!t[yP]||!!((e=t.constructor)!=null&&e[yP])||Td(t)||av(t):!1}var _Q=Object.prototype.constructor.toString(),bP=new WeakMap;function RL(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=bP.get(n);return r===void 0&&(r=Function.toString.call(n),bP.set(n,r)),r===_Q}function zm(t,e,n=!0){ov(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function ov(t){const e=t[Or];return e?e.type_:Array.isArray(t)?1:Td(t)?2:av(t)?3:0}function Ex(t,e){return ov(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ML(t,e,n){const r=ov(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function xQ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Td(t){return t instanceof Map}function av(t){return t instanceof Set}function Ws(t){return t.copy_||t.base_}function wx(t,e){if(Td(t))return new Map(t);if(av(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=RL(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Or];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(rd(t),r)}else{const r=rd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function cw(t,e=!1){return sv(t)||Fu(t)||!dl(t)||(ov(t)>1&&Object.defineProperties(t,{set:Rp,add:Rp,clear:Rp,delete:Rp}),Object.freeze(t),e&&Object.values(t).forEach(n=>cw(n,!0))),t}function EQ(){yi(2)}var Rp={value:EQ};function sv(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var wQ={};function hl(t){const e=wQ[t];return e||yi(0,t),e}var id;function DL(){return id}function SQ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _P(t,e){e&&(hl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sx(t){Tx(t),t.drafts_.forEach(TQ),t.drafts_=null}function Tx(t){t===id&&(id=t.parent_)}function xP(t){return id=SQ(id,t)}function TQ(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function EP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Or].modified_&&(Sx(e),yi(4)),dl(t)&&(t=Bm(e,t),e.parent_||qm(e,t)),e.patches_&&hl("Patches").generateReplacementPatches_(n[Or].base_,t,e.patches_,e.inversePatches_)):t=Bm(e,n,[]),Sx(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PL?t:void 0}function Bm(t,e,n){if(sv(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Or];if(!i)return zm(e,(o,l)=>wP(t,i,e,o,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return qm(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),zm(l,(f,d)=>wP(t,i,o,f,d,n,u),r),qm(t,o,!1),n&&t.patches_&&hl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function wP(t,e,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=sv(i);if(!(u&&!l)){if(Fu(i)){const f=o&&e&&e.type_!==3&&!Ex(e.assigned_,r)?o.concat(r):void 0,d=Bm(t,i,f);if(ML(n,r,d),Fu(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(dl(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Bm(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Td(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&qm(t,i)}}}function qm(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&cw(e,n)}function AQ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=fw;n&&(i=[r],o=od);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var fw={get(t,e){if(e===Or)return t;const n=Ws(t);if(!Ex(n,e))return CQ(t,n,e);const r=n[e];return t.finalized_||!dl(r)?r:r===Kb(t.base_,e)?(Yb(t),t.copy_[e]=Cx(r,t)):r},has(t,e){return e in Ws(t)},ownKeys(t){return Reflect.ownKeys(Ws(t))},set(t,e,n){const r=OL(Ws(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Kb(Ws(t),e),o=i==null?void 0:i[Or];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(xQ(n,i)&&(n!==void 0||Ex(t.base_,e)))return!0;Yb(t),Ax(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Kb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Yb(t),Ax(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ws(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){yi(11)},getPrototypeOf(t){return rd(t.base_)},setPrototypeOf(){yi(12)}},od={};zm(fw,(t,e)=>{od[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});od.deleteProperty=function(t,e){return od.set.call(this,t,e,void 0)};od.set=function(t,e,n){return fw.set.call(this,t[0],e,n,t[0])};function Kb(t,e){const n=t[Or];return(n?Ws(n):t)[e]}function CQ(t,e,n){var i;const r=OL(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function OL(t,e){if(!(e in t))return;let n=rd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=rd(n)}}function Ax(t){t.modified_||(t.modified_=!0,t.parent_&&Ax(t.parent_))}function Yb(t){t.copy_||(t.copy_=wx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var IQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&yi(6),r!==void 0&&typeof r!="function"&&yi(7);let i;if(dl(e)){const o=xP(this),l=Cx(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Sx(o):Tx(o)}return _P(o,r),EP(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===PL&&(i=void 0),this.autoFreeze_&&cw(i,!0),r){const o=[],l=[];hl("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else yi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){dl(t)||yi(8),Fu(t)&&(t=NQ(t));const e=xP(this),n=Cx(t,void 0);return n[Or].isManual_=!0,Tx(e),n}finishDraft(t,e){const n=t&&t[Or];(!n||!n.isManual_)&&yi(9);const{scope_:r}=n;return _P(r,e),EP(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=hl("Patches").applyPatches_;return Fu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Cx(t,e){const n=Td(t)?hl("MapSet").proxyMap_(t,e):av(t)?hl("MapSet").proxySet_(t,e):AQ(t,e);return(e?e.scope_:DL()).drafts_.push(n),n}function NQ(t){return Fu(t)||yi(10,t),kL(t)}function kL(t){if(!dl(t)||sv(t))return t;const e=t[Or];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=wx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=wx(t,!0);return zm(n,(i,o)=>{ML(n,i,kL(o))},r),e&&(e.finalized_=!1),n}var PQ=new IQ;PQ.produce;var RQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LL=yr({name:"legend",initialState:RQ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Rt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Si(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Rt()},removeLegendPayload:{reducer(t,e){var n=Si(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Rt()}}}),{setLegendSize:Dfe,setLegendSettings:Ofe,addLegendPayload:MQ,replaceLegendPayload:DQ,removeLegendPayload:OQ}=LL.actions,kQ=LL.reducer;function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(null,arguments)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){LQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LQ(t,e,n){return(e=VQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VQ(t){var e=UQ(t,"string");return typeof e=="symbol"?e:e+""}function UQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jQ(t){return Array.isArray(t)&&ho(t[0])&&ho(t[1])?t.join(" ~ "):t}var du={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},zQ=t=>{var{separator:e=du.separator,contentStyle:n,itemStyle:r,labelStyle:i=du.labelStyle,payload:o,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:v=du.accessibilityLayer}=t,E=()=>{if(o&&o.length){var H={padding:0,margin:0},F=(u?Gg(o,u):o).map((D,O)=>{if(D.type==="none")return null;var k=D.formatter||l||jQ,{value:G,name:q}=D,M=G,V=q;if(k){var de=k(G,q,D,O,o);if(Array.isArray(de))[M,V]=de;else if(de!=null)M=de;else return null}var ye=xf(xf({},du.itemStyle),{},{color:D.color||du.itemStyle.color},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:ye},ho(V)?N.createElement("span",{className:"recharts-tooltip-item-name"},V):null,ho(V)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},M),N.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:H},F)}return null},S=xf(xf({},du.contentStyle),n),A=xf({margin:0},i),T=!Wn(h),R=T?h:"",j=Ct("recharts-default-tooltip",f),L=Ct("recharts-tooltip-label",d);T&&m&&o!==void 0&&o!==null&&(R=m(h,o));var B=v?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Ix({className:j,style:S},B),N.createElement("p",{className:L,style:A},N.isValidElement(R)?R:"".concat(R)),E())},Ef="recharts-tooltip-wrapper",BQ={visibility:"hidden"};function qQ(t){var{coordinate:e,translateX:n,translateY:r}=t;return Ct(Ef,{["".concat(Ef,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(Ef,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(Ef,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(Ef,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function TP(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(o&&Ne(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?h:m;var v=f[r];if(v==null)return 0;if(l[r]){var E=h,S=v;return E<S?Math.max(m,v):Math.max(h,v)}if(d==null)return 0;var A=m+u,T=v+d;return A>T?Math.max(h,v):Math.max(m,v)}function FQ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function GQ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:l,tooltipBox:u,useTranslate3d:f,viewBox:d}=t,h,m,v;return u.height>0&&u.width>0&&n?(m=TP({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:o,reverseDirection:l,tooltipDimension:u.width,viewBox:d,viewBoxDimension:d.width}),v=TP({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:o,reverseDirection:l,tooltipDimension:u.height,viewBox:d,viewBoxDimension:d.height}),h=FQ({translateX:m,translateY:v,useTranslate3d:f})):h=BQ,{cssProperties:h,cssClasses:qQ({translateX:m,translateY:v,coordinate:n})}}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){Nx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nx(t,e,n){return(e=HQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HQ(t){var e=$Q(t,"string");return typeof e=="symbol"?e:e+""}function $Q(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KQ extends N.PureComponent{constructor(){super(...arguments),Nx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:v,viewBox:E,wrapperStyle:S,lastBoundingBox:A,innerRef:T,hasPortalFromProps:R}=this.props,j=typeof d=="number"?d:d.x,L=typeof d=="number"?d:d.y,{cssClasses:B,cssProperties:H}=GQ({allowEscapeViewBox:n,coordinate:l,offsetLeft:j,offsetTop:L,position:h,reverseDirection:m,tooltipBox:{height:A.height,width:A.width},useTranslate3d:v,viewBox:E}),F=R?{}:Mp(Mp({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},H),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=Mp(Mp({},F),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},S);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:B,style:D,ref:T},o)}}var VL=()=>{var t;return(t=De(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function CP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return(e=WQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WQ(t){var e=JQ(t,"string");return typeof e=="symbol"?e:e+""}function JQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NP={curveBasisClosed:oW,curveBasisOpen:aW,curveBasis:iW,curveBumpX:nW,curveBumpY:rW,curveLinearClosed:sW,curveLinear:Bg,curveMonotoneX:lW,curveMonotoneY:uW,curveNatural:cW,curveStep:fW,curveStepAfter:hW,curveStepBefore:dW},Fm=t=>Ze(t.x)&&Ze(t.y),PP=t=>t.base!=null&&Fm(t.base)&&Fm(t),wf=t=>t.x,Sf=t=>t.y,XQ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(JE(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=NP["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return NP[n]||Bg},RP={connectNulls:!1,type:"linear"},QQ=t=>{var{type:e=RP.type,points:n=[],baseLine:r,layout:i,connectNulls:o=RP.connectNulls}=t,l=XQ(e,i),u=o?n.filter(Fm):n;if(Array.isArray(r)){var f,d=n.map((S,A)=>IP(IP({},S),{},{base:r[A]}));i==="vertical"?f=Sp().y(Sf).x1(wf).x0(S=>S.base.x):f=Sp().x(wf).y1(Sf).y0(S=>S.base.y);var h=f.defined(PP).curve(l),m=o?d.filter(PP):d;return h(m)}var v;i==="vertical"&&Ne(r)?v=Sp().y(Sf).x1(wf).x0(r):Ne(r)?v=Sp().x(wf).y1(Sf).y0(r):v=v4().x(wf).y(Sf);var E=v.defined(Fm).curve(l);return E(u)},Qp=t=>{var{className:e,points:n,path:r,pathRef:i}=t,o=ic();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||o,connectNulls:t.connectNulls},u=n&&n.length?QQ(l):r;return N.createElement("path",Px({},Ii(t),XE(t),{className:Ct("recharts-curve",e),d:u===null?void 0:u,ref:i}))},ZQ=["x","y","top","left","width","height","className"];function Rx(){return Rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rx.apply(null,arguments)}function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){tZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tZ(t,e,n){return(e=nZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nZ(t){var e=rZ(t,"string");return typeof e=="symbol"?e:e+""}function rZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iZ(t,e){if(t==null)return{};var n,r,i=oZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aZ=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),sZ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=t,f=iZ(t,ZQ),d=eZ({x:e,y:n,top:r,left:i,width:o,height:l},f);return!Ne(e)||!Ne(n)||!Ne(o)||!Ne(l)||!Ne(r)||!Ne(i)?null:N.createElement("path",Rx({},ti(d),{className:Ct("recharts-cross",u),d:aZ(e,n,o,l,r,i)}))};function lZ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function DP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(n),!0).forEach(function(r){uZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uZ(t,e,n){return(e=cZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t){var e=fZ(t,"string");return typeof e=="symbol"?e:e+""}function fZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dZ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),hZ=(t,e,n)=>t.map(r=>"".concat(dZ(r)," ").concat(e,"ms ").concat(n)).join(","),pZ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),ad=(t,e)=>Object.keys(e).reduce((n,r)=>OP(OP({},n),{},{[r]:t(r,e[r])}),{});function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gm=(t,e,n)=>t+(e-t)*n,Mx=t=>{var{from:e,to:n}=t;return e!==n},UL=(t,e,n)=>{var r=ad((i,o)=>{if(Mx(o)){var[l,u]=t(o.from,o.to,o.velocity);return cn(cn({},o),{},{from:l,velocity:u})}return o},e);return n<1?ad((i,o)=>Mx(o)&&r[i]!=null?cn(cn({},o),{},{velocity:Gm(o.velocity,r[i].velocity,n),from:Gm(o.from,r[i].from,n)}):o,e):UL(t,r,n-1)};function yZ(t,e,n,r,i,o){var l,u=r.reduce((v,E)=>cn(cn({},v),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),f=()=>ad((v,E)=>E.from,u),d=()=>!Object.values(u).filter(Mx).length,h=null,m=v=>{l||(l=v);var E=v-l,S=E/n.dt;u=UL(n,u,S),i(cn(cn(cn({},t),e),f())),l=v,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function bZ(t,e,n,r,i,o,l){var u=null,f=i.reduce((m,v)=>{var E=t[v],S=e[v];return E==null||S==null?m:cn(cn({},m),{},{[v]:[E,S]})},{}),d,h=m=>{d||(d=m);var v=(m-d)/r,E=ad((A,T)=>Gm(...T,n(v)),f);if(o(cn(cn(cn({},t),e),E)),v<1)u=l.setTimeout(h);else{var S=ad((A,T)=>Gm(...T,n(1)),f);o(cn(cn(cn({},t),e),S))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const _Z=(t,e,n,r,i,o)=>{var l=pZ(t,e);return n==null?()=>(i(cn(cn({},t),e)),()=>{}):n.isStepper===!0?yZ(t,e,n,l,i,o):bZ(t,e,n,r,l,i,o)};var Hm=1e-4,jL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],zL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),LP=(t,e)=>n=>{var r=jL(t,e);return zL(r,n)},xZ=(t,e)=>n=>{var r=jL(t,e),i=[...r.map((o,l)=>o*l).slice(1),0];return zL(i,n)},EZ=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},wZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=EZ(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},SZ=(t,e,n,r)=>{var i=LP(t,n),o=LP(e,r),l=xZ(t,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,v=0;v<8;++v){var E=i(m)-h,S=l(m);if(Math.abs(E-h)<Hm||S<Hm)return o(m);m=u(m-E/S)}return o(m)};return f.isStepper=!1,f},VP=function(){return SZ(...wZ(...arguments))},TZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(l,u,f)=>{var d=-(l-u)*n,h=f*r,m=f+(d-h)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<Hm&&Math.abs(m)<Hm?[u,0]:[v,m]};return o.isStepper=!0,o.dt=i,o},AZ=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VP(t);case"spring":return TZ();default:if(t.split("(")[0]==="cubic-bezier")return VP(t)}return typeof t=="function"?t:null};function CZ(t){var e,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,d),f);return}o(f),i=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class IZ{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function NZ(){return CZ(new IZ)}var PZ=N.createContext(NZ);function RZ(t,e){var n=N.useContext(PZ);return N.useMemo(()=>e??n(t),[t,e,n])}var MZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ad={isSsr:MZ()},DZ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},UP={t:0},Wb={t:1};function BL(t){var e=kr(t,DZ),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=e,h=n==="auto"?!Ad.isSsr:n,m=RZ(e.animationId,e.animationManager),[v,E]=N.useState(h?UP:Wb),S=N.useRef(null);return N.useEffect(()=>{h||E(Wb)},[h]),N.useEffect(()=>{if(!h||!r)return rc;var A=_Z(UP,Wb,AZ(o),i,E,m.getTimeoutController()),T=()=>{S.current=A()};return m.start([f,l,T,i,u]),()=>{m.stop(),S.current&&S.current(),u()}},[h,r,i,o,l,f,u,m]),d(v.t)}function qL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Zf(e)),r=N.useRef(t);return r.current!==t&&(n.current=Zf(e),r.current=t),n.current}var OZ=["radius"],kZ=["radius"],jP,zP,BP,qP,FP,GP,HP,$P,KP,YP;function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){LZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LZ(t,e,n){return(e=VZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VZ(t){var e=UZ(t,"string");return typeof e=="symbol"?e:e+""}function UZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(null,arguments)}function XP(t,e){if(t==null)return{};var n,r,i=jZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qi(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var QP=(t,e,n,r,i)=>{var o=Ja(n),l=Ja(r),u=Math.min(Math.abs(o)/2,Math.abs(l)/2),f=l>=0?1:-1,d=o>=0?1:-1,h=l>=0&&o>=0||l<0&&o<0?1:0,m;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],E=0,S=4;E<S;E++){var A,T=(A=i[E])!==null&&A!==void 0?A:0;v[E]=T>u?u:T}m=Dn(jP||(jP=Qi(["M",",",""])),t,e+f*v[0]),v[0]>0&&(m+=Dn(zP||(zP=Qi(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,t+d*v[0],e)),m+=Dn(BP||(BP=Qi(["L ",",",""])),t+n-d*v[1],e),v[1]>0&&(m+=Dn(qP||(qP=Qi(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,t+n,e+f*v[1])),m+=Dn(FP||(FP=Qi(["L ",",",""])),t+n,e+r-f*v[2]),v[2]>0&&(m+=Dn(GP||(GP=Qi(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,t+n-d*v[2],e+r)),m+=Dn(HP||(HP=Qi(["L ",",",""])),t+d*v[3],e+r),v[3]>0&&(m+=Dn($P||($P=Qi(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,t,e+r-f*v[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var R=Math.min(u,i);m=Dn(KP||(KP=Qi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+f*R,R,R,h,t+d*R,e,t+n-d*R,e,R,R,h,t+n,e+f*R,t+n,e+r-f*R,R,R,h,t+n-d*R,e+r,t+d*R,e+r,R,R,h,t,e+r-f*R)}else m=Dn(YP||(YP=Qi(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},ZP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zZ=t=>{var e=kr(t,ZP),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var oe=n.current.getTotalLength();oe&&i(oe)}catch{}},[]);var{x:o,y:l,width:u,height:f,radius:d,className:h}=e,{animationEasing:m,animationDuration:v,animationBegin:E,isAnimationActive:S,isUpdateAnimationActive:A}=e,T=N.useRef(u),R=N.useRef(f),j=N.useRef(o),L=N.useRef(l),B=N.useMemo(()=>({x:o,y:l,width:u,height:f,radius:d}),[o,l,u,f,d]),H=qL(B,"rectangle-");if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var F=Ct("recharts-rectangle",h);if(!A){var D=ti(e),{radius:O}=D,k=XP(D,OZ);return N.createElement("path",$m({},k,{x:Ja(o),y:Ja(l),width:Ja(u),height:Ja(f),radius:typeof d=="number"?d:void 0,className:F,d:QP(o,l,u,f,d)}))}var G=T.current,q=R.current,M=j.current,V=L.current,de="0px ".concat(r===-1?1:r,"px"),ye="".concat(r,"px 0px"),W=hZ(["strokeDasharray"],v,typeof m=="string"?m:ZP.animationEasing);return N.createElement(BL,{animationId:H,key:H,canBegin:r>0,duration:v,easing:m,isActive:A,begin:E},oe=>{var ve=no(G,u,oe),ce=no(q,f,oe),_e=no(M,o,oe),$=no(V,l,oe);n.current&&(T.current=ve,R.current=ce,j.current=_e,L.current=$);var te;S?oe>0?te={transition:W,strokeDasharray:ye}:te={strokeDasharray:de}:te={strokeDasharray:ye};var pe=ti(e),{radius:me}=pe,Ee=XP(pe,kZ);return N.createElement("path",$m({},Ee,{radius:typeof d=="number"?d:void 0,className:F,d:QP(_e,$,ve,ce,d),ref:n,style:JP(JP({},te),e.style)}))})};function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){BZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BZ(t,e,n){return(e=qZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=FZ(t,"string");return typeof e=="symbol"?e:e+""}function FZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Km=Math.PI/180,GZ=t=>t*180/Math.PI,Vn=(t,e,n,r)=>({x:t+Math.cos(-Km*r)*n,y:e+Math.sin(-Km*r)*n}),HZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},$Z=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},KZ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,l=$Z({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:l,angle:GZ(f),angleInRadian:f}},YZ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},WZ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return t+l*360},JZ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=KZ({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=YZ(e),h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?tR(tR({},e),{},{radius:i,angle:WZ(h,e)}):null};function FL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,l=Vn(e,n,r,i),u=Vn(e,n,r,o);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}var nR,rR,iR,oR,aR,sR,lR;function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(null,arguments)}function Qs(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var XZ=(t,e)=>{var n=Xr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Dp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,d=u*(l?1:-1)+r,h=Math.asin(u/d)/Km,m=f?i:i+o*h,v=Vn(e,n,d,m),E=Vn(e,n,r,m),S=f?i-o*h:i,A=Vn(e,n,d*Math.cos(h*Km),S);return{center:v,circleTangency:E,lineTangency:A,theta:h}},GL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=t,u=XZ(o,l),f=o+u,d=Vn(e,n,i,o),h=Vn(e,n,i,f),m=Dn(nR||(nR=Qs(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(u)>180),+(o>f),h.x,h.y);if(r>0){var v=Vn(e,n,r,o),E=Vn(e,n,r,f);m+=Dn(rR||(rR=Qs(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),E.x,E.y,r,r,+(Math.abs(u)>180),+(o<=f),v.x,v.y)}else m+=Dn(iR||(iR=Qs(["L ",","," Z"])),e,n);return m},QZ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=t,h=Xr(d-f),{circleTangency:m,lineTangency:v,theta:E}=Dp({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:A,theta:T}=Dp({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),R=u?Math.abs(f-d):Math.abs(f-d)-E-T;if(R<0)return l?Dn(oR||(oR=Qs(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,o,o,o*2,o,o,-o*2):GL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var j=Dn(aR||(aR=Qs(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,o,o,+(h<0),m.x,m.y,i,i,+(R>180),+(h<0),S.x,S.y,o,o,+(h<0),A.x,A.y);if(r>0){var{circleTangency:L,lineTangency:B,theta:H}=Dp({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:F,lineTangency:D,theta:O}=Dp({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),k=u?Math.abs(f-d):Math.abs(f-d)-H-O;if(k<0&&o===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+=Dn(sR||(sR=Qs(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,o,o,+(h<0),F.x,F.y,r,r,+(k>180),+(h>0),L.x,L.y,o,o,+(h<0),B.x,B.y)}else j+=Dn(lR||(lR=Qs(["L",",","Z"])),e,n);return j},ZZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eee=t=>{var e=kr(t,ZZ),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=e;if(o<i||d===h)return null;var v=Ct("recharts-sector",m),E=o-i,S=cs(l,E,0,!0),A;return S>0&&Math.abs(d-h)<360?A=QZ({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,E/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):A=GL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),N.createElement("path",Dx({},ti(e),{className:v,d:A}))};function tee(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(N4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=e,f=Vn(r,i,o,u),d=Vn(r,i,l,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return FL(e)}}var Jb={},Xb={},Qb={},uR;function nee(){return uR||(uR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Qb)),Qb}var cR;function ree(){return cR||(cR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nee();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Xb)),Xb}var fR;function iee(){return fR||(fR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=z4(),n=ree();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}t.range=r})(Jb)),Jb}var Zb,dR;function oee(){return dR||(dR=1,Zb=iee().range),Zb}var aee=oee();const HL=ea(aee);function ts(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function see(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dw(t){let e,n,r;t.length!==2?(e=ts,n=(u,f)=>ts(t(u),f),r=(u,f)=>t(u)-f):(e=t===ts||t===see?t:lee,n=t,r=t);function i(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:l,right:o}}function lee(){return 0}function $L(t){return t===null?NaN:+t}function*uee(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const cee=dw(ts),Cd=cee.right;dw($L).center;class hR extends Map{constructor(e,n=hee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(pR(this,e))}has(e){return super.has(pR(this,e))}set(e,n){return super.set(fee(this,e),n)}delete(e){return super.delete(dee(this,e))}}function pR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function fee({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dee({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function hee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pee(t=ts){if(t===ts)return KL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function KL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mee=Math.sqrt(50),gee=Math.sqrt(10),vee=Math.sqrt(2);function Ym(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=mee?10:o>=gee?5:o>=vee?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?Ym(t,e,n*2):[u,f,d]}function Ox(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?Ym(e,t,n):Ym(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(o-d)/-l;else for(let d=0;d<u;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function kx(t,e,n){return e=+e,t=+t,n=+n,Ym(t,e,n)[2]}function Lx(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?kx(e,t,n):kx(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function mR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function YL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?KL:pee(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),E=Math.max(n,Math.floor(e-d*m/f+v)),S=Math.min(r,Math.floor(e+(f-d)*m/f+v));YL(t,e,E,S,i)}const o=t[e];let l=n,u=r;for(Tf(t,n,e),i(t[r],o)>0&&Tf(t,n,r);l<u;){for(Tf(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?Tf(t,n,u):(++u,Tf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Tf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yee(t,e,n){if(t=Float64Array.from(uee(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return gR(t);if(e>=1)return mR(t);var r,i=(r-1)*e,o=Math.floor(i),l=mR(YL(t,o).subarray(0,o+1)),u=gR(t.subarray(o+1));return l+(u-l)*(i-o)}}function bee(t,e,n=$L){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function _ee(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ii(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Vx=Symbol("implicit");function hw(){var t=new hR,e=[],n=[],r=Vx;function i(o){let l=t.get(o);if(l===void 0){if(r!==Vx)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new hR;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return hw(e,n).unknown(r)},ii.apply(i,arguments),i}function pw(){var t=hw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,u=!1,f=0,d=0,h=.5;delete t.unknown;function m(){var v=e().length,E=i<r,S=E?i:r,A=E?r:i;o=(A-S)/Math.max(1,v-f+d*2),u&&(o=Math.floor(o)),S+=(A-S-o*(v-f))*h,l=o*(1-f),u&&(S=Math.round(S),l=Math.round(l));var T=_ee(v).map(function(R){return S+o*R});return n(E?T.reverse():T)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),m()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},t.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},t.copy=function(){return pw(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},ii.apply(m(),arguments)}function WL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return WL(e())},t}function xee(){return WL(pw.apply(null,arguments).paddingInner(1))}function mw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function JL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Id(){}var sd=.7,Wm=1/sd,Ou="\\s*([+-]?\\d+)\\s*",ld="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Eee=/^#([0-9a-f]{3,8})$/,wee=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),See=new RegExp(`^rgb\\(${lo},${lo},${lo}\\)$`),Tee=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${ld}\\)$`),Aee=new RegExp(`^rgba\\(${lo},${lo},${lo},${ld}\\)$`),Cee=new RegExp(`^hsl\\(${ld},${lo},${lo}\\)$`),Iee=new RegExp(`^hsla\\(${ld},${lo},${lo},${ld}\\)$`),vR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mw(Id,ud,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yR,formatHex:yR,formatHex8:Nee,formatHsl:Pee,formatRgb:bR,toString:bR});function yR(){return this.rgb().formatHex()}function Nee(){return this.rgb().formatHex8()}function Pee(){return XL(this).formatHsl()}function bR(){return this.rgb().formatRgb()}function ud(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Eee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_R(e):n===3?new gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Op(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Op(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wee.exec(t))?new gr(e[1],e[2],e[3],1):(e=See.exec(t))?new gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tee.exec(t))?Op(e[1],e[2],e[3],e[4]):(e=Aee.exec(t))?Op(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Cee.exec(t))?wR(e[1],e[2]/100,e[3]/100,1):(e=Iee.exec(t))?wR(e[1],e[2]/100,e[3]/100,e[4]):vR.hasOwnProperty(t)?_R(vR[t]):t==="transparent"?new gr(NaN,NaN,NaN,0):null}function _R(t){return new gr(t>>16&255,t>>8&255,t&255,1)}function Op(t,e,n,r){return r<=0&&(t=e=n=NaN),new gr(t,e,n,r)}function Ree(t){return t instanceof Id||(t=ud(t)),t?(t=t.rgb(),new gr(t.r,t.g,t.b,t.opacity)):new gr}function Ux(t,e,n,r){return arguments.length===1?Ree(t):new gr(t,e,n,r??1)}function gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mw(gr,Ux,JL(Id,{brighter(t){return t=t==null?Wm:Math.pow(Wm,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sd:Math.pow(sd,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gr(il(this.r),il(this.g),il(this.b),Jm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xR,formatHex:xR,formatHex8:Mee,formatRgb:ER,toString:ER}));function xR(){return`#${Zs(this.r)}${Zs(this.g)}${Zs(this.b)}`}function Mee(){return`#${Zs(this.r)}${Zs(this.g)}${Zs(this.b)}${Zs((isNaN(this.opacity)?1:this.opacity)*255)}`}function ER(){const t=Jm(this.opacity);return`${t===1?"rgb(":"rgba("}${il(this.r)}, ${il(this.g)}, ${il(this.b)}${t===1?")":`, ${t})`}`}function Jm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function il(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zs(t){return t=il(t),(t<16?"0":"")+t.toString(16)}function wR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bi(t,e,n,r)}function XL(t){if(t instanceof bi)return new bi(t.h,t.s,t.l,t.opacity);if(t instanceof Id||(t=ud(t)),!t)return new bi;if(t instanceof bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,u=o-i,f=(o+i)/2;return u?(e===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?o+i:2-o-i,l*=60):u=f>0&&f<1?0:l,new bi(l,u,f,t.opacity)}function Dee(t,e,n,r){return arguments.length===1?XL(t):new bi(t,e,n,r??1)}function bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mw(bi,Dee,JL(Id,{brighter(t){return t=t==null?Wm:Math.pow(Wm,t),new bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sd:Math.pow(sd,t),new bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gr(e_(t>=240?t-240:t+120,i,r),e_(t,i,r),e_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bi(SR(this.h),kp(this.s),kp(this.l),Jm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jm(this.opacity);return`${t===1?"hsl(":"hsla("}${SR(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SR(t){return t=(t||0)%360,t<0?t+360:t}function kp(t){return Math.max(0,Math.min(1,t||0))}function e_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gw=t=>()=>t;function Oee(t,e){return function(n){return t+n*e}}function kee(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lee(t){return(t=+t)==1?QL:function(e,n){return n-e?kee(e,n,t):gw(isNaN(e)?n:e)}}function QL(t,e){var n=e-t;return n?Oee(t,n):gw(isNaN(t)?e:t)}const TR=(function t(e){var n=Lee(e);function r(i,o){var l=n((i=Ux(i)).r,(o=Ux(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=QL(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function Vee(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Uee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jee(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=oc(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function zee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bee(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=oc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var jx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t_=new RegExp(jx.source,"g");function qee(t){return function(){return t}}function Fee(t){return function(e){return t(e)+""}}function Gee(t,e){var n=jx.lastIndex=t_.lastIndex=0,r,i,o,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=jx.exec(t))&&(i=t_.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Xm(r,i)})),n=t_.lastIndex;return n<e.length&&(o=e.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?f[0]?Fee(f[0].x):qee(e):(e=f.length,function(d){for(var h=0,m;h<e;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function oc(t,e){var n=typeof e,r;return e==null||n==="boolean"?gw(e):(n==="number"?Xm:n==="string"?(r=ud(e))?(e=r,TR):Gee:e instanceof ud?TR:e instanceof Date?zee:Uee(e)?Vee:Array.isArray(e)?jee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bee:Xm)(t,e)}function vw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Hee(t,e){e===void 0&&(e=t,t=oc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function $ee(t){return function(){return t}}function Qm(t){return+t}var AR=[0,1];function er(t){return t}function zx(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:$ee(isNaN(e)?NaN:.5)}function Kee(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Yee(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=zx(i,r),o=n(l,o)):(r=zx(r,i),o=n(o,l)),function(u){return o(r(u))}}function Wee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=zx(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(u){var f=Cd(t,u,1,r)-1;return o[f](i[f](u))}}function Nd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lv(){var t=AR,e=AR,n=oc,r,i,o,l=er,u,f,d;function h(){var v=Math.min(t.length,e.length);return l!==er&&(l=Kee(t[0],t[v-1])),u=v>2?Wee:Yee,f=d=null,m}function m(v){return v==null||isNaN(v=+v)?o:(f||(f=u(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((d||(d=u(e,t.map(r),Xm)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Qm),h()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=vw,h()},m.clamp=function(v){return arguments.length?(l=v?!0:er,h()):l!==er},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,E){return r=v,i=E,h()}}function yw(){return lv()(er,er)}function Jee(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gu(t){return t=Zm(Math.abs(t)),t?t[1]:NaN}function Xee(t,e){return function(n,r){for(var i=n.length,o=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function Qee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cd(t){if(!(e=Zee.exec(t)))throw new Error("invalid format: "+t);var e;return new bw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cd.prototype=bw.prototype;function bw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ete(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var eg;function tte(t,e){var n=Zm(t,e);if(!n)return eg=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(eg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Zm(t,Math.max(0,e+o-1))[0]}function CR(t,e){var n=Zm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const IR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Jee,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CR(t*100,e),r:CR,s:tte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NR(t){return t}var PR=Array.prototype.map,RR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nte(t){var e=t.grouping===void 0||t.thousands===void 0?NR:Xee(PR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?NR:Qee(PR.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m,v){m=cd(m);var E=m.fill,S=m.align,A=m.sign,T=m.symbol,R=m.zero,j=m.width,L=m.comma,B=m.precision,H=m.trim,F=m.type;F==="n"?(L=!0,F="g"):IR[F]||(B===void 0&&(B=12),H=!0,F="g"),(R||E==="0"&&S==="=")&&(R=!0,E="0",S="=");var D=(v&&v.prefix!==void 0?v.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():""),O=(T==="$"?r:/[%p]/.test(F)?l:"")+(v&&v.suffix!==void 0?v.suffix:""),k=IR[F],G=/[defgprs%]/.test(F);B=B===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function q(M){var V=D,de=O,ye,W,oe;if(F==="c")de=k(M)+de,M="";else{M=+M;var ve=M<0||1/M<0;if(M=isNaN(M)?f:k(Math.abs(M),B),H&&(M=ete(M)),ve&&+M==0&&A!=="+"&&(ve=!1),V=(ve?A==="("?A:u:A==="-"||A==="("?"":A)+V,de=(F==="s"&&!isNaN(M)&&eg!==void 0?RR[8+eg/3]:"")+de+(ve&&A==="("?")":""),G){for(ye=-1,W=M.length;++ye<W;)if(oe=M.charCodeAt(ye),48>oe||oe>57){de=(oe===46?i+M.slice(ye+1):M.slice(ye))+de,M=M.slice(0,ye);break}}}L&&!R&&(M=e(M,1/0));var ce=V.length+M.length+de.length,_e=ce<j?new Array(j-ce+1).join(E):"";switch(L&&R&&(M=e(_e+M,_e.length?j-de.length:1/0),_e=""),S){case"<":M=V+M+de+_e;break;case"=":M=V+_e+M+de;break;case"^":M=_e.slice(0,ce=_e.length>>1)+V+M+de+_e.slice(ce);break;default:M=_e+V+M+de;break}return o(M)}return q.toString=function(){return m+""},q}function h(m,v){var E=Math.max(-8,Math.min(8,Math.floor(Gu(v)/3)))*3,S=Math.pow(10,-E),A=d((m=cd(m),m.type="f",m),{suffix:RR[8+E/3]});return function(T){return A(S*T)}}return{format:d,formatPrefix:h}}var Lp,_w,ZL;rte({thousands:",",grouping:[3],currency:["$",""]});function rte(t){return Lp=nte(t),_w=Lp.format,ZL=Lp.formatPrefix,Lp}function ite(t){return Math.max(0,-Gu(Math.abs(t)))}function ote(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gu(e)/3)))*3-Gu(Math.abs(t)))}function ate(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gu(e)-Gu(t))+1}function eV(t,e,n,r){var i=Lx(t,e,n),o;switch(r=cd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=ote(i,l))&&(r.precision=o),ZL(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ate(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ite(i))&&(r.precision=o-(r.type==="%")*2);break}}return _w(r)}function ps(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ox(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return eV(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],u=r[o],f,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=kx(l,u,n),d===f)return r[i]=l,r[o]=u,e(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function tV(){var t=yw();return t.copy=function(){return Nd(t,tV())},ii.apply(t,arguments),ps(t)}function nV(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Qm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return nV(t).unknown(e)},t=arguments.length?Array.from(t,Qm):[0,1],ps(n)}function rV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function MR(t){return Math.log(t)}function DR(t){return Math.exp(t)}function ste(t){return-Math.log(-t)}function lte(t){return-Math.exp(-t)}function ute(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cte(t){return t===10?ute:t===Math.E?Math.exp:e=>Math.pow(t,e)}function fte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function OR(t){return(e,n)=>-t(-e,n)}function xw(t){const e=t(MR,DR),n=e.domain;let r=10,i,o;function l(){return i=fte(r),o=cte(r),n()[0]<0?(i=OR(i),o=OR(o),t(ste,lte)):t(MR,DR),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let v=i(d),E=i(h),S,A;const T=u==null?10:+u;let R=[];if(!(r%1)&&E-v<T){if(v=Math.floor(v),E=Math.ceil(E),d>0){for(;v<=E;++v)for(S=1;S<r;++S)if(A=v<0?S/o(-v):S*o(v),!(A<d)){if(A>h)break;R.push(A)}}else for(;v<=E;++v)for(S=r-1;S>=1;--S)if(A=v>0?S/o(-v):S*o(v),!(A<d)){if(A>h)break;R.push(A)}R.length*2<T&&(R=Ox(d,h,T))}else R=Ox(v,E,Math.min(E-v,T)).map(o);return m?R.reverse():R},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=cd(f)).precision==null&&(f.trim=!0),f=_w(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},e.nice=()=>n(rV(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function iV(){const t=xw(lv()).domain([1,10]);return t.copy=()=>Nd(t,iV()).base(t.base()),ii.apply(t,arguments),t}function kR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function LR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ew(t){var e=1,n=t(kR(e),LR(e));return n.constant=function(r){return arguments.length?t(kR(e=+r),LR(e)):e},ps(n)}function oV(){var t=Ew(lv());return t.copy=function(){return Nd(t,oV()).constant(t.constant())},ii.apply(t,arguments)}function VR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hte(t){return t<0?-t*t:t*t}function ww(t){var e=t(er,er),n=1;function r(){return n===1?t(er,er):n===.5?t(dte,hte):t(VR(n),VR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ps(e)}function Sw(){var t=ww(lv());return t.copy=function(){return Nd(t,Sw()).exponent(t.exponent())},ii.apply(t,arguments),t}function pte(){return Sw.apply(null,arguments).exponent(.5)}function UR(t){return Math.sign(t)*t*t}function mte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function aV(){var t=yw(),e=[0,1],n=!1,r;function i(o){var l=mte(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(UR(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Qm)).map(UR)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return aV(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ii.apply(i,arguments),ps(i)}function sV(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=bee(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:e[Cd(n,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ts),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return sV().domain(t).range(e).unknown(r)},ii.apply(o,arguments)}function lV(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[Cd(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return lV().domain([t,e]).range(i).unknown(o)},ii.apply(ps(l),arguments)}function uV(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Cd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return uV().domain(t).range(e).unknown(n)},ii.apply(i,arguments)}const n_=new Date,r_=new Date;function dn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return f;let d;do f.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<l);return f},i.filter=o=>dn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(n_.setTime(+o),r_.setTime(+l),t(n_),t(r_),Math.floor(n(n_,r_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const tg=dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);tg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):tg);tg.range;const Uo=1e3,Qr=Uo*60,jo=Qr*60,Wo=jo*24,Tw=Wo*7,jR=Wo*30,i_=Wo*365,el=dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Uo)},(t,e)=>(e-t)/Uo,t=>t.getUTCSeconds());el.range;const Aw=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo)},(t,e)=>{t.setTime(+t+e*Qr)},(t,e)=>(e-t)/Qr,t=>t.getMinutes());Aw.range;const Cw=dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Qr)},(t,e)=>(e-t)/Qr,t=>t.getUTCMinutes());Cw.range;const Iw=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uo-t.getMinutes()*Qr)},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getHours());Iw.range;const Nw=dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getUTCHours());Nw.range;const Pd=dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/Wo,t=>t.getDate()-1);Pd.range;const uv=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wo,t=>t.getUTCDate()-1);uv.range;const cV=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Wo,t=>Math.floor(t/Wo));cV.range;function xl(t){return dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/Tw)}const cv=xl(0),ng=xl(1),gte=xl(2),vte=xl(3),Hu=xl(4),yte=xl(5),bte=xl(6);cv.range;ng.range;gte.range;vte.range;Hu.range;yte.range;bte.range;function El(t){return dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Tw)}const fv=El(0),rg=El(1),_te=El(2),xte=El(3),$u=El(4),Ete=El(5),wte=El(6);fv.range;rg.range;_te.range;xte.range;$u.range;Ete.range;wte.range;const Pw=dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Pw.range;const Rw=dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Rw.range;const Jo=dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jo.range;const Xo=dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Xo.range;function fV(t,e,n,r,i,o){const l=[[el,1,Uo],[el,5,5*Uo],[el,15,15*Uo],[el,30,30*Uo],[o,1,Qr],[o,5,5*Qr],[o,15,15*Qr],[o,30,30*Qr],[i,1,jo],[i,3,3*jo],[i,6,6*jo],[i,12,12*jo],[r,1,Wo],[r,2,2*Wo],[n,1,Tw],[e,1,jR],[e,3,3*jR],[t,1,i_]];function u(d,h,m){const v=h<d;v&&([d,h]=[h,d]);const E=m&&typeof m.range=="function"?m:f(d,h,m),S=E?E.range(d,+h+1):[];return v?S.reverse():S}function f(d,h,m){const v=Math.abs(h-d)/m,E=dw(([,,T])=>T).right(l,v);if(E===l.length)return t.every(Lx(d/i_,h/i_,m));if(E===0)return tg.every(Math.max(Lx(d,h,m),1));const[S,A]=l[v/l[E-1][2]<l[E][2]/v?E-1:E];return S.every(A)}return[u,f]}const[Ste,Tte]=fV(Xo,Rw,fv,cV,Nw,Cw),[Ate,Cte]=fV(Jo,Pw,cv,Pd,Iw,Aw);function o_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function a_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Af(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ite(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,d=Cf(i),h=If(i),m=Cf(o),v=If(o),E=Cf(l),S=If(l),A=Cf(u),T=If(u),R=Cf(f),j=If(f),L={a:oe,A:ve,b:ce,B:_e,c:null,d:HR,e:HR,f:Xte,g:sne,G:une,H:Yte,I:Wte,j:Jte,L:dV,m:Qte,M:Zte,p:$,q:te,Q:YR,s:WR,S:ene,u:tne,U:nne,V:rne,w:ine,W:one,x:null,X:null,y:ane,Y:lne,Z:cne,"%":KR},B={a:pe,A:me,b:Ee,B:Me,c:null,d:$R,e:$R,f:pne,g:Sne,G:Ane,H:fne,I:dne,j:hne,L:pV,m:mne,M:gne,p:Ae,q:bt,Q:YR,s:WR,S:vne,u:yne,U:bne,V:_ne,w:xne,W:Ene,x:null,X:null,y:wne,Y:Tne,Z:Cne,"%":KR},H={a:G,A:q,b:M,B:V,c:de,d:FR,e:FR,f:Gte,g:qR,G:BR,H:GR,I:GR,j:zte,L:Fte,m:jte,M:Bte,p:k,q:Ute,Q:$te,s:Kte,S:qte,u:Dte,U:Ote,V:kte,w:Mte,W:Lte,x:ye,X:W,y:qR,Y:BR,Z:Vte,"%":Hte};L.x=F(n,L),L.X=F(r,L),L.c=F(e,L),B.x=F(n,B),B.X=F(r,B),B.c=F(e,B);function F(ae,Ve){return function(Ge){var ge=[],jt=-1,$e=0,sn=ae.length,zt,_r,fa;for(Ge instanceof Date||(Ge=new Date(+Ge));++jt<sn;)ae.charCodeAt(jt)===37&&(ge.push(ae.slice($e,jt)),(_r=zR[zt=ae.charAt(++jt)])!=null?zt=ae.charAt(++jt):_r=zt==="e"?" ":"0",(fa=Ve[zt])&&(zt=fa(Ge,_r)),ge.push(zt),$e=jt+1);return ge.push(ae.slice($e,jt)),ge.join("")}}function D(ae,Ve){return function(Ge){var ge=Af(1900,void 0,1),jt=O(ge,ae,Ge+="",0),$e,sn;if(jt!=Ge.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Ve&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?($e=a_(Af(ge.y,0,1)),sn=$e.getUTCDay(),$e=sn>4||sn===0?rg.ceil($e):rg($e),$e=uv.offset($e,(ge.V-1)*7),ge.y=$e.getUTCFullYear(),ge.m=$e.getUTCMonth(),ge.d=$e.getUTCDate()+(ge.w+6)%7):($e=o_(Af(ge.y,0,1)),sn=$e.getDay(),$e=sn>4||sn===0?ng.ceil($e):ng($e),$e=Pd.offset($e,(ge.V-1)*7),ge.y=$e.getFullYear(),ge.m=$e.getMonth(),ge.d=$e.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),sn="Z"in ge?a_(Af(ge.y,0,1)).getUTCDay():o_(Af(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(sn+5)%7:ge.w+ge.U*7-(sn+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,a_(ge)):o_(ge)}}function O(ae,Ve,Ge,ge){for(var jt=0,$e=Ve.length,sn=Ge.length,zt,_r;jt<$e;){if(ge>=sn)return-1;if(zt=Ve.charCodeAt(jt++),zt===37){if(zt=Ve.charAt(jt++),_r=H[zt in zR?Ve.charAt(jt++):zt],!_r||(ge=_r(ae,Ge,ge))<0)return-1}else if(zt!=Ge.charCodeAt(ge++))return-1}return ge}function k(ae,Ve,Ge){var ge=d.exec(Ve.slice(Ge));return ge?(ae.p=h.get(ge[0].toLowerCase()),Ge+ge[0].length):-1}function G(ae,Ve,Ge){var ge=E.exec(Ve.slice(Ge));return ge?(ae.w=S.get(ge[0].toLowerCase()),Ge+ge[0].length):-1}function q(ae,Ve,Ge){var ge=m.exec(Ve.slice(Ge));return ge?(ae.w=v.get(ge[0].toLowerCase()),Ge+ge[0].length):-1}function M(ae,Ve,Ge){var ge=R.exec(Ve.slice(Ge));return ge?(ae.m=j.get(ge[0].toLowerCase()),Ge+ge[0].length):-1}function V(ae,Ve,Ge){var ge=A.exec(Ve.slice(Ge));return ge?(ae.m=T.get(ge[0].toLowerCase()),Ge+ge[0].length):-1}function de(ae,Ve,Ge){return O(ae,e,Ve,Ge)}function ye(ae,Ve,Ge){return O(ae,n,Ve,Ge)}function W(ae,Ve,Ge){return O(ae,r,Ve,Ge)}function oe(ae){return l[ae.getDay()]}function ve(ae){return o[ae.getDay()]}function ce(ae){return f[ae.getMonth()]}function _e(ae){return u[ae.getMonth()]}function $(ae){return i[+(ae.getHours()>=12)]}function te(ae){return 1+~~(ae.getMonth()/3)}function pe(ae){return l[ae.getUTCDay()]}function me(ae){return o[ae.getUTCDay()]}function Ee(ae){return f[ae.getUTCMonth()]}function Me(ae){return u[ae.getUTCMonth()]}function Ae(ae){return i[+(ae.getUTCHours()>=12)]}function bt(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ve=F(ae+="",L);return Ve.toString=function(){return ae},Ve},parse:function(ae){var Ve=D(ae+="",!1);return Ve.toString=function(){return ae},Ve},utcFormat:function(ae){var Ve=F(ae+="",B);return Ve.toString=function(){return ae},Ve},utcParse:function(ae){var Ve=D(ae+="",!0);return Ve.toString=function(){return ae},Ve}}}var zR={"-":"",_:" ",0:"0"},wn=/^\s*\d+/,Nte=/^%/,Pte=/[\\^$*+?|[\]().{}]/g;function at(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Rte(t){return t.replace(Pte,"\\$&")}function Cf(t){return new RegExp("^(?:"+t.map(Rte).join("|")+")","i")}function If(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Mte(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dte(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ote(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kte(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lte(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function BR(t,e,n){var r=wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qR(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vte(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ute(t,e,n){var r=wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jte(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function FR(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zte(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function GR(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Bte(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qte(t,e,n){var r=wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fte(t,e,n){var r=wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Gte(t,e,n){var r=wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hte(t,e,n){var r=Nte.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $te(t,e,n){var r=wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Kte(t,e,n){var r=wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HR(t,e){return at(t.getDate(),e,2)}function Yte(t,e){return at(t.getHours(),e,2)}function Wte(t,e){return at(t.getHours()%12||12,e,2)}function Jte(t,e){return at(1+Pd.count(Jo(t),t),e,3)}function dV(t,e){return at(t.getMilliseconds(),e,3)}function Xte(t,e){return dV(t,e)+"000"}function Qte(t,e){return at(t.getMonth()+1,e,2)}function Zte(t,e){return at(t.getMinutes(),e,2)}function ene(t,e){return at(t.getSeconds(),e,2)}function tne(t){var e=t.getDay();return e===0?7:e}function nne(t,e){return at(cv.count(Jo(t)-1,t),e,2)}function hV(t){var e=t.getDay();return e>=4||e===0?Hu(t):Hu.ceil(t)}function rne(t,e){return t=hV(t),at(Hu.count(Jo(t),t)+(Jo(t).getDay()===4),e,2)}function ine(t){return t.getDay()}function one(t,e){return at(ng.count(Jo(t)-1,t),e,2)}function ane(t,e){return at(t.getFullYear()%100,e,2)}function sne(t,e){return t=hV(t),at(t.getFullYear()%100,e,2)}function lne(t,e){return at(t.getFullYear()%1e4,e,4)}function une(t,e){var n=t.getDay();return t=n>=4||n===0?Hu(t):Hu.ceil(t),at(t.getFullYear()%1e4,e,4)}function cne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function $R(t,e){return at(t.getUTCDate(),e,2)}function fne(t,e){return at(t.getUTCHours(),e,2)}function dne(t,e){return at(t.getUTCHours()%12||12,e,2)}function hne(t,e){return at(1+uv.count(Xo(t),t),e,3)}function pV(t,e){return at(t.getUTCMilliseconds(),e,3)}function pne(t,e){return pV(t,e)+"000"}function mne(t,e){return at(t.getUTCMonth()+1,e,2)}function gne(t,e){return at(t.getUTCMinutes(),e,2)}function vne(t,e){return at(t.getUTCSeconds(),e,2)}function yne(t){var e=t.getUTCDay();return e===0?7:e}function bne(t,e){return at(fv.count(Xo(t)-1,t),e,2)}function mV(t){var e=t.getUTCDay();return e>=4||e===0?$u(t):$u.ceil(t)}function _ne(t,e){return t=mV(t),at($u.count(Xo(t),t)+(Xo(t).getUTCDay()===4),e,2)}function xne(t){return t.getUTCDay()}function Ene(t,e){return at(rg.count(Xo(t)-1,t),e,2)}function wne(t,e){return at(t.getUTCFullYear()%100,e,2)}function Sne(t,e){return t=mV(t),at(t.getUTCFullYear()%100,e,2)}function Tne(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function Ane(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$u(t):$u.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function Cne(){return"+0000"}function KR(){return"%"}function YR(t){return+t}function WR(t){return Math.floor(+t/1e3)}var hu,gV,vV;Ine({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ine(t){return hu=Ite(t),gV=hu.format,hu.parse,vV=hu.utcFormat,hu.utcParse,hu}function Nne(t){return new Date(t)}function Pne(t){return t instanceof Date?+t:+new Date(+t)}function Mw(t,e,n,r,i,o,l,u,f,d){var h=yw(),m=h.invert,v=h.domain,E=d(".%L"),S=d(":%S"),A=d("%I:%M"),T=d("%I %p"),R=d("%a %d"),j=d("%b %d"),L=d("%B"),B=d("%Y");function H(F){return(f(F)<F?E:u(F)<F?S:l(F)<F?A:o(F)<F?T:r(F)<F?i(F)<F?R:j:n(F)<F?L:B)(F)}return h.invert=function(F){return new Date(m(F))},h.domain=function(F){return arguments.length?v(Array.from(F,Pne)):v().map(Nne)},h.ticks=function(F){var D=v();return t(D[0],D[D.length-1],F??10)},h.tickFormat=function(F,D){return D==null?H:d(D)},h.nice=function(F){var D=v();return(!F||typeof F.range!="function")&&(F=e(D[0],D[D.length-1],F??10)),F?v(rV(D,F)):h},h.copy=function(){return Nd(h,Mw(t,e,n,r,i,o,l,u,f,d))},h}function Rne(){return ii.apply(Mw(Ate,Cte,Jo,Pw,cv,Pd,Iw,Aw,el,gV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mne(){return ii.apply(Mw(Ste,Tte,Xo,Rw,fv,uv,Nw,Cw,el,vV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dv(){var t=0,e=1,n,r,i,o,l=er,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(v){var E,S;return arguments.length?([E,S]=v,l=m(E,S),d):[l(0),l(1)]}}return d.range=h(oc),d.rangeRound=h(vw),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function ms(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yV(){var t=ps(dv()(er));return t.copy=function(){return ms(t,yV())},oa.apply(t,arguments)}function bV(){var t=xw(dv()).domain([1,10]);return t.copy=function(){return ms(t,bV()).base(t.base())},oa.apply(t,arguments)}function _V(){var t=Ew(dv());return t.copy=function(){return ms(t,_V()).constant(t.constant())},oa.apply(t,arguments)}function Dw(){var t=ww(dv());return t.copy=function(){return ms(t,Dw()).exponent(t.exponent())},oa.apply(t,arguments)}function Dne(){return Dw.apply(null,arguments).exponent(.5)}function xV(){var t=[],e=er;function n(r){if(r!=null&&!isNaN(r=+r))return e((Cd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ts),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>yee(t,o/r))},n.copy=function(){return xV(e).domain(t)},oa.apply(n,arguments)}function hv(){var t=0,e=.5,n=1,r=1,i,o,l,u,f,d=er,h,m=!1,v;function E(A){return isNaN(A=+A)?v:(A=.5+((A=+h(A))-o)*(r*A<r*o?u:f),d(m?Math.max(0,Math.min(1,A)):A))}E.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),o=h(e=+e),l=h(n=+n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(A){return arguments.length?(m=!!A,E):m},E.interpolator=function(A){return arguments.length?(d=A,E):d};function S(A){return function(T){var R,j,L;return arguments.length?([R,j,L]=T,d=Hee(A,[R,j,L]),E):[d(0),d(.5),d(1)]}}return E.range=S(oc),E.rangeRound=S(vw),E.unknown=function(A){return arguments.length?(v=A,E):v},function(A){return h=A,i=A(t),o=A(e),l=A(n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,E}}function EV(){var t=ps(hv()(er));return t.copy=function(){return ms(t,EV())},oa.apply(t,arguments)}function wV(){var t=xw(hv()).domain([.1,1,10]);return t.copy=function(){return ms(t,wV()).base(t.base())},oa.apply(t,arguments)}function SV(){var t=Ew(hv());return t.copy=function(){return ms(t,SV()).constant(t.constant())},oa.apply(t,arguments)}function Ow(){var t=ww(hv());return t.copy=function(){return ms(t,Ow()).exponent(t.exponent())},oa.apply(t,arguments)}function One(){return Ow.apply(null,arguments).exponent(.5)}const kf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pw,scaleDiverging:EV,scaleDivergingLog:wV,scaleDivergingPow:Ow,scaleDivergingSqrt:One,scaleDivergingSymlog:SV,scaleIdentity:nV,scaleImplicit:Vx,scaleLinear:tV,scaleLog:iV,scaleOrdinal:hw,scalePoint:xee,scalePow:Sw,scaleQuantile:sV,scaleQuantize:lV,scaleRadial:aV,scaleSequential:yV,scaleSequentialLog:bV,scaleSequentialPow:Dw,scaleSequentialQuantile:xV,scaleSequentialSqrt:Dne,scaleSequentialSymlog:_V,scaleSqrt:pte,scaleSymlog:oV,scaleThreshold:uV,scaleTime:Rne,scaleUtc:Mne,tickFormat:eV},Symbol.toStringTag,{value:"Module"}));var aa=t=>t.chartData,TV=ie([aa],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),AV=(t,e,n,r)=>r?TV(t):aa(t),kne=(t,e,n)=>n?TV(t):aa(t);function Qo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ze(e)&&Ze(n))return!0}return!1}function JR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function CV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Ze(n))i=n;else if(typeof n=="function")return;if(Ze(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(Qo(l))return l}}function Lne(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Qo(r))return JR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ne(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&lP.test(i)){var f=lP.exec(i);if(f==null||f[1]==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Ne(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&uP.test(o)){var h=uP.exec(o);if(h==null||h[1]==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var v=[l,u];if(Qo(v))return e==null?v:JR(v,e,n)}}}var ac=1e9,Vne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lw,Mt=!0,ri="[DecimalError] ",ol=ri+"Invalid argument: ",kw=ri+"Exponent out of range: ",sc=Math.floor,Js=Math.pow,Une=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pr,_n=1e7,Tt=7,IV=9007199254740991,ig=sc(IV/Tt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Tt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return qo(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return xt(qo(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return an(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pr))throw Error(ri+"NaN");if(n.s<1)throw Error(ri+(n.s?"NaN":"-Infinity"));return n.eq(Pr)?new r(0):(Mt=!1,e=qo(fd(n,o),fd(t,o),o),Mt=!0,xt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RV(e,t):NV(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ri+"NaN");return n.s?(Mt=!1,e=qo(n,t,0,1).times(t),Mt=!0,n.minus(e)):xt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return PV(this)};Te.naturalLogarithm=Te.ln=function(){return fd(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NV(e,t):RV(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ol+t);if(e=an(i)+1,r=i.d.length-1,n=r*Tt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,o,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ri+"NaN")}for(t=an(u),Mt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=io(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(qo(u,o,l+2)).times(.5),io(o.d).slice(0,l)===(e=io(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(xt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;l+=4}return Mt=!0,xt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,o,l,u,f,d,h=this,m=h.constructor,v=h.d,E=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,f=v.length,d=E.length,f<d&&(o=v,v=E,E=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+E[r]*v[i-r-1]+e,o[i--]=u%_n|0,e=u/_n|0;o[i]=(o[i]+e)%_n|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Mt?xt(t,m.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(mo(t,0,ac),e===void 0?e=r.rounding:mo(e,0,8),xt(n,t+an(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=pl(r,!0):(mo(t,0,ac),e===void 0?e=i.rounding:mo(e,0,8),r=xt(new i(r),t+1,e),n=pl(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?pl(i):(mo(t,0,ac),e===void 0?e=o.rounding:mo(e,0,8),r=xt(new o(i),t+an(i)+1,e),n=pl(r.abs(),!1,t+an(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return xt(new e(t),an(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,o,l,u=this,f=u.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(Pr);if(u=new f(u),!u.s){if(t.s<1)throw Error(ri+"Infinity");return u}if(u.eq(Pr))return u;if(r=f.precision,t.eq(Pr))return xt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=u.s,l){if((n=h<0?-h:h)<=IV){for(i=new f(Pr),e=Math.ceil(r/Tt+4),Mt=!1;n%2&&(i=i.times(u),QR(i.d,e)),n=sc(n/2),n!==0;)u=u.times(u),QR(u.d,e);return Mt=!0,t.s<0?new f(Pr).div(i):xt(i,r)}}else if(o<0)throw Error(ri+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Mt=!1,i=t.times(fd(u,r+d)),Mt=!0,i=PV(i),i.s=o,i};Te.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=an(i),r=pl(i,n<=o.toExpNeg||n>=o.toExpPos)):(mo(t,1,ac),e===void 0?e=o.rounding:mo(e,0,8),i=xt(new o(i),t,e),n=an(i),r=pl(i,t<=n||n<=o.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(mo(t,1,ac),e===void 0?e=r.rounding:mo(e,0,8)),xt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),n=t.constructor;return pl(t,e<=n.toExpNeg||e>=n.toExpPos)};function NV(t,e){var n,r,i,o,l,u,f,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Mt?xt(e,m):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(m/Tt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/_n|0,f[o]%=_n;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Mt?xt(e,m):e}function mo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ol+t)}function io(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=Tt-r.length,n&&(o+=$a(n)),o+=r;l=t[e],r=l+"",n=Tt-r.length,n&&(o+=$a(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var qo=(function(){function t(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%_n|0,l=o/_n|0;return l&&r.unshift(l),r}function e(r,i,o,l){var u,f;if(o!=l)f=o>l?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*_n+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,f,d,h,m,v,E,S,A,T,R,j,L,B,H,F,D,O,k=r.constructor,G=r.s==i.s?1:-1,q=r.d,M=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(ri+"Division by zero");for(f=r.e-i.e,D=M.length,H=q.length,E=new k(G),S=E.d=[],d=0;M[d]==(q[d]||0);)++d;if(M[d]>(q[d]||0)&&--f,o==null?j=o=k.precision:l?j=o+(an(r)-an(i))+1:j=o,j<0)return new k(0);if(j=j/Tt+2|0,d=0,D==1)for(h=0,M=M[0],j++;(d<H||h)&&j--;d++)L=h*_n+(q[d]||0),S[d]=L/M|0,h=L%M|0;else{for(h=_n/(M[0]+1)|0,h>1&&(M=t(M,h),q=t(q,h),D=M.length,H=q.length),B=D,A=q.slice(0,D),T=A.length;T<D;)A[T++]=0;O=M.slice(),O.unshift(0),F=M[0],M[1]>=_n/2&&++F;do h=0,u=e(M,A,D,T),u<0?(R=A[0],D!=T&&(R=R*_n+(A[1]||0)),h=R/F|0,h>1?(h>=_n&&(h=_n-1),m=t(M,h),v=m.length,T=A.length,u=e(m,A,v,T),u==1&&(h--,n(m,D<v?O:M,v))):(h==0&&(u=h=1),m=M.slice()),v=m.length,v<T&&m.unshift(0),n(A,m,T),u==-1&&(T=A.length,u=e(M,A,D,T),u<1&&(h++,n(A,D<T?O:M,T))),T=A.length):u===0&&(h++,A=[0]),S[d++]=h,u&&A[0]?A[T++]=q[B]||0:(A=[q[B]],T=1);while((B++<H||A[0]!==void 0)&&j--)}return S[0]||S.shift(),E.e=f,xt(E,l?o+an(E)+1:o)}})();function PV(t,e){var n,r,i,o,l,u,f=0,d=0,h=t.constructor,m=h.precision;if(an(t)>16)throw Error(kw+an(t));if(!t.s)return new h(Pr);for(Mt=!1,u=m,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Js(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Pr),h.precision=u;;){if(i=xt(i.times(t),u),n=n.times(++f),l=o.plus(qo(i,n,u)),io(l.d).slice(0,u)===io(o.d).slice(0,u)){for(;d--;)o=xt(o.times(o),u);return h.precision=m,e==null?(Mt=!0,xt(o,m)):o}o=l}}function an(t){for(var e=t.e*Tt,n=t.d[0];n>=10;n/=10)e++;return e}function s_(t,e,n){if(e>t.LN10.sd())throw Mt=!0,n&&(t.precision=n),Error(ri+"LN10 precision limit exceeded");return xt(new t(t.LN10),e)}function $a(t){for(var e="";t--;)e+="0";return e}function fd(t,e){var n,r,i,o,l,u,f,d,h,m=1,v=10,E=t,S=E.d,A=E.constructor,T=A.precision;if(E.s<1)throw Error(ri+(E.s?"NaN":"-Infinity"));if(E.eq(Pr))return new A(0);if(e==null?(Mt=!1,d=T):d=e,E.eq(10))return e==null&&(Mt=!0),s_(A,d);if(d+=v,A.precision=d,n=io(S),r=n.charAt(0),o=an(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=io(E.d),r=n.charAt(0),m++;o=an(E),r>1?(E=new A("0."+n),o++):E=new A(r+"."+n.slice(1))}else return f=s_(A,d+2,T).times(o+""),E=fd(new A(r+"."+n.slice(1)),d-v).plus(f),A.precision=T,e==null?(Mt=!0,xt(E,T)):E;for(u=l=E=qo(E.minus(Pr),E.plus(Pr),d),h=xt(E.times(E),d),i=3;;){if(l=xt(l.times(h),d),f=u.plus(qo(l,new A(i),d)),io(f.d).slice(0,d)===io(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(s_(A,d+2,T).times(o+""))),u=qo(u,new A(m),d),A.precision=T,e==null?(Mt=!0,xt(u,T)):u;u=f,i+=2}}function XR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=sc(n/Tt),t.d=[],r=(n+1)%Tt,n<0&&(r+=Tt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Tt;r<i;)t.d.push(+e.slice(r,r+=Tt));e=e.slice(r),r=Tt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Mt&&(t.e>ig||t.e<-ig))throw Error(kw+n)}else t.s=0,t.e=0,t.d=[0];return t}function xt(t,e,n){var r,i,o,l,u,f,d,h,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=Tt,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/Tt),o=m.length,h>=o)return t;for(d=o=m[h],l=1;o>=10;o/=10)l++;r%=Tt,i=r-Tt+l}if(n!==void 0&&(o=Js(10,l-i-1),u=d/o%10|0,f=e<0||m[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/Js(10,l-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=an(t),m.length=1,e=e-o-1,m[0]=Js(10,(Tt-e%Tt)%Tt),t.e=sc(-e/Tt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Js(10,Tt-r),m[h]=i>0?(d/Js(10,l-i)%Js(10,i)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==_n&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=_n)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Mt&&(t.e>ig||t.e<-ig))throw Error(kw+an(t));return t}function RV(t,e){var n,r,i,o,l,u,f,d,h,m,v=t.constructor,E=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Mt?xt(e,E):e;if(f=t.d,m=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(E/Tt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}l=0}for(h&&(n=f,f=m,m=n,e.s=-e.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=_n-1;--f[o],f[i]+=_n}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Mt?xt(e,E):e):new v(0)}function pl(t,e,n){var r,i=an(t),o=io(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+$a(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+$a(-i-1)+o,n&&(r=n-l)>0&&(o+=$a(r))):i>=l?(o+=$a(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+$a(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=$a(r))),t.s<0?"-"+o:o}function QR(t,e){if(t.length>e)return t.length=e,!0}function MV(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ol+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return XR(l,o.toString())}else if(typeof o!="string")throw Error(ol+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,Une.test(o))XR(l,o);else throw Error(ol+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=MV,i.config=i.set=jne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jne(t){if(!t||typeof t!="object")throw Error(ri+"Object expected");var e,n,r,i=["precision",1,ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(sc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ol+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ol+n+": "+r);return this}var Lw=MV(Vne);Pr=new Lw(1);const pt=Lw;function DV(t){var e;return t===0?e=1:e=Math.floor(new pt(t).abs().log(10).toNumber())+1,e}function OV(t,e,n){for(var r=new pt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var kV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},LV=(t,e,n)=>{if(t.lte(0))return new pt(0);var r=DV(t.toNumber()),i=new pt(10).pow(r),o=t.div(i),l=r!==1?.05:.1,u=new pt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new pt(f.toNumber()):new pt(Math.ceil(f.toNumber()))},zne=(t,e,n)=>{var r=new pt(1),i=new pt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new pt(10).pow(DV(t)-1),i=new pt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new pt(Math.floor(t)))}else t===0?i=new pt(Math.floor((e-1)/2)):n||(i=new pt(Math.floor(t)));for(var l=Math.floor((e-1)/2),u=[],f=0;f<e;f++)u.push(i.add(new pt(f-l).mul(r)).toNumber());return u},VV=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var l=LV(new pt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new pt(0):(u=new pt(e).add(n).div(2),u=u.sub(new pt(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),d=Math.ceil(new pt(n).sub(u).div(l).toNumber()),h=f+d+1;return h>r?VV(e,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:u.sub(new pt(f).mul(l)),tickMax:u.add(new pt(d).mul(l))})},Bne=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=kV([n,r]);if(u===-1/0||f===1/0){var d=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?d.reverse():d}if(u===f)return zne(u,i,o);var{step:h,tickMin:m,tickMax:v}=VV(u,f,l,o,0),E=OV(m,v.add(new pt(.1).mul(h)),h);return n>r?E.reverse():E},qne=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=kV([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),d=LV(new pt(u).sub(l).div(f-1),o,0),h=[...OV(new pt(l),new pt(u),d),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?h.reverse():h},Fne=t=>t.rootProps.barCategoryGap,pv=t=>t.rootProps.stackOffset,UV=t=>t.rootProps.reverseStackOrder,Vw=t=>t.options.chartName,Uw=t=>t.rootProps.syncId,jV=t=>t.rootProps.syncMethod,jw=t=>t.options.eventEmitter,Gne=t=>t.rootProps.baseValue,tr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Hs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Zi={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},mv=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function gv(t,e,n){if(n!=="auto")return n;if(t!=null)return go(t,e)?"category":"number"}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function og(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=Kne(t,"string");return typeof e=="symbol"?e:e+""}function Kne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eM={allowDataOverflow:Hs.allowDataOverflow,allowDecimals:Hs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hs.angleAxisId,includeHidden:!1,name:void 0,reversed:Hs.reversed,scale:Hs.scale,tick:Hs.tick,tickCount:void 0,ticks:void 0,type:Hs.type,unit:void 0},tM={allowDataOverflow:Zi.allowDataOverflow,allowDecimals:Zi.allowDecimals,allowDuplicatedCategory:Zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zi.radiusAxisId,includeHidden:Zi.includeHidden,name:void 0,reversed:Zi.reversed,scale:Zi.scale,tick:Zi.tick,tickCount:Zi.tickCount,ticks:void 0,type:Zi.type,unit:void 0},Yne=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},zw=ie([Yne,NL],(t,e)=>{var n;if(t!=null)return t;var r=(n=gv(e,"angleAxis",eM.type))!==null&&n!==void 0?n:"category";return og(og({},eM),{},{type:r})}),Wne=(t,e)=>t.polarAxis.radiusAxis[e],Bw=ie([Wne,NL],(t,e)=>{var n;if(t!=null)return t;var r=(n=gv(e,"radiusAxis",tM.type))!==null&&n!==void 0?n:"category";return og(og({},tM),{},{type:r})}),vv=t=>t.polarOptions,qw=ie([ra,ia,Bn],HZ),zV=ie([vv,qw],(t,e)=>{if(t!=null)return cs(t.innerRadius,e,0)}),BV=ie([vv,qw],(t,e)=>{if(t!=null)return cs(t.outerRadius,e,e*.8)}),Jne=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},qV=ie([vv],Jne);ie([zw,qV],mv);var FV=ie([qw,zV,BV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ie([Bw,FV],mv);var GV=ie([Dt,vv,zV,BV,ra,ia],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=e;return{cx:cs(l,i,i/2),cy:cs(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),Sn=(t,e)=>e,yv=(t,e,n)=>n;function Fw(t){return t==null?void 0:t.id}function HV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=Fw(u);d.forEach((m,v)=>{var E=o==null||i?v:String(Un(m,o,null)),S=Un(m,u.dataKey,0),A;l.has(E)?A=l.get(E):A={},Object.assign(A,{[h]:S}),l.set(E,A)})}}),Array.from(l.values())}function Gw(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var bv=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function _v(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Xne(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Tn=t=>{var e=Dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},lc=t=>t.tooltip.settings.axisId;function Qne(t){if(t in kf)return kf[t]();var e="scale".concat(JE(t));if(e in kf)return kf[e]()}function nM(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(o){function l(){return o.apply(this,arguments)}return l.toString=function(){return o.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var l=i[0],u=i[1];return l<=u?o>=l&&o<=u:o>=u&&o<=l},bandwidth:n?()=>n.call(t):void 0,ticks:e?o=>e.call(t,o):void 0,map:(o,l)=>{var u=t(o);if(u!=null){if(t.bandwidth&&l!==null&&l!==void 0&&l.position){var f=t.bandwidth();switch(l.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function rM(t,e,n){if(typeof t=="function")return nM(t.copy().domain(e).range(n));if(t!=null){var r=Qne(t);if(r!=null)return r.domain(e).range(n),nM(r)}}var Zne=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Qo(e)){for(var n,r,i=0;i<e.length;i++){var o=e[i];Ze(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return(e=tre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return typeof e=="symbol"?e:e+""}function nre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bx=[0,"auto"],vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},$V=(t,e)=>t.cartesianAxis.xAxis[e],sa=(t,e)=>{var n=$V(t,e);return n??vn},yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:wd},KV=(t,e)=>t.cartesianAxis.yAxis[e],la=(t,e)=>{var n=KV(t,e);return n??yn},rre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Hw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??rre},ir=(t,e,n)=>{switch(e){case"xAxis":return sa(t,n);case"yAxis":return la(t,n);case"zAxis":return Hw(t,n);case"angleAxis":return zw(t,n);case"radiusAxis":return Bw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ire=(t,e,n)=>{switch(e){case"xAxis":return sa(t,n);case"yAxis":return la(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Rd=(t,e,n)=>{switch(e){case"xAxis":return sa(t,n);case"yAxis":return la(t,n);case"angleAxis":return zw(t,n);case"radiusAxis":return Bw(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},YV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function WV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var JV=t=>t.graphicalItems.cartesianItems,ore=ie([Sn,yv],WV),XV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Md=ie([JV,ir,ore],XV,{memoizeOptions:{resultEqualityCheck:_v}}),QV=ie([Md],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Gw)),ZV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),are=ie([Md],ZV),e5=t=>t.map(e=>e.data).filter(Boolean).flat(1),sre=ie([Md],e5,{memoizeOptions:{resultEqualityCheck:_v}}),t5=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},$w=ie([sre,AV],t5),n5=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Un(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Un(i,r)}))):t.map(r=>({value:r})),xv=ie([$w,ir,Md],n5);function r5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Zp(t){if(ho(t)||t instanceof Date){var e=Number(t);if(Ze(e))return e}}function oM(t){if(Array.isArray(t)){var e=[Zp(t[0]),Zp(t[1])];return Qo(e)?e:void 0}var n=Zp(t);if(n!=null)return[n,n]}function Zo(t){return t.map(Zp).filter(mr)}function lre(t,e,n){return!n||typeof e!="number"||fo(e)?[]:n.length?Zo(n.flatMap(r=>{var i=Un(t,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Ze(o)||!Ze(l)))return[e-o,e+l]})):[]}var hn=t=>{var e=Tn(t),n=lc(t);return Rd(t,e,n)},Dd=ie([hn],t=>t==null?void 0:t.dataKey),ure=ie([QV,AV,hn],HV),i5=(t,e,n,r)=>{var i={},o=e.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,f]=l,d=r?[...f].reverse():f,h=d.map(Fw);return[u,{stackedData:OX(t,h,n),graphicalItems:d}]}))},o5=ie([ure,QV,pv,UV],i5),a5=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=UX(t,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},cre=ie([ir],t=>t.allowDataOverflow),Kw=t=>{var e;if(t==null||!("domain"in t))return Bx;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Zo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Bx},s5=ie([ir],Kw),l5=ie([s5,cre],CV),fre=ie([o5,aa,Sn,l5],a5,{memoizeOptions:{resultEqualityCheck:bv}}),Yw=t=>t.errorBars,dre=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>r5(n,r)),sg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},u5=(t,e,n,r,i)=>{var o,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var d,h,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(R=>r5(i,R)),v=Un(u,(h=e.dataKey)!==null&&h!==void 0?h:f.dataKey),E=lre(u,v,m);if(E.length>=2){var S=Math.min(...E),A=Math.max(...E);(o==null||S<o)&&(o=S),(l==null||A>l)&&(l=A)}var T=oM(v);T!=null&&(o=o==null?T[0]:Math.min(o,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var f=oM(Un(u,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Ze(o)&&Ze(l))return[o,l]},hre=ie([$w,ir,are,Yw,Sn],u5,{memoizeOptions:{resultEqualityCheck:bv}});function pre(t){var{value:e}=t;if(ho(e)||e instanceof Date)return e}var mre=(t,e,n)=>{var r=t.map(pre).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&C4(r))?HL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},c5=t=>t.referenceElements.dots,uc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),gre=ie([c5,Sn,yv],uc),f5=t=>t.referenceElements.areas,vre=ie([f5,Sn,yv],uc),d5=t=>t.referenceElements.lines,yre=ie([d5,Sn,yv],uc),h5=(t,e)=>{if(t!=null){var n=Zo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},bre=ie(gre,Sn,h5),p5=(t,e)=>{if(t!=null){var n=Zo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},_re=ie([vre,Sn],p5);function xre(t){var e;if(t.x!=null)return Zo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Zo(n)}function Ere(t){var e;if(t.y!=null)return Zo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Zo(n)}var m5=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?xre(r):Ere(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},wre=ie([yre,Sn],m5),Sre=ie(bre,wre,_re,(t,e,n)=>sg(t,n,e)),g5=(t,e,n,r,i,o,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?sg(r,o,i):sg(o,i);return Lne(e,d,t.allowDataOverflow)},Tre=ie([ir,s5,l5,fre,hre,Sre,Dt,Sn],g5,{memoizeOptions:{resultEqualityCheck:bv}}),Are=[0,1],v5=(t,e,n,r,i,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,d=go(e,o);if(d&&u==null){var h;return HL(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?mre(r,t,d):i==="expand"?Are:l}},Ww=ie([ir,Dt,$w,xv,pv,Sn,Tre],v5);function Cre(t){return t in kf}var y5=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(JE(r));return Cre(o)?o:"point"}}},cc=ie([ir,YV,Vw],y5);function Jw(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?rM(t.scale,n,r):rM(e,n,r)}var b5=(t,e,n)=>{var r=Kw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Qo(t))return Bne(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Qo(t))return qne(t,e.tickCount,e.allowDecimals)}},Xw=ie([Ww,Rd,cc],b5),_5=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Qo(e)&&Array.isArray(n)&&n.length>0){var i,o,l=e[0],u=(i=n[0])!==null&&i!==void 0?i:0,f=e[1],d=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(l,u),Math.max(f,d)]}return e},Ire=ie([ir,Ww,Xw,Sn],_5),Nre=ie(xv,ir,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Zo(t.map(m=>m.value))).sort((m,v)=>m-v),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],d=r[u+1];if(!(f==null||d==null)){var h=d-f;n=Math.min(n,h)}}return n/l}}),x5=ie(Nre,Dt,Fne,Bn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ze(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=cs(n,t*o),u=t*o/2;return u-l-(u-l)/o*l}return 0}),Pre=(t,e,n)=>{var r=sa(t,e);return r==null||typeof r.padding!="string"?0:x5(t,"xAxis",e,n,r.padding)},Rre=(t,e,n)=>{var r=la(t,e);return r==null||typeof r.padding!="string"?0:x5(t,"yAxis",e,n,r.padding)},Mre=ie(sa,Pre,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Dre=ie(la,Rre,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Ore=ie([Bn,Mre,rv,nv,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),kre=ie([Bn,Dt,Dre,rv,nv,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Od=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Ore(t,n,r);case"yAxis":return kre(t,n,r);case"zAxis":return(i=Hw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return qV(t);case"radiusAxis":return FV(t,n);default:return}},E5=ie([ir,Od],mv),Lre=ie([cc,Ire],Zne),Ev=ie([ir,cc,Lre,E5],Jw);ie([Md,Yw,Sn],dre);function w5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var wv=(t,e)=>e,Sv=(t,e,n)=>n,Vre=ie(ev,wv,Sv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(w5)),Ure=ie(tv,wv,Sv,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(w5)),S5=(t,e)=>({width:t.width,height:e.height}),jre=(t,e)=>{var n=typeof e.width=="number"?e.width:wd;return{width:n,height:t.height}},zre=ie(Bn,sa,S5),Bre=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},qre=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Fre=ie(ia,Bn,Vre,wv,Sv,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=S5(e,u);l==null&&(l=Bre(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),Gre=ie(ra,Bn,Ure,wv,Sv,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=jre(e,u);l==null&&(l=qre(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),Hre=(t,e)=>{var n=sa(t,e);if(n!=null)return Fre(t,n.orientation,n.mirror)},$re=ie([Bn,sa,Hre,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Kre=(t,e)=>{var n=la(t,e);if(n!=null)return Gre(t,n.orientation,n.mirror)},Yre=ie([Bn,la,Kre,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Wre=ie(Bn,la,(t,e)=>{var n=typeof e.width=="number"?e.width:wd;return{width:n,height:t.height}}),T5=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=go(t,r),f=e.map(d=>d.value);if(l&&u&&o==="category"&&i&&C4(f))return f}},Qw=ie([Dt,xv,ir,Sn],T5),A5=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=go(t,r);if(l&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},Zw=ie([Dt,xv,Rd,Sn],A5),aM=ie([Dt,ire,cc,Ev,Qw,Zw,Od,Xw,Sn],(t,e,n,r,i,o,l,u,f)=>{if(e!=null){var d=go(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),Jre=(t,e,n,r,i,o,l,u,f)=>{if(!(e==null||r==null)){var d=go(t,f),{type:h,ticks:m,tickCount:v}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/E:0;S=f==="angleAxis"&&o!=null&&o.length>=2?Xr(o[0]-o[1])*2*S:S;var A=m||i;return A?A.map((T,R)=>{var j=l?l.indexOf(T):T,L=r.map(j);return Ze(L)?{index:R,coordinate:L+S,value:T,offset:S}:null}).filter(mr):d&&u?u.map((T,R)=>{var j=r.map(T);return Ze(j)?{coordinate:j+S,value:T,index:R,offset:S}:null}).filter(mr):r.ticks?r.ticks(v).map((T,R)=>{var j=r.map(T);return Ze(j)?{coordinate:j+S,value:T,index:R,offset:S}:null}).filter(mr):r.domain().map((T,R)=>{var j=r.map(T);return Ze(j)?{coordinate:j+S,value:l?l[T]:T,index:R,offset:S}:null}).filter(mr)}},C5=ie([Dt,Rd,cc,Ev,Xw,Od,Qw,Zw,Sn],Jre),Xre=(t,e,n,r,i,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=go(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Xr(r[0]-r[1])*2*d:d,u&&o?o.map((h,m)=>{var v=n.map(h);return Ze(v)?{coordinate:v+d,value:h,index:m,offset:d}:null}).filter(mr):n.ticks?n.ticks(f).map((h,m)=>{var v=n.map(h);return Ze(v)?{coordinate:v+d,value:h,index:m,offset:d}:null}).filter(mr):n.domain().map((h,m)=>{var v=n.map(h);return Ze(v)?{coordinate:v+d,value:i?i[h]:h,index:m,offset:d}:null}).filter(mr)}},I5=ie([Dt,Rd,Ev,Od,Qw,Zw,Sn],Xre),N5=ie(ir,Ev,(t,e)=>{if(!(t==null||e==null))return ag(ag({},t),{},{scale:e})}),Qre=ie([ir,cc,Ww,E5],Jw);ie((t,e,n)=>Hw(t,n),Qre,(t,e)=>{if(!(t==null||e==null))return ag(ag({},t),{},{scale:e})});var Zre=ie([Dt,ev,tv],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),P5=t=>t.options.defaultTooltipEventType,R5=t=>t.options.validateTooltipEventTypes;function M5(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function eS(t,e){var n=P5(t),r=R5(t);return M5(e,n,r)}function eie(t){return De(e=>eS(e,t))}var D5=(t,e)=>{var n,r=Number(e);if(!(fo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},tie=t=>t.tooltip.settings,Ya={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nie={itemInteraction:{click:Ya,hover:Ya},axisInteraction:{click:Ya,hover:Ya},keyboardInteraction:Ya,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},O5=yr({name:"tooltip",initialState:nie,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Rt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Si(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Rt()},removeTooltipEntrySettings:{reducer(t,e){var n=Si(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Rt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:rie,replaceTooltipEntrySettings:iie,removeTooltipEntrySettings:oie,setTooltipSettingsState:aie,setActiveMouseOverItemIndex:sie,mouseLeaveItem:kfe,mouseLeaveChart:k5,setActiveClickItemIndex:Lfe,setMouseOverAxisIndex:L5,setMouseClickAxisIndex:lie,setSyncInteraction:qx,setKeyboardInteraction:Fx}=O5.actions,uie=O5.reducer;function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){cie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cie(t,e,n){return(e=fie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fie(t){var e=die(t,"string");return typeof e=="symbol"?e:e+""}function die(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hie(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function pie(t){return t.index!=null}var V5=(t,e,n,r)=>{if(e==null)return Ya;var i=hie(t,e,n);if(i==null)return Ya;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(pie(i)){if(o)return Vp(Vp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Vp(Vp({},Ya),{},{coordinate:i.coordinate})};function mie(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function gie(t,e){var n=mie(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function vie(t,e,n){if(n==null||e==null)return!0;var r=Un(t,e);return r==null||!Qo(n)?!0:gie(r,n)}var tS=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!Ze(o))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(l,Math.min(o,u)),d=e[f];return d==null||vie(d,n,r)?String(f):null},U5=(t,e,n,r,i,o,l)=>{if(o!=null){var u=l[0],f=u==null?void 0:u.getPosition(o);if(f!=null)return f;var d=i==null?void 0:i[Number(o)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},j5=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=t.tooltipItemPayloads[0];return o!=null?[o]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},z5=t=>t.options.tooltipPayloadSearcher,fc=t=>t.tooltip;function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){yie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yie(t,e,n){return(e=bie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xie(t,e){return t??e}var B5=(t,e,n,r,i,o,l)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((v,E)=>{var S,{dataDefinedOnItem:A,settings:T}=E,R=xie(A,u),j=Array.isArray(R)?vL(R,d,h):R,L=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,B=T==null?void 0:T.nameKey,H;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?H=I4(j,r,i):H=o(j,e,f,B),Array.isArray(H))H.forEach(D=>{var O=uM(uM({},T),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push(cP({tooltipEntrySettings:O,dataKey:D.dataKey,payload:D.payload,value:Un(D.payload,D.dataKey),name:D.name}))});else{var F;v.push(cP({tooltipEntrySettings:T,dataKey:L,payload:H,value:Un(H,L),name:(F=Un(H,B))!==null&&F!==void 0?F:T==null?void 0:T.name}))}return v},m)}},nS=ie([hn,YV,Vw],y5),Eie=ie([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),wie=ie([Tn,lc],WV),dc=ie([Eie,hn,wie],XV,{memoizeOptions:{resultEqualityCheck:_v}}),Sie=ie([dc],t=>t.filter(Gw)),Tie=ie([dc],e5,{memoizeOptions:{resultEqualityCheck:_v}}),hc=ie([Tie,aa],t5),Aie=ie([Sie,aa,hn],HV),rS=ie([hc,hn,dc],n5),q5=ie([hn],Kw),Cie=ie([hn],t=>t.allowDataOverflow),F5=ie([q5,Cie],CV),Iie=ie([dc],t=>t.filter(Gw)),Nie=ie([Aie,Iie,pv,UV],i5),Pie=ie([Nie,aa,Tn,F5],a5),Rie=ie([dc],ZV),Mie=ie([hc,hn,Rie,Yw,Tn],u5,{memoizeOptions:{resultEqualityCheck:bv}}),Die=ie([c5,Tn,lc],uc),Oie=ie([Die,Tn],h5),kie=ie([f5,Tn,lc],uc),Lie=ie([kie,Tn],p5),Vie=ie([d5,Tn,lc],uc),Uie=ie([Vie,Tn],m5),jie=ie([Oie,Uie,Lie],sg),zie=ie([hn,q5,F5,Pie,Mie,jie,Dt,Tn],g5),kd=ie([hn,Dt,hc,rS,pv,Tn,zie],v5),Bie=ie([kd,hn,nS],b5),qie=ie([hn,kd,Bie,Tn],_5),G5=t=>{var e=Tn(t),n=lc(t),r=!1;return Od(t,e,n,r)},H5=ie([hn,G5],mv),$5=ie([hn,nS,qie,H5],Jw),Fie=ie([Dt,rS,hn,Tn],T5),Gie=ie([Dt,rS,hn,Tn],A5),Hie=(t,e,n,r,i,o,l,u)=>{if(e){var{type:f}=e,d=go(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Xr(i[0]-i[1])*2*m:m,d&&l?l.map((v,E)=>{var S=r.map(v);return Ze(S)?{coordinate:S+m,value:v,index:E,offset:m}:null}).filter(mr):r.domain().map((v,E)=>{var S=r.map(v);return Ze(S)?{coordinate:S+m,value:o?o[v]:v,index:E,offset:m}:null}).filter(mr)}}},ua=ie([Dt,hn,nS,$5,G5,Fie,Gie,Tn],Hie),iS=ie([P5,R5,tie],(t,e,n)=>M5(n.shared,t,e)),K5=t=>t.tooltip.settings.trigger,oS=t=>t.tooltip.settings.defaultIndex,Ld=ie([fc,iS,K5,oS],V5),dd=ie([Ld,hc,Dd,kd],tS),Y5=ie([ua,dd],D5),$ie=ie([Ld],t=>{if(t)return t.dataKey});ie([Ld],t=>{if(t)return t.graphicalItemId});var W5=ie([fc,iS,K5,oS],j5),Kie=ie([ra,ia,Dt,Bn,ua,oS,W5],U5),Yie=ie([Ld,Kie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Wie=ie([Ld],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),Jie=ie([W5,dd,aa,Dd,Y5,z5,iS],B5),Xie=ie([Jie],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){Qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qie(t,e,n){return(e=Zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=eoe(t,"string");return typeof e=="symbol"?e:e+""}function eoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var toe=()=>De(hn),noe=()=>{var t=toe(),e=De(ua),n=De($5);return Um(!t||!n?void 0:fM(fM({},t),{},{scale:n}),e)};function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function roe(t,e,n){return(e=ioe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ioe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aoe=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},soe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:l}=r;return pu(pu(pu({},r),Vn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:f}=r;return pu(pu(pu({},r),Vn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function loe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var J5=(t,e,n,r,i)=>{var o,l=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,d,h,m,v,E=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(d=n[l-1])===null||d===void 0?void 0:d.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,A=u>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,T=void 0;if(!(E==null||S==null||A==null))if(Xr(S-E)!==Xr(A-S)){var R=[];if(Xr(A-S)===Xr(i[1]-i[0])){T=A;var j=S+i[1]-i[0];R[0]=Math.min(j,(j+E)/2),R[1]=Math.max(j,(j+E)/2)}else{T=E;var L=A+i[1]-i[0];R[0]=Math.min(S,(L+S)/2),R[1]=Math.max(S,(L+S)/2)}var B=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(t>B[0]&&t<=B[1]||t>=R[0]&&t<=R[1]){var H;return(H=n[u])===null||H===void 0?void 0:H.index}}else{var F=Math.min(E,A),D=Math.max(E,A);if(t>(F+S)/2&&t<=(D+S)/2){var O;return(O=n[u])===null||O===void 0?void 0:O.index}}}else if(e)for(var k=0;k<l;k++){var G=e[k];if(G!=null){var q=e[k+1],M=e[k-1];if(k===0&&q!=null&&t<=(G.coordinate+q.coordinate)/2||k===l-1&&M!=null&&t>(G.coordinate+M.coordinate)/2||k>0&&k<l-1&&M!=null&&q!=null&&t>(G.coordinate+M.coordinate)/2&&t<=(G.coordinate+q.coordinate)/2)return G.index}}return-1},X5=()=>De(Vw),aS=(t,e)=>e,Q5=(t,e,n)=>n,sS=(t,e,n,r)=>r,uoe=ie(ua,t=>Gg(t,e=>e.coordinate)),lS=ie([fc,aS,Q5,sS],V5),uS=ie([lS,hc,Dd,kd],tS),coe=(t,e,n)=>{if(e!=null){var r=fc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Z5=ie([fc,aS,Q5,sS],j5),lg=ie([ra,ia,Dt,Bn,ua,sS,Z5],U5),foe=ie([lS,lg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),e3=ie([ua,uS],D5),doe=ie([Z5,uS,aa,Dd,e3,z5,aS],B5),hoe=ie([lS,uS],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),poe=(t,e,n,r,i,o,l)=>{if(!(!t||!n||!r||!i)&&loe(t,l)){var u=jX(t,e),f=J5(u,o,i,n,r),d=aoe(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},moe=(t,e,n,r,i,o,l)=>{if(!(!t||!r||!i||!o||!n)){var u=JZ(t,n);if(u){var f=zX(u,e),d=J5(f,l,o,r,i),h=soe(e,o,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},goe=(t,e,n,r,i,o,l,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?poe(t,e,r,i,o,l,u):moe(t,e,n,r,i,o,l)},voe=ie(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),yoe=ie(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(tr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Xne}});function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return(e=_oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _oe(t){var e=xoe(t,"string");return typeof e=="symbol"?e:e+""}function xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eoe={},woe={zIndexMap:Object.values(tr).reduce((t,e)=>pM(pM({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Eoe)},Soe=new Set(Object.values(tr));function Toe(t){return Soe.has(t)}var t3=yr({name:"zIndex",initialState:woe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Rt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Toe(n)&&delete t.zIndexMap[n])},prepare:Rt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Rt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Rt()}}}),{registerZIndexPortal:Aoe,unregisterZIndexPortal:Coe,registerZIndexPortalElement:Ioe,unregisterZIndexPortalElement:Noe}=t3.actions,Poe=t3.reducer;function ca(t){var{zIndex:e,children:n}=t,r=bQ(),i=r&&e!==void 0&&e!==0,o=br(),l=En();N.useLayoutEffect(()=>i?(l(Aoe({zIndex:e})),()=>{l(Coe({zIndex:e}))}):rc,[l,e,i]);var u=De(f=>voe(f,e,o));return i?u?f4.createPortal(n,u):null:n}function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(null,arguments)}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){Roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Roe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ooe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function koe(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:d,chartName:h}=t,m=n,v=r,E=i;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var S,A,T;if(h==="ScatterChart")S=m,A=sZ,T=tr.cursorLine;else if(h==="BarChart")S=lZ(u,m,o,l),A=zZ,T=tr.cursorRectangle;else if(u==="radial"&&N4(m)){var{cx:R,cy:j,radius:L,startAngle:B,endAngle:H}=FL(m);S={cx:R,cy:j,startAngle:B,endAngle:H,innerRadius:L,outerRadius:L},A=eee,T=tr.cursorLine}else S={points:tee(u,m,o)},A=Qp,T=tr.cursorLine;var F=typeof f=="object"&&"className"in f?f.className:void 0,D=Up(Up(Up(Up({stroke:"#ccc",pointerEvents:"none"},o),S),zg(f)),{},{payload:v,payloadIndex:E,className:Ct("recharts-tooltip-cursor",F)});return N.createElement(ca,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:T},N.createElement(Ooe,{cursor:f,cursorComp:A,cursorProps:D}))}function Loe(t){var e=noe(),n=AL(),r=ic(),i=X5();return e==null||n==null||r==null||i==null?null:N.createElement(koe,Gx({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var n3=N.createContext(null),Voe=()=>N.useContext(n3),l_={exports:{}},gM;function Uoe(){return gM||(gM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var E=new i(h,m||f,v),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],E]:f._events[S].push(E):(f._events[S]=E,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,E=m.length,S=new Array(E);v<E;v++)S[v]=m[v].fn;return S},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,v,E,S){var A=n?n+d:d;if(!this._events[A])return!1;var T=this._events[A],R=arguments.length,j,L;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),R){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,v),!0;case 5:return T.fn.call(T.context,h,m,v,E),!0;case 6:return T.fn.call(T.context,h,m,v,E,S),!0}for(L=1,j=new Array(R-1);L<R;L++)j[L-1]=arguments[L];T.fn.apply(T.context,j)}else{var B=T.length,H;for(L=0;L<B;L++)switch(T[L].once&&this.removeListener(d,T[L].fn,void 0,!0),R){case 1:T[L].fn.call(T[L].context);break;case 2:T[L].fn.call(T[L].context,h);break;case 3:T[L].fn.call(T[L].context,h,m);break;case 4:T[L].fn.call(T[L].context,h,m,v);break;default:if(!j)for(H=1,j=new Array(R-1);H<R;H++)j[H-1]=arguments[H];T[L].fn.apply(T[L].context,j)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,v){var E=n?n+d:d;if(!this._events[E])return this;if(!h)return l(this,E),this;var S=this._events[E];if(S.fn)S.fn===h&&(!v||S.once)&&(!m||S.context===m)&&l(this,E);else{for(var A=0,T=[],R=S.length;A<R;A++)(S[A].fn!==h||v&&!S[A].once||m&&S[A].context!==m)&&T.push(S[A]);T.length?this._events[E]=T.length===1?T[0]:T:l(this,E)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(l_)),l_.exports}var joe=Uoe();const zoe=ea(joe);var hd=new zoe,Hx="recharts.syncEvent.tooltip",vM="recharts.syncEvent.brush",Boe=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!fo(n))return t[n]}},qoe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},r3=yr({name:"options",initialState:qoe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Foe=r3.reducer,{createEventEmitter:Goe}=r3.actions;function Hoe(t){return t.tooltip.syncInteraction}var $oe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},i3=yr({name:"chartData",initialState:$oe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:yM,setDataStartEndIndexes:Koe,setComputedData:Vfe}=i3.actions,Yoe=i3.reducer,Woe=["x","y"];function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Joe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Joe(t,e,n){return(e=Xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xoe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zoe(t,e){if(t==null)return{};var n,r,i=eae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tae(){var t=De(Uw),e=De(jw),n=En(),r=De(jV),i=De(ua),o=ic(),l=iv(),u=De(f=>f.rootProps.className);N.useEffect(()=>{if(t==null)return rc;var f=(d,h,m)=>{if(e!==m&&t===d){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var E=h.payload.coordinate,{x:S,y:A}=E,T=Zoe(E,Woe),{x:R,y:j,width:L,height:B}=h.payload.sourceViewBox,H=mu(mu({},T),{},{x:l.x+(L?(S-R)/L:0)*l.width,y:l.y+(B?(A-j)/B:0)*l.height});n(mu(mu({},h),{},{payload:mu(mu({},h.payload),{},{coordinate:H})}))}else n(h);return}if(i!=null){var F;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,D);F=i[O]}else r==="value"&&(F=i.find(W=>String(W.value)===h.payload.label));var{coordinate:k}=h.payload;if(F==null||h.payload.active===!1||k==null||l==null){n(qx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:G,y:q}=k,M=Math.min(G,l.x+l.width),V=Math.min(q,l.y+l.height),de={x:o==="horizontal"?F.coordinate:M,y:o==="horizontal"?V:F.coordinate},ye=qx({active:h.payload.active,coordinate:de,dataKey:h.payload.dataKey,index:String(F.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ye)}}};return hd.on(Hx,f),()=>{hd.off(Hx,f)}},[u,n,e,t,r,i,o,l])}function nae(){var t=De(Uw),e=De(jw),n=En();N.useEffect(()=>{if(t==null)return rc;var r=(i,o,l)=>{e!==l&&t===i&&n(Koe(o))};return hd.on(vM,r),()=>{hd.off(vM,r)}},[n,e,t])}function rae(){var t=En();N.useEffect(()=>{t(Goe())},[t]),tae(),nae()}function iae(t,e,n,r,i,o){var l=De(E=>coe(E,t,e)),u=De(jw),f=De(Uw),d=De(jV),h=De(Hoe),m=h==null?void 0:h.active,v=iv();N.useEffect(()=>{if(!m&&f!=null&&u!=null){var E=qx({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});hd.emit(Hx,f,E,u)}},[m,n,l,i,r,u,f,d,o,v])}function _M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_M(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return(e=aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aae(t){var e=sae(t,"string");return typeof e=="symbol"?e:e+""}function sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lae(t){return t.dataKey}function uae(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(zQ,e)}var EM=[],cae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function fae(t){var e,n,r=kr(t,cae),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:v,position:E,reverseDirection:S,useTranslate3d:A,wrapperStyle:T,cursor:R,shared:j,trigger:L,defaultIndex:B,portal:H,axisId:F}=r,D=En(),O=typeof B=="number"?String(B):B;N.useEffect(()=>{D(aie({shared:j,trigger:L,axisId:F,active:i,defaultIndex:O}))},[D,j,L,F,i,O]);var k=iv(),G=VL(),q=eie(j),{activeIndex:M,isActive:V}=(e=De(Ae=>hoe(Ae,q,L,O)))!==null&&e!==void 0?e:{},de=De(Ae=>doe(Ae,q,L,O)),ye=De(Ae=>e3(Ae,q,L,O)),W=De(Ae=>foe(Ae,q,L,O)),oe=de,ve=Voe(),ce=(n=i??V)!==null&&n!==void 0?n:!1,[_e,$]=AJ([oe,ce]),te=q==="axis"?ye:void 0;iae(q,L,W,te,M,ce);var pe=H??ve;if(pe==null||k==null||q==null)return null;var me=oe??EM;ce||(me=EM),d&&me.length&&(me=QW(me.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||r.includeHidden)),v,lae));var Ee=me.length>0,Me=N.createElement(KQ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ce,coordinate:W,hasPayload:Ee,offset:m,position:E,reverseDirection:S,useTranslate3d:A,viewBox:k,wrapperStyle:T,lastBoundingBox:_e,innerRef:$,hasPortalFromProps:!!H},uae(f,xM(xM({},r),{},{payload:me,label:te,active:ce,activeIndex:M,coordinate:W,accessibilityLayer:G})));return N.createElement(N.Fragment,null,f4.createPortal(Me,pe),ce&&N.createElement(Loe,{cursor:R,tooltipEventType:q,coordinate:W,payload:me,index:M}))}function dae(t,e,n){return(e=hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hae(t){var e=pae(t,"string");return typeof e=="symbol"?e:e+""}function pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mae{constructor(e){dae(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){vae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vae(t,e,n){return(e=yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=bae(t,"string");return typeof e=="symbol"?e:e+""}function bae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ae={cacheSize:2e3,enableCache:!0},o3=gae({},_ae),SM=new mae(o3.cacheSize),xae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TM="recharts_measurement_span";function Eae(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var AM=(t,e)=>{try{var n=document.getElementById(TM);n||(n=document.createElement("span"),n.setAttribute("id",TM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,xae,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},qf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ad.isSsr)return{width:0,height:0};if(!o3.enableCache)return AM(e,n);var r=Eae(e,n),i=SM.get(r);if(i)return i;var o=AM(e,n);return SM.set(r,o),o},a3;function wae(t,e,n){return(e=Sae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=Tae(t,"string");return typeof e=="symbol"?e:e+""}function Tae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Aae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Iae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nae=["cm","mm","pt","pc","in","Q","px"];function Pae(t){return Nae.includes(t)}var Tu="NaN";function Rae(t,e){return t*Iae[e]}class On{static parse(e){var n,[,r,i]=(n=Cae.exec(e))!==null&&n!==void 0?n:[];return r==null?On.NaN:new On(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,fo(e)&&(this.unit=""),n!==""&&!Aae.test(n)&&(this.num=NaN,this.unit=""),Pae(n)&&(this.num=Rae(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new On(NaN,""):new On(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new On(NaN,""):new On(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new On(NaN,""):new On(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new On(NaN,""):new On(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fo(this.num)}}a3=On;wae(On,"NaN",new a3(NaN,""));function s3(t){if(t==null||t.includes(Tu))return Tu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=CM.exec(e))!==null&&n!==void 0?n:[],l=On.parse(r??""),u=On.parse(o??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Tu;e=e.replace(CM,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,v]=(d=IM.exec(e))!==null&&d!==void 0?d:[],E=On.parse(h??""),S=On.parse(v??""),A=m==="+"?E.add(S):E.subtract(S);if(A.isNaN())return Tu;e=e.replace(IM,A.toString())}return e}var NM=/\(([^()]*)\)/;function Mae(t){for(var e=t,n;(n=NM.exec(e))!=null;){var[,r]=n;e=e.replace(NM,s3(r))}return e}function Dae(t){var e=t.replace(/\s+/g,"");return e=Mae(e),e=s3(e),e}function Oae(t){try{return Dae(t)}catch{return Tu}}function u_(t){var e=Oae(t.slice(5,-1));return e===Tu?"":e}var kae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Lae=["dx","dy","angle","className","breakAll"];function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(null,arguments)}function PM(t,e){if(t==null)return{};var n,r,i=Vae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var l3=/[ \f\n\r\t\v\u2028\u2029]+/,u3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Wn(e)||(n?i=e.toString().split(""):i=e.toString().split(l3));var o=i.map(u=>({word:u,width:qf(u,r).width})),l=n?0:qf("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function Uae(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var c3=(t,e,n,r)=>t.reduce((i,o)=>{var{word:l,width:u}=o,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),f3=t=>t.reduce((e,n)=>e.width>n.width?e:n),jae="",RM=(t,e,n,r,i,o,l,u)=>{var f=t.slice(0,e),d=u3({breakAll:n,style:r,children:f+jae});if(!d)return[!1,[]];var h=c3(d.wordsWithComputedWidth,o,l,u),m=h.length>i||f3(h).width>Number(o);return[m,h]},zae=(t,e,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:f}=t,d=Ne(o),h=String(l),m=c3(e,r,n,i);if(!d||i)return m;var v=m.length>o||f3(m).width>Number(r);if(!v)return m;for(var E=0,S=h.length-1,A=0,T;E<=S&&A<=h.length-1;){var R=Math.floor((E+S)/2),j=R-1,[L,B]=RM(h,j,f,u,o,r,n,i),[H]=RM(h,R,f,u,o,r,n,i);if(!L&&!H&&(E=R+1),L&&H&&(S=R-1),!L&&H){T=B;break}A++}return T||m},MM=t=>{var e=Wn(t)?[]:t.toString().split(l3);return[{words:e,width:void 0}]},Bae=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=t;if((e||n)&&!Ad.isSsr){var u,f,d=u3({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,f=m}else return MM(r);return zae({breakAll:o,children:r,maxLines:l,style:i},u,f,e,!!n)}return MM(r)},d3="#808080",qae={angle:0,breakAll:!1,capHeight:"0.71em",fill:d3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},cS=N.forwardRef((t,e)=>{var n=kr(t,qae),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=PM(n,kae),v=N.useMemo(()=>Bae({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:E,dy:S,angle:A,className:T,breakAll:R}=m,j=PM(m,Lae);if(!ho(r)||!ho(i)||v.length===0)return null;var L=Number(r)+(Ne(E)?E:0),B=Number(i)+(Ne(S)?S:0);if(!Ze(L)||!Ze(B))return null;var H;switch(h){case"start":H=u_("calc(".concat(l,")"));break;case"middle":H=u_("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:H=u_("calc(".concat(v.length-1," * -").concat(o,")"));break}var F=[],D=v[0];if(f&&D!=null){var O=D.width,{width:k}=m;F.push("scale(".concat(Ne(k)&&Ne(O)?k/O:1,")"))}return A&&F.push("rotate(".concat(A,", ").concat(L,", ").concat(B,")")),F.length&&(j.transform=F.join(" ")),N.createElement("text",$x({},ti(j),{ref:e,x:L,y:B,className:Ct("recharts-text",T),textAnchor:d,fill:u.includes("url")?d3:u}),v.map((G,q)=>{var M=G.words.join(R?"":" ");return N.createElement("tspan",{x:L,dy:q===0?H:o,key:"".concat(M,"-").concat(q)},M)}))});cS.displayName="Text";function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=Hae(t,"string");return typeof e=="symbol"?e:e+""}function Hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ae=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:o,y:l,height:u,upperWidth:f,lowerWidth:d}=lw(e),h=o,m=o+(f-d)/2,v=(h+m)/2,E=(f+d)/2,S=h+f/2,A=u>=0?1:-1,T=A*r,R=A>0?"end":"start",j=A>0?"start":"end",L=f>=0?1:-1,B=L*r,H=L>0?"end":"start",F=L>0?"start":"end",D=i;if(n==="top"){var O={x:h+f/2,y:l-T,horizontalAnchor:"middle",verticalAnchor:R};return D&&(O.height=Math.max(l-D.y,0),O.width=f),O}if(n==="bottom"){var k={x:m+d/2,y:l+u+T,horizontalAnchor:"middle",verticalAnchor:j};return D&&(k.height=Math.max(D.y+D.height-(l+u),0),k.width=d),k}if(n==="left"){var G={x:v-B,y:l+u/2,horizontalAnchor:H,verticalAnchor:"middle"};return D&&(G.width=Math.max(G.x-D.x,0),G.height=u),G}if(n==="right"){var q={x:v+E+B,y:l+u/2,horizontalAnchor:F,verticalAnchor:"middle"};return D&&(q.width=Math.max(D.x+D.width-q.x,0),q.height=u),q}var M=D?{width:E,height:u}:{};return n==="insideLeft"?eo({x:v+B,y:l+u/2,horizontalAnchor:F,verticalAnchor:"middle"},M):n==="insideRight"?eo({x:v+E-B,y:l+u/2,horizontalAnchor:H,verticalAnchor:"middle"},M):n==="insideTop"?eo({x:h+f/2,y:l+T,horizontalAnchor:"middle",verticalAnchor:j},M):n==="insideBottom"?eo({x:m+d/2,y:l+u-T,horizontalAnchor:"middle",verticalAnchor:R},M):n==="insideTopLeft"?eo({x:h+B,y:l+T,horizontalAnchor:F,verticalAnchor:j},M):n==="insideTopRight"?eo({x:h+f-B,y:l+T,horizontalAnchor:H,verticalAnchor:j},M):n==="insideBottomLeft"?eo({x:m+B,y:l+u-T,horizontalAnchor:F,verticalAnchor:R},M):n==="insideBottomRight"?eo({x:m+d-B,y:l+u-T,horizontalAnchor:H,verticalAnchor:R},M):n&&typeof n=="object"&&(Ne(n.x)||cl(n.x))&&(Ne(n.y)||cl(n.y))?eo({x:o+cs(n.x,E),y:l+cs(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},M):eo({x:S,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},M)},Kae=["labelRef"],Yae=["content"];function OM(t,e){if(t==null)return{};var n,r,i=Wae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Jae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jae(t,e,n){return(e=Xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xae(t){var e=Qae(t,"string");return typeof e=="symbol"?e:e+""}function Qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(null,arguments)}var h3=N.createContext(null),Zae=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=t,f=N.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[e,n,r,i,o,l]);return N.createElement(h3.Provider,{value:f},u)},p3=()=>{var t=N.useContext(h3),e=iv();return t||(e?lw(e):void 0)},ese=N.createContext(null),tse=()=>{var t=N.useContext(ese),e=De(GV);return t||e},nse=t=>{var{value:e,formatter:n}=t,r=Wn(t.children)?e:t.children;return typeof n=="function"?n(r):r},fS=t=>t!=null&&typeof t=="function",rse=(t,e)=>{var n=Xr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ise=(t,e,n,r,i)=>{var{offset:o,className:l}=t,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:v,clockWise:E}=i,S=(d+h)/2,A=rse(m,v),T=A>=0?1:-1,R,j;switch(e){case"insideStart":R=m+T*o,j=E;break;case"insideEnd":R=v-T*o,j=!E;break;case"end":R=v+T*o,j=E;break;default:throw new Error("Unsupported position ".concat(e))}j=A<=0?j:!j;var L=Vn(u,f,S,R),B=Vn(u,f,S,R+(j?1:-1)*359),H="M".concat(L.x,",").concat(L.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(j?0:1,`,
    `).concat(B.x,",").concat(B.y),F=Wn(t.id)?Zf("recharts-radial-line-"):t.id;return N.createElement("text",Vo({},r,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),N.createElement("defs",null,N.createElement("path",{id:F,d:H})),N.createElement("textPath",{xlinkHref:"#".concat(F)},n))},ose=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:h,y:m}=Vn(r,i,l+e,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:E,y:S}=Vn(r,i,v,d);return{x:E,y:S,textAnchor:"middle",verticalAnchor:"middle"}},em=t=>t!=null&&"cx"in t&&Ne(t.cx),ase={angle:0,offset:5,zIndex:tr.label,position:"middle",textBreakAll:!1};function sse(t){if(!em(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ka(t){var e=kr(t,ase),{viewBox:n,parentViewBox:r,position:i,value:o,children:l,content:u,className:f="",textBreakAll:d,labelRef:h}=e,m=tse(),v=p3(),E=i==="center"?v:m??v,S,A,T;n==null?S=E:em(n)?S=n:S=lw(n);var R=sse(S);if(!S||Wn(o)&&Wn(l)&&!N.isValidElement(u)&&typeof u!="function")return null;var j=Lf(Lf({},e),{},{viewBox:S});if(N.isValidElement(u)){var{labelRef:L}=j,B=OM(j,Kae);return N.cloneElement(u,B)}if(typeof u=="function"){var{content:H}=j,F=OM(j,Yae);if(A=N.createElement(u,F),N.isValidElement(A))return A}else A=nse(e);var D=ti(e);if(em(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return ise(e,i,A,D,S);T=ose(S,e.offset,e.position)}else{if(!R)return null;var O=$ae({viewBox:R,position:i,offset:e.offset,parentViewBox:em(r)?void 0:r});T=Lf(Lf({x:O.x,y:O.y,textAnchor:O.horizontalAnchor,verticalAnchor:O.verticalAnchor},O.width!==void 0?{width:O.width}:{}),O.height!==void 0?{height:O.height}:{})}return N.createElement(ca,{zIndex:e.zIndex},N.createElement(cS,Vo({ref:h,className:Ct("recharts-label",f)},D,T,{textAnchor:Uae(D.textAnchor)?D.textAnchor:T.textAnchor,breakAll:d}),A))}Ka.displayName="Label";var lse=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(Ka,Vo({key:"label-implicit"},r)):ho(t)?N.createElement(Ka,Vo({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===Ka?N.cloneElement(t,Lf({key:"label-implicit"},r)):N.createElement(Ka,Vo({key:"label-implicit",content:t},r)):fS(t)?N.createElement(Ka,Vo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(Ka,Vo({},t,{key:"label-implicit"},r)):null};function use(t){var{label:e,labelRef:n}=t,r=p3();return lse(e,r,n)||null}var c_={},f_={},LM;function cse(){return LM||(LM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(f_)),f_}var d_={},VM;function fse(){return VM||(VM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(d_)),d_}var UM;function dse(){return UM||(UM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cse(),n=fse(),r=QE();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(c_)),c_}var h_,jM;function hse(){return jM||(jM=1,h_=dse().last),h_}var pse=hse();const mse=ea(pse);var gse=["valueAccessor"],vse=["dataKey","clockWise","id","textBreakAll","zIndex"];function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(null,arguments)}function zM(t,e){if(t==null)return{};var n,r,i=yse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bse=t=>Array.isArray(t.value)?mse(t.value):t.value,m3=N.createContext(void 0),_se=m3.Provider,g3=N.createContext(void 0);g3.Provider;function xse(){return N.useContext(m3)}function Ese(){return N.useContext(g3)}function tm(t){var{valueAccessor:e=bse}=t,n=zM(t,gse),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,f=zM(n,vse),d=xse(),h=Ese(),m=d||h;return!m||!m.length?null:N.createElement(ca,{zIndex:u??tr.label},N.createElement(co,{className:"recharts-label-list"},m.map((v,E)=>{var S,A=Wn(r)?e(v,E):Un(v.payload,r),T=Wn(o)?{}:{id:"".concat(o,"-").concat(E)};return N.createElement(Ka,ug({key:"label-".concat(E)},ti(v),f,T,{fill:(S=n.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:A,textBreakAll:l,viewBox:v.viewBox,index:E,zIndex:0}))})))}tm.displayName="LabelList";function wse(t){var{label:e}=t;return e?e===!0?N.createElement(tm,{key:"labelList-implicit"}):N.isValidElement(e)||fS(e)?N.createElement(tm,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(tm,ug({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Kx(){return Kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kx.apply(null,arguments)}var v3=t=>{var{cx:e,cy:n,r,className:i}=t,o=Ct("recharts-dot",i);return Ne(e)&&Ne(n)&&Ne(r)?N.createElement("circle",Kx({},Ii(t),XE(t),{className:o,cx:e,cy:n,r})):null},Sse={radiusAxis:{},angleAxis:{}},y3=yr({name:"polarAxis",initialState:Sse,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Ufe,removeRadiusAxis:jfe,addAngleAxis:zfe,removeAngleAxis:Bfe}=y3.actions,Tse=y3.reducer;function Ase(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var b3=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function Cse(t){var{tooltipEntrySettings:e}=t,n=En(),r=br(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(rie(e)):i.current!==e&&n(iie({prev:i.current,next:e})),i.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{i.current&&(n(oie(i.current)),i.current=null)},[n]),null}function Ise(t){var{legendPayload:e}=t,n=En(),r=br(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(MQ(e)):i.current!==e&&n(DQ({prev:i.current,next:e})),i.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{i.current&&(n(OQ(i.current)),i.current=null)},[n]),null}var p_,Nse=()=>{var[t]=N.useState(()=>Zf("uid-"));return t},Pse=(p_=O6.useId)!==null&&p_!==void 0?p_:Nse;function Rse(t,e){var n=Pse();return e||(t?"".concat(t,"-").concat(n):n)}var Mse=N.createContext(void 0),Dse=t=>{var{id:e,type:n,children:r}=t,i=Rse("recharts-".concat(n),e);return N.createElement(Mse.Provider,{value:i},r(i))},Ose={cartesianItems:[],polarItems:[]},_3=yr({name:"graphicalItems",initialState:Ose,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Rt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Si(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Rt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Si(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Rt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Rt()},removePolarGraphicalItem:{reducer(t,e){var n=Si(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Rt()}}}),{addCartesianGraphicalItem:kse,replaceCartesianGraphicalItem:Lse,removeCartesianGraphicalItem:Vse,addPolarGraphicalItem:qfe,removePolarGraphicalItem:Ffe}=_3.actions,Use=_3.reducer,jse=t=>{var e=En(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(kse(t)):n.current!==t&&e(Lse({prev:n.current,next:t})),n.current=t},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(e(Vse(n.current)),n.current=null)},[e]),null},zse=N.memo(jse),Bse=["points"];function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e,n){return(e=Fse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fse(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(null,arguments)}function Hse(t,e){if(t==null)return{};var n,r,i=$se(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kse(t){var{option:e,dotProps:n,className:r}=t;if(N.isValidElement(e))return N.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Ct(r,typeof e!="boolean"?e.className:""),o=n??{},{points:l}=o,u=Hse(o,Bse);return N.createElement(v3,cg({},u,{className:i}))}function Yse(t,e){return t==null?!1:e?!0:t.length===1}function Wse(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:f,zIndex:d=tr.scatter}=t;if(!Yse(e,n))return null;var h=b3(n),m=HY(n),v=e.map((S,A)=>{var T,R,j=m_(m_(m_({r:3},l),m),{},{index:A,cx:(T=S.x)!==null&&T!==void 0?T:void 0,cy:(R=S.y)!==null&&R!==void 0?R:void 0,dataKey:o,value:S.value,payload:S.payload,points:e});return N.createElement(Kse,{key:"dot-".concat(A),option:n,dotProps:j,className:i})}),E={};return u&&f!=null&&(E.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),N.createElement(ca,{zIndex:d},N.createElement(co,cg({className:r},E),v))}function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xse(t){var e=Qse(t,"string");return typeof e=="symbol"?e:e+""}function Qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x3=0,Zse={xAxis:{},yAxis:{},zAxis:{}},E3=yr({name:"cartesianAxis",initialState:Zse,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Rt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Rt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Rt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Rt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Rt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Rt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Rt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Rt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Rt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((o=l[0])!==null&&o!==void 0?o:0))<=1)return;var u=[...l,r].slice(-3);t.yAxis[n]=FM(FM({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:ele,replaceXAxis:tle,removeXAxis:nle,addYAxis:rle,replaceYAxis:ile,removeYAxis:ole,addZAxis:Gfe,replaceZAxis:Hfe,removeZAxis:$fe,updateYAxisWidth:ale}=E3.actions,sle=E3.reducer,lle=ie([Bn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ule=ie([lle,ra,ia],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),dS=()=>De(ule),cle=()=>De(Xie);function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ple=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=g_(g_(g_({},u),zg(i)),XE(i)),d;return N.isValidElement(i)?d=N.cloneElement(i,f):typeof i=="function"?d=i(f):d=N.createElement(v3,f),N.createElement(co,{className:"recharts-active-dot",clipPath:l},d)};function HM(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=tr.activeDot}=t,u=De(dd),f=cle();if(e==null||f==null)return null;var d=e.find(h=>f.includes(h.payload));return Wn(d)?null:N.createElement(ca,{zIndex:l},N.createElement(ple,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var mle=t=>{var{chartData:e}=t,n=En(),r=br();return N.useEffect(()=>r?()=>{}:(n(yM(e)),()=>{n(yM(void 0))}),[e,n,r]),null},$M={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},w3=yr({name:"brush",initialState:$M,reducers:{setBrushSettings(t,e){return e.payload==null?$M:e.payload}}}),{setBrushSettings:Kfe}=w3.actions,gle=w3.reducer;function vle(t){return(t%180+180)%180}var yle=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=vle(i),l=o*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},ble={dots:[],areas:[],lines:[]},S3=yr({name:"referenceElements",initialState:ble,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Si(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Si(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Si(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Yfe,removeDot:Wfe,addArea:Jfe,removeArea:Xfe,addLine:Qfe,removeLine:Zfe}=S3.actions,_le=S3.reducer,xle=N.createContext(void 0),Ele=t=>{var{children:e}=t,[n]=N.useState("".concat(Zf("recharts"),"-clip")),r=dS();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return N.createElement(xle.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:o,height:u,width:l}))),e)};function T3(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function wle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return yle(r,n)}function Sle(t,e,n){var r=n==="width",{x:i,y:o,width:l,height:u}=t;return e===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function pd(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Tle(t,e){return T3(t,e+1)}function Ale(t,e,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=e,f=0,d=1,h=l,m=function(){var S=r==null?void 0:r[f];if(S===void 0)return{v:T3(r,d)};var A=f,T,R=()=>(T===void 0&&(T=n(S,A)),T),j=S.coordinate,L=f===0||pd(t,j,R,h,u);L||(f=0,h=l,d+=1),L&&(h=j+t*(R()/2+i),f+=d)},v;d<=o.length;)if(v=m(),v)return v.v;return[]}function Cle(t,e,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:u,end:f}=e,d=1;d<=l;d++){for(var h=(l-1)%d,m=u,v=!0,E=function(){var B=r[A];if(B==null)return 0;var H=A,F,D=()=>(F===void 0&&(F=n(B,H)),F),O=B.coordinate,k=A===h||pd(t,O,D,m,f);if(!k)return v=!1,1;k&&(m=O+t*(D()/2+i))},S,A=h;A<l&&(S=E(),!(S!==0&&S===1));A+=d);if(v){for(var T=[],R=h;R<l;R+=d){var j=r[R];j!=null&&T.push(j)}return T}}return[]}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Ile(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ile(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Ple(t,"string");return typeof e=="symbol"?e:e+""}function Ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rle(t,e,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=e,{end:f}=e,d=function(v){var E=o[v];if(E==null)return 1;var S=E,A,T=()=>(A===void 0&&(A=n(E,v)),A);if(v===l-1){var R=t*(S.coordinate+t*T()/2-f);o[v]=S=Gn(Gn({},S),{},{tickCoord:R>0?S.coordinate-R*t:S.coordinate})}else o[v]=S=Gn(Gn({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var j=pd(t,S.tickCoord,T,u,f);j&&(f=S.tickCoord-t*(T()/2+i),o[v]=Gn(Gn({},S),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return o}function Mle(t,e,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=e;if(o){var h=r[u-1];if(h!=null){var m=n(h,u-1),v=t*(h.coordinate+t*m/2-d);if(l[u-1]=h=Gn(Gn({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate}),h.tickCoord!=null){var E=pd(t,h.tickCoord,()=>m,f,d);E&&(d=h.tickCoord-t*(m/2+i),l[u-1]=Gn(Gn({},h),{},{isShow:!0}))}}}for(var S=o?u-1:u,A=function(j){var L=l[j];if(L==null)return 1;var B=L,H,F=()=>(H===void 0&&(H=n(L,j)),H);if(j===0){var D=t*(B.coordinate-t*F()/2-f);l[j]=B=Gn(Gn({},B),{},{tickCoord:D<0?B.coordinate-D*t:B.coordinate})}else l[j]=B=Gn(Gn({},B),{},{tickCoord:B.coordinate});if(B.tickCoord!=null){var O=pd(t,B.tickCoord,F,f,d);O&&(f=B.tickCoord+t*(F()/2+i),l[j]=Gn(Gn({},B),{},{isShow:!0}))}},T=0;T<S;T++)A(T);return l}function hS(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(Ne(f)||Ad.isSsr){var v;return(v=Tle(i,Ne(f)?f:0))!==null&&v!==void 0?v:[]}var E=[],S=u==="top"||u==="bottom"?"width":"height",A=h&&S==="width"?qf(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(H,F)=>{var D=typeof d=="function"?d(H.value,F):H.value;return S==="width"?wle(qf(D,{fontSize:e,letterSpacing:n}),A,m):qf(D,{fontSize:e,letterSpacing:n})[S]},R=i[0],j=i[1],L=i.length>=2&&R!=null&&j!=null?Xr(j.coordinate-R.coordinate):1,B=Sle(o,L,S);return f==="equidistantPreserveStart"?Ale(L,B,T,i,l):f==="equidistantPreserveEnd"?Cle(L,B,T,i,l):(f==="preserveStart"||f==="preserveStartEnd"?E=Mle(L,B,T,i,l,f==="preserveStartEnd"):E=Rle(L,B,T,i,l),E.filter(H=>H.isShow))}var Dle=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,l=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,d=l+f+u+(n?r:0);return Math.round(d)}return 0},Ole=["axisLine","width","height","className","hide","ticks","axisType"];function kle(t,e){if(t==null)return{};var n,r,i=Lle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(null,arguments)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){Vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vle(t,e,n){return(e=Ule(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ule(t){var e=jle(t,"string");return typeof e=="symbol"?e:e+""}function jle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:tr.axis};function zle(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var d=Ut(Ut(Ut({},f),Ii(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);d=Ut(Ut({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);d=Ut(Ut({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return N.createElement("line",ml({},d,{className:Ct("recharts-cartesian-axis-line",Fg(u,"className"))}))}function Ble(t,e,n,r,i,o,l,u,f){var d,h,m,v,E,S,A=u?-1:1,T=t.tickSize||l,R=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=h=t.coordinate,v=n+ +!u*i,m=v-A*T,S=m-A*f,E=R;break;case"left":m=v=t.coordinate,h=e+ +!u*r,d=h-A*T,E=d-A*f,S=R;break;case"right":m=v=t.coordinate,h=e+ +u*r,d=h+A*T,E=d+A*f,S=R;break;default:d=h=t.coordinate,v=n+ +u*i,m=v+A*T,S=m+A*f,E=R;break}return{line:{x1:d,y1:m,x2:h,y2:v},tick:{x:E,y:S}}}function qle(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Fle(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Gle(t){var{option:e,tickProps:n,value:r}=t,i,o=Ct(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))i=N.cloneElement(e,Ut(Ut({},n),{},{className:o}));else if(typeof e=="function")i=e(Ut(Ut({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Ct(l,Ase(e))),i=N.createElement(cS,ml({},n,{className:l}),r)}return i}var Hle=N.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:f,tickTextProps:d,orientation:h,mirror:m,x:v,y:E,width:S,height:A,tickSize:T,tickMargin:R,fontSize:j,letterSpacing:L,getTicksConfig:B,events:H,axisType:F}=t,D=hS(Ut(Ut({},B),{},{ticks:n}),j,L),O=qle(h,m),k=Fle(h,m),G=Ii(B),q=zg(r),M={};typeof i=="object"&&(M=i);var V=Ut(Ut({},G),{},{fill:"none"},M),de=D.map(oe=>Ut({entry:oe},Ble(oe,v,E,S,A,h,T,m,R))),ye=de.map(oe=>{var{entry:ve,line:ce}=oe;return N.createElement(co,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},i&&N.createElement("line",ml({},V,ce,{className:Ct("recharts-cartesian-axis-tick-line",Fg(i,"className"))})))}),W=de.map((oe,ve)=>{var ce,_e,{entry:$,tick:te}=oe,pe=Ut(Ut(Ut(Ut({verticalAnchor:k},G),{},{textAnchor:O,stroke:"none",fill:o},te),{},{index:ve,payload:$,visibleTicksCount:D.length,tickFormatter:l,padding:f},d),{},{angle:(ce=(_e=d==null?void 0:d.angle)!==null&&_e!==void 0?_e:G.angle)!==null&&ce!==void 0?ce:0}),me=Ut(Ut({},pe),q);return N.createElement(co,ml({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},CW(H,$,ve)),r&&N.createElement(Gle,{option:r,tickProps:me,value:"".concat(typeof l=="function"?l($.value,ve):$.value).concat(u||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},W.length>0&&N.createElement(ca,{zIndex:tr.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},W)),ye.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},ye))}),$le=N.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:f}=t,d=kle(t,Ole),[h,m]=N.useState(""),[v,E]=N.useState(""),S=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var T;return Dle({ticks:S.current,label:(T=t.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=N.useCallback(T=>{if(T){var R=T.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=R;var j=R[0];if(j){var L=window.getComputedStyle(j),B=L.fontSize,H=L.letterSpacing;(B!==h||H!==v)&&(m(B),E(H))}}},[h,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:N.createElement(ca,{zIndex:t.zIndex},N.createElement(co,{className:Ct("recharts-cartesian-axis",o)},N.createElement(zle,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ii(t)}),N.createElement(Hle,{ref:A,axisType:f,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),N.createElement(Zae,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},N.createElement(use,{label:t.label,labelRef:t.labelRef}),t.children)))}),pS=N.forwardRef((t,e)=>{var n=kr(t,Fo);return N.createElement($le,ml({},n,{ref:e}))});pS.displayName="CartesianAxis";var Kle=["x1","y1","x2","y2","key"],Yle=["offset"],Wle=["xAxisId","yAxisId"],Jle=["xAxisId","yAxisId"];function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Xle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xle(t,e,n){return(e=Qle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(null,arguments)}function fg(t,e){if(t==null)return{};var n,r,i=eue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tue=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=t;return N.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function A3(t){var{option:e,lineItemProps:n}=t,r;if(N.isValidElement(e))r=N.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:l,x2:u,y2:f,key:d}=n,h=fg(n,Kle),m=(i=Ii(h))!==null&&i!==void 0?i:{},{offset:v}=m,E=fg(m,Yle);r=N.createElement("line",tl({},E,{x1:o,y1:l,x2:u,y2:f,fill:"none",key:d}))}return r}function nue(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=fg(t,Wle),f=i.map((d,h)=>{var m=Kn(Kn({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return N.createElement(A3,{key:"line-".concat(h),option:r,lineItemProps:m})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function rue(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=fg(t,Jle),f=i.map((d,h)=>{var m=Kn(Kn({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return N.createElement(A3,{option:r,lineItemProps:m,key:"line-".concat(h)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function iue(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var E=d[v+1],S=E==null,A=S?i+l-m:E-m;if(A<=0)return null;var T=v%e.length;return N.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:A,width:o,stroke:"none",fill:e[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function oue(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var E=d[v+1],S=E==null,A=S?i+l-m:E-m;if(A<=0)return null;var T=v%n.length;return N.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:A,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var aue=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return yL(hS(Kn(Kn(Kn({},Fo),n),{},{ticks:bL(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},sue=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return yL(hS(Kn(Kn(Kn({},Fo),n),{},{ticks:bL(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},lue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:tr.grid};function C3(t){var e=CL(),n=IL(),r=AL(),i=Kn(Kn({},kr(t,lue)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:E}=i,S=br(),A=De(k=>aM(k,"xAxis",o,S)),T=De(k=>aM(k,"yAxis",l,S));if(!po(d)||!po(h)||!Ne(u)||!Ne(f))return null;var R=i.verticalCoordinatesGenerator||aue,j=i.horizontalCoordinatesGenerator||sue,{horizontalPoints:L,verticalPoints:B}=i;if((!L||!L.length)&&typeof j=="function"){var H=v&&v.length,F=j({yAxis:T?Kn(Kn({},T),{},{ticks:H?v:T.ticks}):void 0,width:e??d,height:n??h,offset:r},H?!0:m);jm(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(L=F)}if((!B||!B.length)&&typeof R=="function"){var D=E&&E.length,O=R({xAxis:A?Kn(Kn({},A),{},{ticks:D?E:A.ticks}):void 0,width:e??d,height:n??h,offset:r},D?!0:m);jm(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(B=O)}return N.createElement(ca,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(tue,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(iue,tl({},i,{horizontalPoints:L})),N.createElement(oue,tl({},i,{verticalPoints:B})),N.createElement(nue,tl({},i,{offset:r,horizontalPoints:L,xAxis:A,yAxis:T})),N.createElement(rue,tl({},i,{offset:r,verticalPoints:B,xAxis:A,yAxis:T}))))}C3.displayName="CartesianGrid";var uue={},I3=yr({name:"errorBars",initialState:uue,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ede,replaceErrorBar:tde,removeErrorBar:nde}=I3.actions,cue=I3.reducer;function N3(t,e){var n,r,i=De(d=>sa(d,t)),o=De(d=>la(d,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:vn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:yn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function fue(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=dS(),{needClipX:o,needClipY:l,needClip:u}=N3(e,n);if(!u||!i)return null;var{x:f,y:d,width:h,height:m}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:o?f:f-h/2,y:l?d:d-m/2,width:o?h:h*2,height:l?m:m*2}))}function due(t){var e=zg(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var v_={exports:{}},y_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JM;function hue(){if(JM)return y_;JM=1;var t=Ku();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return y_.useSyncExternalStoreWithSelector=function(f,d,h,m,v){var E=i(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=l(function(){function T(H){if(!R){if(R=!0,j=H,H=m(H),v!==void 0&&S.hasValue){var F=S.value;if(v(F,H))return L=F}return L=H}if(F=L,n(j,H))return F;var D=m(H);return v!==void 0&&v(F,D)?(j=H,F):(j=H,L=D)}var R=!1,j,L,B=h===void 0?null:h;return[function(){return T(d())},B===null?void 0:function(){return T(B())}]},[d,h,m,v]);var A=r(f,E[0],E[1]);return o(function(){S.hasValue=!0,S.value=A},[A]),u(A),A},y_}var XM;function pue(){return XM||(XM=1,v_.exports=hue()),v_.exports}pue();function mue(t){t()}function gue(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mue(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var QM={notify(){},get:()=>[]};function vue(t,e){let n,r=QM,i=0,o=!1;function l(A){h();const T=r.subscribe(A);let R=!1;return()=>{R||(R=!0,T(),m())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return o}function h(){i++,n||(n=t.subscribe(f),r=gue())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=QM)}function v(){o||(o=!0,h())}function E(){o&&(o=!1,m())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>r};return S}var yue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bue=yue(),_ue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xue=_ue(),Eue=()=>bue||xue?N.useLayoutEffect:N.useEffect,wue=Eue();function ZM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Sue(t,e){if(ZM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!ZM(t[n[i]],e[n[i]]))return!1;return!0}var b_=Symbol.for("react-redux-context"),__=typeof globalThis<"u"?globalThis:{};function Tue(){if(!N.createContext)return{};const t=__[b_]??(__[b_]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var Aue=Tue();function Cue(t){const{children:e,context:n,serverState:r,store:i}=t,o=N.useMemo(()=>{const f=vue(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=N.useMemo(()=>i.getState(),[i]);wue(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const u=n||Aue;return N.createElement(u.Provider,{value:o},e)}var Iue=Cue,Nue=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Pue(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function mS(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Nue.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Sue(t[r],e[r]))return!1}else if(!Pue(t[r],e[r]))return!1;return!0}function gS(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:x3}function vS(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:x3}var P3=(t,e,n)=>N5(t,"xAxis",gS(t,e),n),R3=(t,e,n)=>I5(t,"xAxis",gS(t,e),n),M3=(t,e,n)=>N5(t,"yAxis",vS(t,e),n),D3=(t,e,n)=>I5(t,"yAxis",vS(t,e),n),Rue=ie([Dt,P3,M3,R3,D3],(t,e,n,r,i)=>go(t,"xAxis")?Um(e,r,!1):Um(n,i,!1)),Mue=(t,e)=>e,O3=ie([JV,Mue],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),k3=t=>{var e=Dt(t),n=go(e,"xAxis");return n?"yAxis":"xAxis"},Due=(t,e)=>{var n=k3(t);return n==="yAxis"?vS(t,e):gS(t,e)},Oue=(t,e,n)=>o5(t,k3(t),Due(t,e),n),kue=ie([O3,Oue],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=Fw(t);if(!(r==null||i==null)){var o=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=o==null?void 0:o.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),Lue=ie([Dt,P3,M3,R3,D3,kue,kne,Rue,O3,Gne],(t,e,n,r,i,o,l,u,f,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:v}=l;if(!(f==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:E}=f,S;if(E&&E.length>0?S=E:S=h==null?void 0:h.slice(m,v+1),S!=null)return tce({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:f,stackedData:o,displayedData:S,chartBaseValue:d,bandSize:u})}}),Vue=["id"],Uue=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(null,arguments)}function L3(t,e){if(t==null)return{};var n,r,i=jue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zue(t,e,n){return(e=Bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t){var e=que(t,"string");return typeof e=="symbol"?e:e+""}function que(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dg(t,e){return t&&t!=="none"?t:e}var Fue=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:l}=t;return[{inactive:l,dataKey:e,type:o,color:dg(r,i),value:_L(n,e),payload:t}]},Gue=N.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:f,tooltipType:d,id:h}=t,m={dataDefinedOnItem:n,getPosition:rc,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:_L(l,e),hide:u,type:d,color:dg(r,o),unit:f,graphicalItemId:h}};return N.createElement(Cse,{tooltipEntrySettings:m})});function Hue(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:l}=r,u=Ii(r);return N.createElement(Wse,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function $ue(t){var{showLabels:e,children:n,points:r}=t,i=r.map(o=>{var l,u,f={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Au(Au({},f),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return N.createElement(_se,{value:e?i:void 0},n)}function tD(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o}=t,{layout:l,type:u,stroke:f,connectNulls:d,isRange:h}=o,{id:m}=o,v=L3(o,Vue),E=Ii(v),S=ti(v);return N.createElement(N.Fragment,null,(e==null?void 0:e.length)>1&&N.createElement(co,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(Qp,al({},S,{id:m,points:e,connectNulls:d,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&N.createElement(Qp,al({},E,{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:e})),f!=="none"&&h&&N.createElement(Qp,al({},E,{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:n}))),N.createElement(Hue,{points:e,props:v,clipPathId:i}))}function Kue(t){var e,n,{alpha:r,baseLine:i,points:o,strokeWidth:l}=t,u=(e=o[0])===null||e===void 0?void 0:e.y,f=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!Ze(u)||!Ze(f))return null;var d=r*Math.abs(u-f),h=Math.max(...o.map(m=>m.x||0));return Ne(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(m=>m.x||0),h)),Ne(h)?N.createElement("rect",{x:0,y:u<f?u:u-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}function Yue(t){var e,n,{alpha:r,baseLine:i,points:o,strokeWidth:l}=t,u=(e=o[0])===null||e===void 0?void 0:e.x,f=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!Ze(u)||!Ze(f))return null;var d=r*Math.abs(u-f),h=Math.max(...o.map(m=>m.y||0));return Ne(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(m=>m.y||0),h)),Ne(h)?N.createElement("rect",{x:u<f?u:u-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}function Wue(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?N.createElement(Kue,{alpha:e,points:r,baseLine:i,strokeWidth:o}):N.createElement(Yue,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function Jue(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:l,baseLine:u,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:v,onAnimationEnd:E}=r,S=N.useMemo(()=>({points:l,baseLine:u}),[l,u]),A=qL(S,"recharts-area-"),T=uw(),[R,j]=N.useState(!1),L=!R,B=N.useCallback(()=>{typeof E=="function"&&E(),j(!1)},[E]),H=N.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]);if(T==null)return null;var F=i.current,D=o.current;return N.createElement($ue,{showLabels:L,points:l},r.children,N.createElement(BL,{animationId:A,begin:d,duration:h,isActive:f,easing:m,onAnimationEnd:B,onAnimationStart:H,key:A},O=>{if(F){var k=F.length/l.length,G=O===1?l:l.map((M,V)=>{var de=Math.floor(V*k);if(F[de]){var ye=F[de];return Au(Au({},M),{},{x:no(ye.x,M.x,O),y:no(ye.y,M.y,O)})}return M}),q;return Ne(u)?q=no(D,u,O):Wn(u)||fo(u)?q=no(D,0,O):q=u.map((M,V)=>{var de=Math.floor(V*k);if(Array.isArray(D)&&D[de]){var ye=D[de];return Au(Au({},M),{},{x:no(ye.x,M.x,O),y:no(ye.y,M.y,O)})}return M}),O>0&&(i.current=G,o.current=q),N.createElement(tD,{points:G,baseLine:q,needClip:e,clipPathId:n,props:r})}return O>0&&(i.current=l,o.current=u),N.createElement(co,null,f&&N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(Wue,{alpha:O,points:l,baseLine:u,layout:T,strokeWidth:r.strokeWidth}))),N.createElement(co,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(tD,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),N.createElement(wse,{label:r.label}))}function Xue(t){var{needClip:e,clipPathId:n,props:r}=t,i=N.useRef(null),o=N.useRef();return N.createElement(Jue,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o})}class Que extends N.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:o,left:l,needClip:u,xAxisId:f,yAxisId:d,width:h,height:m,id:v,baseLine:E,zIndex:S}=this.props;if(e)return null;var A=Ct("recharts-area",i),T=v,{r:R,strokeWidth:j}=due(n),L=b3(n),B=R*2+j,H=u?"url(#clipPath-".concat(L?"":"dots-").concat(T,")"):void 0;return N.createElement(ca,{zIndex:S},N.createElement(co,{className:A},u&&N.createElement("defs",null,N.createElement(fue,{clipPathId:T,xAxisId:f,yAxisId:d}),!L&&N.createElement("clipPath",{id:"clipPath-dots-".concat(T)},N.createElement("rect",{x:l-B/2,y:o-B/2,width:h+B,height:m+B}))),N.createElement(Xue,{needClip:u,clipPathId:T,props:this.props})),N.createElement(HM,{points:r,mainColor:dg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:H}),this.props.isRange&&Array.isArray(E)&&N.createElement(HM,{points:E,mainColor:dg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:H}))}}var V3={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:tr.area};function Zue(t){var e,n=kr(t,V3),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:f,fill:d,fillOpacity:h,hide:m,isAnimationActive:v,legendType:E,stroke:S,xAxisId:A,yAxisId:T}=n,R=L3(n,Uue),j=ic(),L=X5(),{needClip:B}=N3(A,T),H=br(),{points:F,isRange:D,baseLine:O}=(e=De(de=>Lue(de,t.id,H)))!==null&&e!==void 0?e:{},k=dS();if(j!=="horizontal"&&j!=="vertical"||k==null||L!=="AreaChart"&&L!=="ComposedChart")return null;var{height:G,width:q,x:M,y:V}=k;return!F||!F.length?null:N.createElement(Que,al({},R,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:l,baseLine:O,connectNulls:u,dot:f,fill:d,fillOpacity:h,height:G,hide:m,layout:j,isAnimationActive:v==="auto"?!Ad.isSsr:v,isRange:D,legendType:E,needClip:B,points:F,stroke:S,width:q,left:M,top:V,xAxisId:A,yAxisId:T}))}var ece=(t,e,n,r,i)=>{var o=n??e;if(Ne(o))return o;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return o==="dataMin"?d:o==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]};function tce(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:l,xAxis:u,yAxis:f,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:v,bandSize:E}=t,S=i&&i.length,A=ece(o,l,n,u,f),T=o==="horizontal",R=!1,j=d.map((B,H)=>{var F,D,O,k;if(S)k=i[h+H];else{var G=Un(B,r);Array.isArray(G)?(k=G,R=!0):k=[A,G]}var q=(F=(D=k)===null||D===void 0?void 0:D[1])!==null&&F!==void 0?F:null,M=q==null||S&&!e&&Un(B,r)==null;if(T){var V;return{x:sP({axis:u,ticks:m,bandSize:E,entry:B,index:H}),y:M?null:(V=f.scale.map(q))!==null&&V!==void 0?V:null,value:k,payload:B}}return{x:M?null:(O=u.scale.map(q))!==null&&O!==void 0?O:null,y:sP({axis:f,ticks:v,bandSize:E,entry:B,index:H}),value:k,payload:B}}),L;return S||R?L=j.map(B=>{var H,F=Array.isArray(B.value)?B.value[0]:null;if(T){var D;return{x:B.x,y:F!=null&&B.y!=null&&(D=f.scale.map(F))!==null&&D!==void 0?D:null,payload:B.payload}}return{x:F!=null&&(H=u.scale.map(F))!==null&&H!==void 0?H:null,y:B.y,payload:B.payload}}):L=T?f.scale.map(A):u.scale.map(A),{points:j,baseLine:L??0,isRange:R}}function nce(t){var e=kr(t,V3),n=br();return N.createElement(Dse,{id:e.id,type:"area"},r=>N.createElement(N.Fragment,null,N.createElement(Ise,{legendPayload:Fue(e)}),N.createElement(Gue,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),N.createElement(zse,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:kX(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),N.createElement(Zue,al({},e,{id:r}))))}var U3=N.memo(nce,mS);U3.displayName="Area";var rce=["domain","range"],ice=["domain","range"];function nD(t,e){if(t==null)return{};var n,r,i=oce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rD(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function j3(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=nD(t,rce),{domain:o,range:l}=e,u=nD(e,ice);return!rD(n,o)||!rD(r,l)?!1:mS(i,u)}var ace=["type"],sce=["dangerouslySetInnerHTML","ticks","scale"],lce=["id","scale"];function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(null,arguments)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){uce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uce(t,e,n){return(e=cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=fce(t,"string");return typeof e=="symbol"?e:e+""}function fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wx(t,e){if(t==null)return{};var n,r,i=dce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hce(t){var e=En(),n=N.useRef(null),r=uw(),{type:i}=t,o=Wx(t,ace),l=gv(r,"xAxis",i),u=N.useMemo(()=>{if(l!=null)return oD(oD({},o),{},{type:l})},[o,l]);return N.useLayoutEffect(()=>{u!=null&&(n.current===null?e(ele(u)):n.current!==u&&e(tle({prev:n.current,next:u})),n.current=u)},[u,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(nle(n.current)),n.current=null)},[e]),null}var pce=t=>{var{xAxisId:e,className:n}=t,r=De(EL),i=br(),o="xAxis",l=De(R=>C5(R,o,e,i)),u=De(R=>zre(R,e)),f=De(R=>$re(R,e)),d=De(R=>$V(R,e));if(u==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:v}=t,E=Wx(t,sce),{id:S,scale:A}=d,T=Wx(d,lce);return N.createElement(pS,Yx({},E,T,{x:f.x,y:f.y,width:u.width,height:u.height,className:Ct("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},mce={allowDataOverflow:vn.allowDataOverflow,allowDecimals:vn.allowDecimals,allowDuplicatedCategory:vn.allowDuplicatedCategory,angle:vn.angle,axisLine:Fo.axisLine,height:vn.height,hide:!1,includeHidden:vn.includeHidden,interval:vn.interval,label:!1,minTickGap:vn.minTickGap,mirror:vn.mirror,orientation:vn.orientation,padding:vn.padding,reversed:vn.reversed,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,tickLine:Fo.tickLine,tickSize:Fo.tickSize,type:vn.type,xAxisId:0},gce=t=>{var e=kr(t,mce);return N.createElement(N.Fragment,null,N.createElement(hce,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),N.createElement(pce,e))},z3=N.memo(gce,j3);z3.displayName="XAxis";var vce=["type"],yce=["dangerouslySetInnerHTML","ticks","scale"],bce=["id","scale"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(null,arguments)}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=Ece(t,"string");return typeof e=="symbol"?e:e+""}function Ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xx(t,e){if(t==null)return{};var n,r,i=wce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sce(t){var e=En(),n=N.useRef(null),r=uw(),{type:i}=t,o=Xx(t,vce),l=gv(r,"yAxis",i),u=N.useMemo(()=>{if(l!=null)return sD(sD({},o),{},{type:l})},[l,o]);return N.useLayoutEffect(()=>{u!=null&&(n.current===null?e(rle(u)):n.current!==u&&e(ile({prev:n.current,next:u})),n.current=u)},[u,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(ole(n.current)),n.current=null)},[e]),null}function Tce(t){var{yAxisId:e,className:n,width:r,label:i}=t,o=N.useRef(null),l=N.useRef(null),u=De(EL),f=br(),d=En(),h="yAxis",m=De(F=>Wre(F,e)),v=De(F=>Yre(F,e)),E=De(F=>C5(F,h,e,f)),S=De(F=>KV(F,e));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!m||fS(i)||N.isValidElement(i)||S==null)){var F=o.current;if(F){var D=F.getCalculatedWidth();Math.round(m.width)!==Math.round(D)&&d(ale({id:e,width:D}))}}},[E,m,d,i,e,r,S]),m==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:A,ticks:T,scale:R}=t,j=Xx(t,yce),{id:L,scale:B}=S,H=Xx(S,bce);return N.createElement(pS,Jx({},j,H,{ref:o,labelRef:l,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Ct("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:E,axisType:h}))}var Ace={allowDataOverflow:yn.allowDataOverflow,allowDecimals:yn.allowDecimals,allowDuplicatedCategory:yn.allowDuplicatedCategory,angle:yn.angle,axisLine:Fo.axisLine,hide:!1,includeHidden:yn.includeHidden,interval:yn.interval,label:!1,minTickGap:yn.minTickGap,mirror:yn.mirror,orientation:yn.orientation,padding:yn.padding,reversed:yn.reversed,scale:yn.scale,tick:yn.tick,tickCount:yn.tickCount,tickLine:Fo.tickLine,tickSize:Fo.tickSize,type:yn.type,width:yn.width,yAxisId:0},Cce=t=>{var e=kr(t,Ace);return N.createElement(N.Fragment,null,N.createElement(Sce,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),N.createElement(Tce,e))},B3=N.memo(Cce,j3);B3.displayName="YAxis";var Ice=(t,e)=>e,yS=ie([Ice,Dt,GV,Tn,H5,ua,uoe,Bn],goe),bS=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},q3=ni("mouseClick"),F3=Ed();F3.startListening({actionCreator:q3,effect:(t,e)=>{var n=t.payload,r=yS(e.getState(),bS(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(lie({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Qx=ni("mouseMove"),G3=Ed(),jp=null;G3.startListening({actionCreator:Qx,effect:(t,e)=>{var n=t.payload;jp!==null&&cancelAnimationFrame(jp);var r=bS(n);jp=requestAnimationFrame(()=>{var i=e.getState(),o=eS(i,i.tooltip.settings.shared);if(o==="axis"){var l=yS(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(L5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(k5())}jp=null})}});function Nce(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var lD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},H3=yr({name:"rootProps",initialState:lD,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:lD.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Pce=H3.reducer,{updateOptions:Rce}=H3.actions,Mce=null,Dce={updatePolarOptions:(t,e)=>e.payload},$3=yr({name:"polarOptions",initialState:Mce,reducers:Dce}),{updatePolarOptions:rde}=$3.actions,Oce=$3.reducer,K3=ni("keyDown"),Y3=ni("focus"),_S=Ed();_S.startListening({actionCreator:K3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=tS(i,hc(n),Dd(n),kd(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=ua(n);if(o==="Enter"){var d=lg(n,"axis","hover",String(i.index));e.dispatch(Fx({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var h=Zre(n),m=h==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,E=u+v*m;if(!(f==null||E>=f.length||E<0)){var S=lg(n,"axis","hover",String(E));e.dispatch(Fx({active:!0,activeIndex:E.toString(),activeCoordinate:S}))}}}}}});_S.startListening({actionCreator:Y3,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=lg(n,"axis","hover",String(o));e.dispatch(Fx({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Wr=ni("externalEvent"),W3=Ed(),x_=new Map;W3.startListening({actionCreator:Wr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=x_.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:Yie(u),activeDataKey:$ie(u),activeIndex:dd(u),activeLabel:Y5(u),activeTooltipIndex:dd(u),isTooltipActive:Wie(u)};n(f,r)}finally{x_.delete(i)}});x_.set(i,l)}}});var kce=ie([fc],t=>t.tooltipItemPayloads),Lce=ie([kce,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),J3=ni("touchMove"),X3=Ed();X3.startListening({actionCreator:J3,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=eS(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=yS(r,bS({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&e.dispatch(L5({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(qX),m=(u=d.getAttribute(FX))!==null&&u!==void 0?u:void 0,v=dc(r).find(A=>A.id===m);if(h==null||v==null||m==null)return;var{dataKey:E}=v,S=Lce(r,h,m);e.dispatch(sie({activeDataKey:E,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var Vce=F4({brush:gle,cartesianAxis:sle,chartData:Yoe,errorBars:cue,graphicalItems:Use,layout:AX,legend:kQ,options:Foe,polarAxis:Tse,polarOptions:Oce,referenceElements:_le,rootProps:Pce,tooltip:uie,zIndex:Poe}),Uce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return XJ({reducer:Vce,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([F3.middleware,G3.middleware,_S.middleware,W3.middleware,X3.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(iL({type:"raf"}))},devTools:{serialize:{replacer:Nce},name:"recharts-".concat(n)}})};function jce(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=br(),o=N.useRef(null);if(i)return n;o.current==null&&(o.current=Uce(e,r));var l=ew;return N.createElement(Iue,{context:l,store:o.current},n)}function zce(t){var{layout:e,margin:n}=t,r=En(),i=br();return N.useEffect(()=>{i||(r(wX(e)),r(EX(n)))},[r,i,e,n]),null}var Bce=N.memo(zce,mS);function qce(t){var e=En();return N.useEffect(()=>{e(Rce(t))},[e,t]),null}function uD(t){var{zIndex:e,isPanorama:n}=t,r=N.useRef(null),i=En();return N.useLayoutEffect(()=>(r.current&&i(Ioe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Noe({zIndex:e,isPanorama:n}))}),[i,e,n]),N.createElement("g",{tabIndex:-1,ref:r})}function cD(t){var{children:e,isPanorama:n}=t,r=De(yoe);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return N.createElement(N.Fragment,null,i.map(l=>N.createElement(uD,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>N.createElement(uD,{key:l,zIndex:l,isPanorama:n})))}var Fce=["children"];function Gce(t,e){if(t==null)return{};var n,r,i=Hce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(null,arguments)}var $ce={width:"100%",height:"100%",display:"block"},Kce=N.forwardRef((t,e)=>{var n=CL(),r=IL(),i=VL();if(!po(n)||!po(r))return null;var{children:o,otherAttributes:l,title:u,desc:f}=t,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),N.createElement(c4,hg({},l,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:$ce,ref:e}),o)}),Yce=t=>{var{children:e}=t,n=De(rv);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return N.createElement(c4,{width:r,height:i,x:l,y:o},e)},fD=N.forwardRef((t,e)=>{var{children:n}=t,r=Gce(t,Fce),i=br();return i?N.createElement(Yce,null,N.createElement(cD,{isPanorama:!0},n)):N.createElement(Kce,hg({ref:e},r),N.createElement(cD,{isPanorama:!1},n))});function Wce(){var t=En(),[e,n]=N.useState(null),r=De(BX);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Ze(o)&&o!==r&&t(TX(o))}},[e,t,r]),n}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){Xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e,n){return(e=Qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t){var e=Zce(t,"string");return typeof e=="symbol"?e:e+""}function Zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ns.apply(null,arguments)}var efe=()=>(rae(),null);function pg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var tfe=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[o,l]=N.useState({containerWidth:pg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:pg((r=t.style)===null||r===void 0?void 0:r.height)}),u=N.useCallback((d,h)=>{l(m=>{var v=Math.round(d),E=Math.round(h);return m.containerWidth===v&&m.containerHeight===E?m:{containerWidth:v,containerHeight:E}})},[]),f=N.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var v=S=>{var A=S[0];if(A!=null){var{width:T,height:R}=A.contentRect;u(T,R)}},E=new ResizeObserver(v);E.observe(d),i.current=E}},[e,u]);return N.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),N.createElement(N.Fragment,null,N.createElement(Sd,{width:o.containerWidth,height:o.containerHeight}),N.createElement("div",ns({ref:f},t)))}),nfe=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=N.useState({containerWidth:pg(n),containerHeight:pg(r)}),l=N.useCallback((f,d)=>{o(h=>{var m=Math.round(f),v=Math.round(d);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),u=N.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[e,l]);return N.createElement(N.Fragment,null,N.createElement(Sd,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",ns({ref:u},t)))}),rfe=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(Sd,{width:n,height:r}),N.createElement("div",ns({ref:e},t)))}),ife=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?N.createElement(nfe,ns({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?N.createElement(rfe,ns({},t,{width:n,height:r,ref:e})):N.createElement(N.Fragment,null,N.createElement(Sd,{width:n,height:r}),N.createElement("div",ns({ref:e},t)))});function ofe(t){return t?tfe:ife}var afe=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:E,onTouchMove:S,onTouchStart:A,style:T,width:R,responsive:j,dispatchTouchEvents:L=!0}=t,B=N.useRef(null),H=En(),[F,D]=N.useState(null),[O,k]=N.useState(null),G=Wce(),q=sw(),M=(q==null?void 0:q.width)>0?q.width:R,V=(q==null?void 0:q.height)>0?q.height:i,de=N.useCallback(ae=>{G(ae),typeof e=="function"&&e(ae),D(ae),k(ae),ae!=null&&(B.current=ae)},[G,e,D,k]),ye=N.useCallback(ae=>{H(q3(ae)),H(Wr({handler:o,reactEvent:ae}))},[H,o]),W=N.useCallback(ae=>{H(Qx(ae)),H(Wr({handler:d,reactEvent:ae}))},[H,d]),oe=N.useCallback(ae=>{H(k5()),H(Wr({handler:h,reactEvent:ae}))},[H,h]),ve=N.useCallback(ae=>{H(Qx(ae)),H(Wr({handler:m,reactEvent:ae}))},[H,m]),ce=N.useCallback(()=>{H(Y3())},[H]),_e=N.useCallback(ae=>{H(K3(ae.key))},[H]),$=N.useCallback(ae=>{H(Wr({handler:l,reactEvent:ae}))},[H,l]),te=N.useCallback(ae=>{H(Wr({handler:u,reactEvent:ae}))},[H,u]),pe=N.useCallback(ae=>{H(Wr({handler:f,reactEvent:ae}))},[H,f]),me=N.useCallback(ae=>{H(Wr({handler:v,reactEvent:ae}))},[H,v]),Ee=N.useCallback(ae=>{H(Wr({handler:A,reactEvent:ae}))},[H,A]),Me=N.useCallback(ae=>{L&&H(J3(ae)),H(Wr({handler:S,reactEvent:ae}))},[H,L,S]),Ae=N.useCallback(ae=>{H(Wr({handler:E,reactEvent:ae}))},[H,E]),bt=ofe(j);return N.createElement(n3.Provider,{value:F},N.createElement(QY.Provider,{value:O},N.createElement(bt,{width:M??(T==null?void 0:T.width),height:V??(T==null?void 0:T.height),className:Ct("recharts-wrapper",r),style:Jce({position:"relative",cursor:"default",width:M,height:V},T),onClick:ye,onContextMenu:$,onDoubleClick:te,onFocus:ce,onKeyDown:_e,onMouseDown:pe,onMouseEnter:W,onMouseLeave:oe,onMouseMove:ve,onMouseUp:me,onTouchEnd:Ae,onTouchMove:Me,onTouchStart:Ee,ref:de},N.createElement(efe,null),n)))}),sfe=["width","height","responsive","children","className","style","compact","title","desc"];function lfe(t,e){if(t==null)return{};var n,r,i=ufe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ufe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cfe=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:f,title:d,desc:h}=t,m=lfe(t,sfe),v=Ii(m);return f?N.createElement(N.Fragment,null,N.createElement(Sd,{width:n,height:r}),N.createElement(fD,{otherAttributes:v,title:d,desc:h},o)):N.createElement(afe,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(fD,{otherAttributes:v,title:d,desc:h,ref:e},N.createElement(Ele,null,o)))});function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(null,arguments)}var ffe={top:5,right:5,bottom:5,left:5},dfe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ffe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},hfe=N.forwardRef(function(e,n){var r,i=kr(e.categoricalChartProps,dfe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return N.createElement(jce,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},N.createElement(mle,{chartData:d.data}),N.createElement(Bce,{layout:i.layout,margin:i.margin}),N.createElement(qce,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(cfe,Zx({},i,{ref:n})))}),pfe=["axis"],mfe=N.forwardRef((t,e)=>N.createElement(hfe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pfe,tooltipPayloadSearcher:Boe,categoricalChartProps:t,ref:e}));const hD=(t,e,n)=>{const r=[],i=new Date,o=e.split("").reduce((u,f)=>u+f.charCodeAt(0),0),l=t||0;for(let u=n;u>=0;u--){const f=new Date(i.getTime()-u*36e5),d=Math.sin(o+u)*.05*l,h=Math.max(1e-5,l+d);r.push({time:f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),price:parseFloat(h.toFixed(6)),timestamp:f.getTime()})}return r.length>0&&(r[r.length-1].price=l),r},pD=({title:t,data:e,color:n,currencySymbol:r,unitLabel:i})=>{const o=e&&e.length>0?e[e.length-1].price??0:0,l=e&&e.length>1?e[e.length-2].price??o:o,u=o-l,f=l!==0?u/l*100:0;return x.jsxs("div",{className:"glass-panel p-6 rounded-3xl border border-white/5 flex flex-col h-[380px] group hover:border-white/10 transition-all duration-500",children:[x.jsxs("div",{className:"flex justify-between items-start mb-6",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"text-[10px] font-mono text-neutral-500 uppercase tracking-[0.3em] font-black mb-1",children:t}),x.jsxs("div",{className:"flex items-baseline gap-2",children:[x.jsxs("span",{className:"text-2xl font-display font-black text-white",children:[r,o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})]}),x.jsxs("span",{className:"text-[10px] text-neutral-500 font-mono",children:["/ ",i]})]})]}),x.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg text-[10px] font-mono font-bold ${u>=0?"text-emerald-500 bg-emerald-500/10":"text-red-500 bg-red-500/10"}`,children:[u>=0?x.jsx(vY,{size:12}):x.jsx(mY,{size:12}),Math.abs(f).toFixed(2),"%"]})]}),x.jsx("div",{className:"flex-1 w-full min-h-0",children:x.jsx(vQ,{width:"100%",height:"100%",children:x.jsxs(mfe,{data:e,children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:`color-${t}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[x.jsx("stop",{offset:"5%",stopColor:n,stopOpacity:.3}),x.jsx("stop",{offset:"95%",stopColor:n,stopOpacity:0})]})}),x.jsx(C3,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.03)",vertical:!1}),x.jsx(z3,{dataKey:"time",hide:!0}),x.jsx(B3,{hide:!0,domain:["auto","auto"]}),x.jsx(fae,{contentStyle:{backgroundColor:"#0a0a0a",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px",fontSize:"10px"},itemStyle:{color:"#fff"},labelStyle:{color:"#666",marginBottom:"4px"}}),x.jsx(U3,{type:"monotone",dataKey:"price",stroke:n,strokeWidth:2,fillOpacity:1,fill:`url(#color-${t})`,animationDuration:2e3})]})})}),x.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5 flex justify-between items-center text-[9px] font-mono text-neutral-600 uppercase tracking-widest",children:[x.jsx("span",{children:"Volatility: Mainframe Correlated"}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx(hY,{size:10,className:"text-neutral-500 animate-pulse"}),x.jsx("span",{children:"Real-time System Logic"})]})]})]})},gfe=({user:t})=>{const[e,n]=N.useState(1),[r,i]=N.useState({totalPoints:0,totalSpades:0,vaultValue:0,activeOperatives:0});N.useEffect(()=>{(async()=>{const[L,B]=await Promise.all([ke.getAllUsers(),ke.getArtPieces()]),H=L.reduce((D,O)=>({points:D.points+(O.totalPoints??0),spades:D.spades+(O.spadesBalance??0),ops:D.ops+(O.isGuest?0:1)}),{points:0,spades:0,ops:0}),F=B.reduce((D,O)=>D+(O.ownerId?0:O.price??0),0);i({totalPoints:H.points,totalSpades:H.spades,vaultValue:F,activeOperatives:H.ops})})()},[t.totalPoints,t.spadesBalance]);const o=rs[t.currentCard],l=t.currentCard==="A",u=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],f=u.indexOf(t.currentCard),d=l?"A":u[f+1]||"A",h=rs[d],m=l?100:Math.min(99.9,Math.max(0,((t.totalPoints??0)-o.minPoints)/(h.minPoints-o.minPoints)*100)),v=N.useMemo(()=>{const L=r.totalPoints??0,B=r.vaultValue??0,H=L/1e7,F=B/5e5;return 1+H+F},[r]),E=N.useMemo(()=>{const j=v||1,L=r.totalPoints??0,B=r.activeOperatives??0,H=j/dr.POINT_TO_SPADE_CONVERSION,F=L>0?B/100:1;return H*(1+F*.01)},[v,r]),S=N.useMemo(()=>hD(v,`spade-${r.totalSpades}-${r.totalPoints}`,24),[v,r.totalSpades,r.totalPoints]),A=N.useMemo(()=>hD(E,`point-${r.totalPoints}-${r.vaultValue}`,24),[E,r.totalPoints,r.vaultValue]),T=async()=>{const j=await ke.purchaseStreakFreeze(t.studentId);alert(j.message)},R=async j=>{const L=await ke.convertCurrency(t.studentId,e,j);alert(L.message)};return x.jsxs("div",{className:"space-y-12 pb-32 animate-in fade-in duration-700 slide-in-from-bottom-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 border-b border-white/5 pb-8",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx("h3",{className:"text-brand-red font-mono text-[10px] uppercase tracking-[0.4em] font-bold",children:"Operational"}),x.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500 animate-pulse"})]}),x.jsx("h1",{className:"text-4xl md:text-5xl font-display font-black text-white tracking-tighter uppercase italic",children:t.username})]}),x.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[x.jsxs("div",{className:"glass-panel px-6 py-3 rounded-2xl border border-orange-500/20 bg-orange-500/5 flex items-center gap-3",children:[x.jsx(Yp,{className:`w-6 h-6 ${t.streak>0?"text-orange-500 fill-orange-500 animate-pulse":"text-neutral-700"}`}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[9px] text-neutral-500 font-bold uppercase tracking-widest",children:"Streak"}),x.jsx("p",{className:"text-xl font-display font-black text-white",children:t.streak||0})]})]}),x.jsxs("div",{className:"glass-panel px-6 py-3 rounded-2xl border border-white/10 flex items-center gap-3",children:[x.jsx(ox,{size:18,className:"text-neutral-400"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[9px] text-neutral-500 font-bold uppercase tracking-widest",children:"Points"}),x.jsx("p",{className:"text-xl font-mono font-bold text-white",children:(t.totalPoints??0).toLocaleString()})]})]}),x.jsxs("div",{className:"glass-panel px-6 py-3 rounded-2xl border border-brand-gold/30 bg-brand-gold/5 flex items-center gap-3 group hover:border-brand-gold transition-all",children:[x.jsx("span",{className:"font-display font-black text-xl text-brand-gold",children:""}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[9px] text-brand-gold font-bold uppercase tracking-widest",children:"Spades"}),x.jsx("p",{className:"text-xl font-display font-black text-white",children:(t.spadesBalance??0).toLocaleString()})]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[x.jsxs("div",{className:"lg:col-span-7 glass-panel rounded-3xl p-10 relative overflow-hidden group",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-neutral-800/30 to-black/30 z-0"}),x.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5 text-9xl font-display font-bold text-white select-none group-hover:scale-105 transition-transform duration-1000 z-0",children:t.currentCard.replace("","")}),x.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center sm:items-start gap-10",children:[x.jsx("div",{className:"transform hover:scale-105 transition-transform duration-500 hover:rotate-2 shadow-2xl shadow-black/50",children:x.jsx(Bo,{rankId:t.currentCard,size:"lg"})}),x.jsxs("div",{className:"flex-1 w-full text-center sm:text-left",children:[x.jsxs("div",{className:"inline-block px-4 py-1.5 bg-brand-red/10 border border-brand-red/20 rounded-full text-brand-red text-[11px] font-black uppercase tracking-[0.2em] mb-4",children:[o.tier," Clearance"]}),x.jsx("h2",{className:"text-4xl font-display font-black text-white mb-3 tracking-tight",children:o.name}),x.jsx("p",{className:"text-neutral-400 text-base leading-relaxed mb-10 max-w-sm italic",children:l?"Ultimate authority attained. The Spades Protocol recognize your absolute sovereignty.":`Tier: ${o.tier}. High-value engagement detected.`}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-[11px] font-mono font-bold text-neutral-500 uppercase tracking-widest",children:[x.jsx("span",{className:"text-brand-gold",children:"Point Progression"}),x.jsx("span",{children:l?"MAX":`${Math.round(m)}%`})]}),x.jsx("div",{className:"h-2 bg-neutral-900 rounded-full overflow-hidden border border-white/5 p-0.5",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-brand-red via-brand-crimson to-brand-gold rounded-full shadow-[0_0_15px_rgba(220,38,38,0.5)]",style:{width:`${m}%`,transition:"width 1.5s cubic-bezier(0.4, 0, 0.2, 1)"}})})]})]})]})]}),x.jsxs("div",{className:"lg:col-span-5 space-y-6",children:[x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-blue-500/20 bg-blue-500/5",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-widest flex items-center gap-2",children:[x.jsx(kY,{className:"text-blue-400 w-5 h-5"}),"Streak Freezes"]}),x.jsxs("span",{className:"text-[10px] font-mono text-neutral-500 uppercase",children:[t.streakFreezes??0," / ",dr.MAX_STREAK_FREEZES]})]}),x.jsx("div",{className:"flex gap-4 mb-6",children:[...Array(2)].map((j,L)=>x.jsx("div",{className:`flex-1 h-12 rounded-2xl border-2 flex items-center justify-center transition-all ${(t.streakFreezes??0)>L?"border-blue-500/40 bg-blue-500/20 text-blue-400 shadow-glow":"border-dashed border-neutral-800"}`,children:(t.streakFreezes??0)>L?x.jsx(Yp,{size:24}):x.jsx("div",{className:"w-1 h-1 rounded-full bg-neutral-800"})},L))}),x.jsxs("button",{onClick:T,disabled:(t.streakFreezes??0)>=2||(t.totalPoints??0)<dr.STREAK_FREEZE_POINT_COST,className:"w-full py-4 rounded-xl bg-white text-black font-black uppercase text-[11px] tracking-widest hover:bg-blue-400 transition-all disabled:opacity-30 shadow-xl",children:["Buy Freeze (",dr.STREAK_FREEZE_POINT_COST.toLocaleString()," PTS)"]})]}),x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/5 space-y-6",children:[x.jsxs("h3",{className:"text-sm font-black text-white uppercase tracking-widest flex items-center gap-2",children:[x.jsx(DY,{className:"text-brand-gold w-5 h-5"}),"Currency Exchange"]}),x.jsxs("div",{className:"flex items-center gap-4 bg-black/40 p-1 rounded-2xl border border-white/10",children:[x.jsx("input",{type:"number",value:e,onChange:j=>n(Math.max(1,parseInt(j.target.value))),className:"bg-transparent text-white font-mono font-bold w-full pl-4 outline-none text-xl"}),x.jsx("div",{className:"px-4 py-2 text-brand-gold font-mono font-black text-sm uppercase",children:"Spades"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("button",{onClick:()=>R("p2s"),className:"py-3 bg-white/5 border border-white/10 rounded-xl text-[10px] font-black uppercase text-neutral-400 hover:text-white hover:bg-white/10 transition-all leading-tight",children:["Convert P to S ",x.jsx("br",{})," (-",(dr.POINT_TO_SPADE_CONVERSION*e).toLocaleString()," P)"]}),x.jsxs("button",{onClick:()=>R("s2p"),className:"py-3 bg-brand-gold/10 border border-brand-gold/30 rounded-xl text-[10px] font-black uppercase text-brand-gold hover:bg-brand-gold hover:text-black transition-all leading-tight",children:["Convert S to P ",x.jsx("br",{})," (+",(dr.SPADE_TO_POINT_CONVERSION*e).toLocaleString()," P)"]})]})]})]})]}),x.jsxs("section",{className:"space-y-10 pt-10 border-t border-white/5",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("h3",{className:"text-neutral-500 font-mono text-[10px] uppercase tracking-[0.4em] font-black",children:"System Mechanics Manual"}),x.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-neutral-800 to-transparent"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/5 space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-3 text-orange-500",children:[x.jsx(Yp,{size:20}),x.jsx("h4",{className:"text-lg font-display font-black text-white uppercase italic",children:"Daily Streaks"})]}),x.jsxs("ul",{className:"text-sm text-neutral-400 space-y-2 list-disc list-inside",children:[x.jsx("li",{children:"Log in every 24 hours to keep your streak active."}),x.jsx("li",{children:"Missing a day resets your streak to 0."}),x.jsxs("li",{children:["Active ",x.jsx("span",{className:"text-blue-400",children:"Streak Freezes"})," protect you once per missed day."]})]})]}),x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/5 space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-3 text-neutral-400",children:[x.jsx(ox,{size:20}),x.jsx("h4",{className:"text-lg font-display font-black text-white uppercase italic",children:"Power Points"})]}),x.jsxs("ul",{className:"text-sm text-neutral-400 space-y-2 list-disc list-inside",children:[x.jsx("li",{children:"Earned via focus sessions, voting, and network activity."}),x.jsx("li",{children:"Used for rank tiers, shop items, and streak protection."}),x.jsxs("li",{children:["Convertible to premium Spades at a ",dr.POINT_TO_SPADE_CONVERSION.toLocaleString(),":1 ratio."]})]})]}),x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/5 space-y-4 flex flex-col",children:[x.jsxs("div",{className:"flex items-center gap-3 text-brand-gold mb-4",children:[x.jsx("span",{className:"font-display font-black text-xl",children:""}),x.jsx("h4",{className:"text-lg font-display font-black text-white uppercase italic",children:"Spades Currency"})]}),x.jsxs("ul",{className:"text-sm text-neutral-400 space-y-2 list-disc list-inside mb-6 flex-1",children:[x.jsx("li",{children:"Dynamic currency: Value fluctuates based on protocol liquidity and network activity."}),x.jsxs("li",{children:["Amazon gift cards accepted via ",x.jsx("strong",{children:"@hydraulic-bolt"})," on Discord for manual balance updates."]}),x.jsxs("li",{children:["Spades convert to Points at a 1:",dr.SPADE_TO_POINT_CONVERSION.toLocaleString()," ratio."]})]}),x.jsxs("div",{className:"bg-brand-gold/5 border border-brand-gold/20 rounded-2xl p-4 flex flex-col items-center justify-center animate-in zoom-in duration-1000",children:[x.jsx("p",{className:"text-[10px] font-mono font-black text-brand-gold uppercase tracking-widest mb-1",children:"Live Valuation"}),x.jsxs("div",{className:"text-2xl font-display font-black text-white",children:["1   $",v.toFixed(2)]}),x.jsx("p",{className:"text-[8px] text-neutral-600 uppercase font-bold mt-1 tracking-tighter",children:"Verified by Mainframe"})]})]})]})]}),x.jsxs("section",{className:"space-y-10 pt-16 border-t border-white/5 pb-20",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("h3",{className:"text-brand-gold font-mono text-[10px] uppercase tracking-[0.4em] font-black",children:"Protocol Market Index"}),x.jsx("div",{className:"h-px w-32 bg-gradient-to-r from-brand-gold to-transparent"})]}),x.jsxs("div",{className:"flex items-center gap-2 text-[9px] font-mono text-neutral-500 uppercase tracking-widest",children:[x.jsx(BY,{size:14,className:"text-brand-gold"}),"Mainframe Correlated Valuation"]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsx(pD,{title:"Spades () Valuation",data:S,color:"#e2b15b",currencySymbol:"$",unitLabel:"Spade"}),x.jsx(pD,{title:"Power Points (P) Market Index",data:A,color:"#d92323",currencySymbol:"$",unitLabel:"Point"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/5 bg-black/40",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-6 text-brand-gold",children:[x.jsx(EY,{size:18}),x.jsx("h4",{className:"text-xs font-black uppercase tracking-widest",children:"Circulating Data Terminal"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-[9px] text-neutral-500 uppercase font-mono tracking-widest",children:"Total Spades ()"}),x.jsx("p",{className:"text-lg font-display font-bold text-white tracking-tight",children:(r.totalSpades??0).toLocaleString()})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-[9px] text-neutral-500 uppercase font-mono tracking-widest",children:"Total Points (P)"}),x.jsx("p",{className:"text-lg font-display font-bold text-white tracking-tight",children:(r.totalPoints??0).toLocaleString()})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-[9px] text-neutral-500 uppercase font-mono tracking-widest",children:"Vault Liquidity (P)"}),x.jsx("p",{className:"text-lg font-display font-bold text-white tracking-tight",children:(r.vaultValue??0).toLocaleString()})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:"text-[9px] text-neutral-500 uppercase font-mono tracking-widest",children:"Active Nodes"}),x.jsx("p",{className:"text-lg font-display font-bold text-white tracking-tight",children:(r.activeOperatives??0).toLocaleString()})]})]})]}),x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/5 bg-black/40",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4 text-brand-gold",children:[x.jsx(TY,{size:18}),x.jsx("h4",{className:"text-xs font-black uppercase tracking-widest",children:"Index Analysis"})]}),x.jsxs("ul",{className:"space-y-3 text-[11px] text-neutral-400 font-light leading-relaxed",children:[x.jsxs("li",{className:"flex gap-2",children:[x.jsx("span",{className:"text-brand-gold font-bold",children:"1."}),x.jsxs("span",{children:[x.jsx("strong",{children:"Real-Time Correlation:"})," These graphs are directly tied to the total points, spades, and vault assets currently held by all members."]})]}),x.jsxs("li",{className:"flex gap-2",children:[x.jsx("span",{className:"text-brand-gold font-bold",children:"2."}),x.jsxs("span",{children:[x.jsx("strong",{children:"Economic Stability:"})," Fluctuations represent calculated variance based on the ratio of active nodes to total system wealth."]})]}),x.jsxs("li",{className:"flex gap-2",children:[x.jsx("span",{className:"text-brand-gold font-bold",children:"3."}),x.jsxs("span",{children:[x.jsx("strong",{children:"Scarcity Metrics:"})," As the Vault empties and Points circulate, the base valuation of both currencies rises relative to the USD peg."]})]})]})]})]}),x.jsx("div",{className:"glass-panel p-8 rounded-3xl border border-white/5 bg-black/40 flex items-center justify-center italic text-center",children:x.jsx("p",{className:"text-[11px] text-neutral-500 leading-relaxed font-light",children:"* Market values are derived from actual system state. Fluctuations reflect real-time engagement cycles across the Discord ecosystem. Values are deterministic and recalculated upon every mainframe heartbeat."})})]})]})},vfe=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0);return N.useEffect(()=>{(async()=>{const l=(await ke.getAllUsers()).filter(u=>!u.isGuest).sort((u,f)=>(f.totalPoints??0)-(u.totalPoints??0));e(l),r(!1)})()},[]),n?x.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[x.jsx("div",{className:"w-12 h-1 bg-neutral-800 rounded-full overflow-hidden",children:x.jsx("div",{className:"w-full h-full bg-brand-red animate-shine",style:{backgroundSize:"200% auto"}})}),x.jsx("p",{className:"text-xs font-mono text-neutral-500 uppercase tracking-widest",children:"Accessing Mainframe..."})]}):x.jsxs("div",{className:"pb-32 animate-in fade-in duration-700",children:[x.jsxs("div",{className:"flex items-center justify-between mb-12",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-display font-bold text-white tracking-wide",children:"Elite Rankings"}),x.jsx("p",{className:"text-neutral-500 text-xs mt-1 font-mono uppercase tracking-widest",children:"Global Competition  Season 1"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"w-2 h-2 bg-brand-red rounded-full animate-pulse"}),x.jsx("span",{className:"text-[10px] font-mono text-brand-red font-bold",children:"LIVE"})]})]}),x.jsxs("div",{className:"flex items-end justify-center gap-4 md:gap-8 mb-16 px-4",children:[t[1]&&x.jsxs("div",{className:"flex flex-col items-center group relative w-1/3 max-w-[140px]",children:[x.jsx("div",{className:"absolute inset-0 bg-white/5 blur-2xl rounded-full opacity-0 group-hover:opacity-20 transition-opacity"}),x.jsx(Bo,{rankId:t[1].currentCard,size:"md",className:"mb-4 transform group-hover:-translate-y-4 transition-transform duration-500 relative z-10"}),x.jsxs("div",{className:"w-full bg-gradient-to-b from-neutral-400 to-neutral-600 h-32 flex flex-col items-center justify-start pt-4 rounded-t-xl relative overflow-hidden border-t border-white/20",children:[x.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-white/50"}),x.jsx("span",{className:"text-4xl font-display font-black text-white/20 mb-1",children:"2"}),x.jsx("span",{className:"text-xs font-bold text-white truncate w-24 text-center px-2",children:t[1].username}),x.jsx("span",{className:"text-[10px] text-neutral-300 font-mono mt-1",children:(t[1].totalPoints??0).toLocaleString()})]})]}),t[0]&&x.jsxs("div",{className:"flex flex-col items-center group relative w-1/3 max-w-[160px] z-10 -mx-2",children:[x.jsx("div",{className:"absolute inset-0 bg-brand-gold/10 blur-3xl rounded-full opacity-50 animate-pulse-slow"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 text-brand-gold text-2xl animate-float filter drop-shadow-[0_0_10px_rgba(251,191,36,0.5)]",children:""}),x.jsx(Bo,{rankId:t[0].currentCard,size:"lg",className:"mb-6 transform group-hover:-translate-y-4 transition-transform duration-500 shadow-[0_0_40px_rgba(251,191,36,0.2)]"})]}),x.jsxs("div",{className:"w-full bg-gradient-to-b from-brand-gold to-yellow-700 h-44 flex flex-col items-center justify-start pt-6 rounded-t-xl relative overflow-hidden border-t border-white/30 shadow-2xl",children:[x.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-white/60"}),x.jsx("span",{className:"text-5xl font-display font-black text-white/20 mb-2",children:"1"}),x.jsx("span",{className:"text-sm font-bold text-white truncate w-32 text-center px-2",children:t[0].username}),x.jsxs("span",{className:"text-[10px] text-yellow-100 font-mono font-bold mt-1 bg-black/20 px-2 py-0.5 rounded",children:[(t[0].totalPoints??0).toLocaleString()," PTS"]})]})]}),t[2]&&x.jsxs("div",{className:"flex flex-col items-center group relative w-1/3 max-w-[140px]",children:[x.jsx("div",{className:"absolute inset-0 bg-brand-red/5 blur-2xl rounded-full opacity-0 group-hover:opacity-20 transition-opacity"}),x.jsx(Bo,{rankId:t[2].currentCard,size:"md",className:"mb-4 transform group-hover:-translate-y-4 transition-transform duration-500 relative z-10"}),x.jsxs("div",{className:"w-full bg-gradient-to-b from-brand-darkRed to-neutral-900 h-24 flex flex-col items-center justify-start pt-4 rounded-t-xl relative overflow-hidden border-t border-white/20",children:[x.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-white/40"}),x.jsx("span",{className:"text-4xl font-display font-black text-white/20 mb-1",children:"3"}),x.jsx("span",{className:"text-xs font-bold text-neutral-300 truncate w-24 text-center px-2",children:t[2].username}),x.jsx("span",{className:"text-[10px] text-neutral-500 font-mono mt-1",children:(t[2].totalPoints??0).toLocaleString()})]})]})]}),x.jsxs("div",{className:"glass-panel border border-white/5 rounded-2xl overflow-hidden backdrop-blur-md",children:[x.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-3 border-b border-white/5 text-[10px] font-mono text-neutral-500 uppercase tracking-widest",children:[x.jsx("div",{className:"col-span-1 text-center",children:"Rank"}),x.jsx("div",{className:"col-span-7",children:"Agent"}),x.jsx("div",{className:"col-span-4 text-right",children:"Score"})]}),t.slice(3).map((i,o)=>x.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center px-6 py-4 border-b border-white/5 hover:bg-white/5 transition-colors group",children:[x.jsx("div",{className:"col-span-1 text-center font-mono font-bold text-neutral-600 group-hover:text-white transition-colors",children:o+4}),x.jsxs("div",{className:"col-span-7 flex items-center gap-4",children:[x.jsx("div",{className:"w-8 h-10 rounded bg-neutral-900 border border-white/5 flex items-center justify-center text-xs font-bold text-neutral-400 group-hover:border-brand-red/30 transition-colors",children:i.currentCard.replace("","")}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("div",{className:"font-bold text-sm text-neutral-300 group-hover:text-white truncate transition-colors",children:i.username}),x.jsx("div",{className:"text-[10px] text-neutral-600 group-hover:text-neutral-500",children:i.house})]})]}),x.jsx("div",{className:"col-span-4 text-right",children:x.jsx("div",{className:"font-mono text-brand-gold font-bold",children:(i.totalPoints??0).toLocaleString()})})]},i.studentId))]})]})},yfe=({currentUser:t,refreshTrigger:e,onActivity:n})=>{const[r,i]=N.useState([]),[o,l]=N.useState(""),[u,f]=N.useState(!1),[d,h]=N.useState({}),[m,v]=N.useState({}),[E,S]=N.useState([]),T=["2","3","4","5","6","7","8","9","10","J","Q","K","A"].indexOf(t.currentCard),R=T>9,j=t.isAdmin||T>=11;N.useEffect(()=>{L()},[e]);const L=async()=>{const[M,V]=await Promise.all([ke.getPosts(),ke.getAllUsers()]),de={};V.forEach(W=>de[W.studentId]=W),h(de);const ye=M.filter(W=>W.category==="proposal");i(ye)},B=M=>{var de;let V=0;return M.upvotes.forEach(ye=>{const W=d[ye],oe=W?rs[W.currentCard].voteWeight:1;V+=oe}),(de=M.downvotes)==null||de.forEach(ye=>{const W=d[ye],oe=W?rs[W.currentCard].voteWeight:1;V-=oe}),V},H=async()=>{if(!o.trim()||!R)return;f(!0);const M=await Sm(o),V=await o4(M);let de="approved";V.safe||(de="flagged");const ye={id:`proposal-${Date.now()}`,authorId:t.studentId,authorName:t.username,authorRank:t.currentCard,content:M,category:"proposal",status:de,upvotes:[],downvotes:[],comments:[],createdAt:new Date().toISOString()};await ke.savePost(ye),l(""),f(!1),L(),n()},F=async(M,V)=>{if(M.status==="passed"||M.status==="failed"||M.upvotes.includes(t.studentId)||M.downvotes&&M.downvotes.includes(t.studentId))return;const de=V==="up";let ye=[...M.upvotes],W=[...M.downvotes||[]];de?ye.push(t.studentId):W.push(t.studentId);const oe={...M,upvotes:ye,downvotes:W};await ke.savePost(oe);const ve=await ke.getUser(t.studentId);if(ve){const ce={...ve,totalPoints:ve.totalPoints+nm.VOTE_ACTION,stats:{...ve.stats,votesGiven:ve.stats.votesGiven+1}};await ke.saveUser(ce),n()}L()},D=async(M,V)=>{const ye={...M,status:V==="pass"?"passed":"failed"};await ke.savePost(ye),L()},O=async(M,V)=>{M.stopPropagation(),M.preventDefault(),i(de=>de.filter(ye=>ye.id!==V)),await ke.deletePost(V),n()},k=async M=>{const V=m[M];if(!(V!=null&&V.trim()))return;const de=r.find(ve=>ve.id===M);if(!de)return;const ye=await Sm(V),W={id:`c-${Date.now()}`,authorId:t.studentId,authorName:t.username,content:ye.trim(),createdAt:new Date().toISOString()},oe={...de,comments:[...de.comments||[],W]};await ke.savePost(oe),v({...m,[M]:""}),L()},G=async(M,V,de)=>{M.stopPropagation(),M.preventDefault(),i(ye=>ye.map(W=>W.id===V&&W.comments?{...W,comments:W.comments.filter(oe=>oe.id!==de)}:W)),await ke.deleteComment(V,de)},q=M=>{E.includes(M)?S(E.filter(V=>V!==M)):S([...E,M])};return x.jsxs("div",{className:"max-w-4xl mx-auto space-y-12 pb-32 animate-in fade-in duration-700",children:[x.jsxs("div",{className:"text-center py-8 relative",children:[x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-brand-gold/5 blur-[80px] rounded-full pointer-events-none"}),x.jsx("h1",{className:"text-4xl md:text-5xl font-display font-black text-white tracking-tight relative z-10 mb-2",children:"THE COUNCIL CHAMBER"}),x.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.4em] relative z-10",children:"High Table Policy Proposals"})]}),R?x.jsxs("div",{className:"glass-panel rounded-2xl border border-brand-gold/20 p-8 shadow-[0_0_50px_rgba(0,0,0,0.5)] relative overflow-hidden group",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-brand-gold to-transparent"}),x.jsxs("div",{className:"flex gap-8",children:[x.jsx("div",{className:"hidden sm:block",children:x.jsx(Bo,{rankId:t.currentCard,size:"md",className:"shadow-[0_0_20px_rgba(251,191,36,0.1)]"})}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[x.jsx("span",{className:"text-brand-gold font-display font-bold uppercase tracking-widest text-sm",children:"Submit New Directive"}),x.jsx("div",{className:"px-2 py-1 rounded bg-brand-gold/10 border border-brand-gold/20 text-[10px] text-brand-gold font-mono uppercase",children:"Clearance Verified"})]}),x.jsx("textarea",{value:o,onChange:M=>l(M.target.value),placeholder:"Outline your policy for the future of the community...",className:"w-full bg-black/50 border border-brand-gold/20 rounded-xl p-6 text-base text-white placeholder-neutral-600 focus:border-brand-gold focus:ring-1 focus:ring-brand-gold/50 focus:outline-none resize-none h-40 transition-all font-serif italic leading-relaxed"}),x.jsx("div",{className:"flex justify-end mt-6",children:x.jsx("button",{onClick:H,disabled:u||!o.trim(),className:`px-8 py-3 rounded-lg font-bold text-xs uppercase tracking-[0.2em] transition-all duration-300 ${u||!o.trim()?"bg-neutral-900 text-neutral-600 cursor-not-allowed border border-neutral-800":"bg-brand-gold hover:bg-yellow-400 text-black shadow-[0_0_20px_rgba(251,191,36,0.4)] hover:shadow-[0_0_30px_rgba(251,191,36,0.6)]"}`,children:u?"Submitting...":"Table Proposal"})})]})]})]}):x.jsxs("div",{className:"glass-panel p-6 rounded-xl border border-white/5 text-center flex flex-col items-center gap-4",children:[x.jsx("svg",{className:"w-8 h-8 text-neutral-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),x.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest",children:"Proposal Submission Restricted to Jack+ Clearance"})]}),x.jsxs("div",{className:"space-y-8",children:[r.map(M=>{var te,pe,me;const V=B(M),de=M.status==="passed",ye=M.status==="failed",W=!de&&!ye,oe=M.upvotes.includes(t.studentId)||M.downvotes&&M.downvotes.includes(t.studentId),ve=M.authorId===t.studentId,ce=d[M.authorId],_e=(ce==null?void 0:ce.username)||M.authorName,$=(ce==null?void 0:ce.currentCard)||M.authorRank;return x.jsxs("div",{className:`glass-panel border rounded-2xl p-8 transition-all duration-500 group relative overflow-visible ${de?"border-emerald-500/30 bg-emerald-950/10":ye?"border-red-500/30 bg-red-950/10":"border-brand-gold/10 hover:border-brand-gold/30"}`,children:[(t.isAdmin||ve)&&x.jsx("button",{onClick:Ee=>O(Ee,M.id),className:"absolute top-4 right-4 z-50 p-2 bg-black hover:bg-red-500 text-neutral-500 hover:text-white rounded-lg transition-all border border-white/10 hover:border-red-500 shadow-xl cursor-pointer",title:"Delete Proposal",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),de&&x.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 rotate-12 text-6xl text-emerald-500 font-black border-4 border-emerald-500 rounded-lg pointer-events-none",children:"PASSED"}),ye&&x.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 -rotate-12 text-6xl text-red-500 font-black border-4 border-red-500 rounded-lg pointer-events-none",children:"REJECTED"}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-8 relative z-10",children:[x.jsxs("div",{className:"flex md:flex-col items-center gap-4 md:gap-2 justify-center md:justify-start min-w-[60px]",children:[x.jsx("button",{onClick:()=>F(M,"up"),disabled:!W||oe,className:`p-2 rounded-full transition-all duration-200 ${!W||oe?"opacity-30 cursor-not-allowed":"hover:scale-110"} ${M.upvotes.includes(t.studentId)?"text-green-500 bg-green-500/10":"text-neutral-500 hover:text-green-400 hover:bg-white/5"}`,title:oe?"Vote Cast Locked":"Vote Yes",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 15l7-7 7 7"})})}),x.jsxs("span",{className:`text-2xl font-display font-bold ${V>0?"text-brand-gold":V<0?"text-brand-red":"text-white"}`,children:[V>0?"+":"",V]}),x.jsx("button",{onClick:()=>F(M,"down"),disabled:!W||oe,className:`p-2 rounded-full transition-all duration-200 ${!W||oe?"opacity-30 cursor-not-allowed":"hover:scale-110"} ${(te=M.downvotes)!=null&&te.includes(t.studentId)?"text-red-500 bg-red-500/10":"text-neutral-500 hover:text-red-400 hover:bg-white/5"}`,title:oe?"Vote Cast Locked":"Vote No",children:x.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 9l-7 7-7-7"})})})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"flex justify-between items-start mb-6",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Bo,{rankId:$,size:"sm",className:"w-12 h-16 shadow-lg border border-brand-gold/20"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-display font-bold text-xl text-white tracking-wide",children:_e}),x.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[x.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded border font-bold uppercase tracking-wider ${de?"text-emerald-500 bg-emerald-500/10 border-emerald-500/20":ye?"text-red-500 bg-red-500/10 border-red-500/20":"text-brand-gold bg-brand-gold/10 border-brand-gold/20"}`,children:de?"Enacted":ye?"Failed":"Proposal"}),x.jsxs("span",{className:"text-white bg-black/50 border border-white/10 px-2 py-0.5 rounded text-[10px] font-mono",children:["Influence: ",B(M)>0?"Positive":"Negative"]})]})]})]})}),x.jsx("p",{className:"text-neutral-200 text-lg leading-relaxed font-light whitespace-pre-wrap border-l-2 border-brand-gold/20 pl-6 mb-8",children:M.content}),j&&W&&x.jsxs("div",{className:"flex justify-end gap-4 border-t border-white/5 pt-6 mb-6",children:[x.jsx("button",{onClick:()=>D(M,"fail"),className:"px-4 py-2 border border-red-500/30 text-red-500 hover:bg-red-500 hover:text-white rounded text-xs font-bold uppercase tracking-widest transition-all",children:"Reject Motion"}),x.jsx("button",{onClick:()=>D(M,"pass"),className:"px-4 py-2 border border-emerald-500/30 text-emerald-500 hover:bg-emerald-500 hover:text-white rounded text-xs font-bold uppercase tracking-widest transition-all",children:"Pass Motion"})]}),x.jsxs("div",{className:"border-t border-white/5 pt-4",children:[x.jsxs("button",{onClick:()=>q(M.id),className:"text-xs text-neutral-500 font-bold uppercase tracking-widest hover:text-white flex items-center gap-2 mb-4",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),E.includes(M.id)?"Hide Deliberation":`View Deliberation (${((pe=M.comments)==null?void 0:pe.length)||0})`]}),E.includes(M.id)&&x.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[x.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:[(me=M.comments)==null?void 0:me.map(Ee=>{const Me=t.isAdmin||Ee.authorId===t.studentId,Ae=d[Ee.authorId],bt=(Ae==null?void 0:Ae.username)||Ee.authorName;return x.jsxs("div",{className:"bg-white/5 p-3 rounded-lg group/comment relative hover:bg-white/10 transition-colors",children:[Me&&x.jsx("button",{onClick:ae=>G(ae,M.id,Ee.id),className:"absolute top-2 right-2 bg-black text-neutral-600 hover:text-red-500 p-1.5 rounded transition-colors z-50 cursor-pointer border border-white/5",title:"Delete Comment",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),x.jsxs("div",{className:"flex justify-between items-baseline mb-1 mr-8",children:[x.jsx("span",{className:"text-brand-gold text-xs font-bold",children:bt}),x.jsx("span",{className:"text-[10px] text-neutral-600 font-mono",children:new Date(Ee.createdAt).toLocaleDateString()})]}),x.jsx("p",{className:"text-sm text-neutral-300 pr-6",children:Ee.content})]},Ee.id)}),(!M.comments||M.comments.length===0)&&x.jsx("div",{className:"text-center text-neutral-600 text-xs italic py-4",children:"No remarks recorded."})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:m[M.id]||"",onChange:Ee=>v({...m,[M.id]:Ee.target.value}),placeholder:"Add your remark...",className:"flex-1 bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-brand-gold outline-none",onKeyDown:Ee=>Ee.key==="Enter"&&k(M.id)}),x.jsx("button",{onClick:()=>k(M.id),className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg text-xs font-bold uppercase",children:"Send"})]})]})]})]})]})]},M.id)}),r.length===0&&x.jsxs("div",{className:"text-center py-24 glass-panel rounded-2xl border-dashed border-2 border-white/10",children:[x.jsx("p",{className:"text-neutral-500 font-display font-bold text-2xl mb-2",children:"Chamber Empty"}),x.jsx("p",{className:"text-neutral-600 font-mono text-xs uppercase tracking-widest",children:"No policies currently tabled"})]})]})]})},bfe=({currentUser:t,onActivity:e})=>{const[n,r]=N.useState("operatives"),[i,o]=N.useState([]),[l,u]=N.useState([]),[f,d]=N.useState(null),[h,m]=N.useState(!0),[v,E]=N.useState(""),[S,A]=N.useState(null),[T,R]=N.useState({points:0,spades:0,rank:"2",username:""});N.useEffect(()=>{j()},[n]);const j=async()=>{m(!0);const[M,V,de]=await Promise.all([ke.getAllUsers(),ke.getPurchaseLogs(),ke.getSettings()]);o(M),u(V),d(de),m(!1)},L=async(M,V)=>{await ke.updateSettings({[M]:V}),j()},B=async M=>{await ke.markDelivered(M),j()},H=async M=>{if(M.studentId==="ace of spades"){alert("PROTOCOL OVERRIDE: Cannot restrict the System Ace.");return}const V=!M.isBanned;confirm(`${V?"Lock":"Unlock"} account for member ${M.studentId}?`)&&(await ke.updateUserStatus(M.studentId,{isBanned:V}),await j(),e())},F=M=>{A(M.studentId),R({points:M.totalPoints,spades:M.spadesBalance||0,rank:M.currentCard,username:M.username,password:""})},D=async M=>{await ke.updateUserStatus(M,{totalPoints:T.points,spadesBalance:T.spades,currentCard:T.rank,currentRank:rs[T.rank].name,username:T.username}),T.password&&T.password.length>=8&&await ke.updatePassword(M,T.password),A(null),await j(),e()},O=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],k=i.filter(M=>M.studentId.toLowerCase().includes(v.toLowerCase())||M.username.toLowerCase().includes(v.toLowerCase())),G=l.filter(M=>!M.delivered).length,q=(M,V)=>{const de=i.find(ye=>ye.studentId===M);return de?de.username:V};return x.jsxs("div",{className:"space-y-8 animate-in fade-in duration-700 pb-32",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-brand-obsidian p-8 border border-white/5 rounded-3xl shadow-2xl gap-6 relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:x.jsx("svg",{className:"w-32 h-32",fill:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{d:"M12 2L1 21h22L12 2zm0 3.45l8.15 14.1H3.85L12 5.45zM11 16h2v2h-2v-2zm0-7h2v5h-2V9z"})})}),x.jsxs("div",{className:"relative z-10",children:[x.jsx("h1",{className:"text-4xl font-display font-black text-white uppercase italic",children:"Ace Command"}),x.jsx("p",{className:"text-[10px] text-brand-red font-mono uppercase tracking-[0.4em] font-bold",children:"System Overlord Terminal"})]}),x.jsx("div",{className:"flex gap-2 bg-black/40 p-1.5 rounded-xl border border-white/5 relative z-10",children:["operatives","deliveries","protocol"].map(M=>x.jsxs("button",{onClick:()=>r(M),className:`px-6 py-2.5 text-[10px] font-bold uppercase rounded-lg transition-all flex items-center gap-2 ${n===M?"bg-brand-red text-white shadow-lg":"text-neutral-500 hover:text-white hover:bg-white/5"}`,children:[M,M==="deliveries"&&G>0&&x.jsx("span",{className:"w-4 h-4 bg-white text-brand-red rounded-full flex items-center justify-center text-[8px] animate-pulse",children:G})]},M))})]}),n==="deliveries"&&x.jsxs("div",{className:"space-y-6 max-w-5xl",children:[x.jsxs("h3",{className:"text-brand-gold font-bold uppercase tracking-[0.3em] text-xs mb-8 ml-2 flex items-center gap-3",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-brand-gold animate-pulse"}),"Vault Requisition Logs"]}),x.jsxs("div",{className:"space-y-4",children:[l.length===0&&x.jsx("div",{className:"p-20 text-center glass-panel rounded-3xl border-dashed border-2 border-white/5 opacity-20",children:x.jsx("p",{className:"text-sm font-mono uppercase tracking-widest",children:"No active requisitions recorded."})}),l.map(M=>x.jsxs("div",{className:`p-8 rounded-3xl border transition-all duration-500 flex flex-col md:flex-row items-center justify-between gap-6 relative overflow-hidden ${M.delivered?"bg-black/40 border-white/5 opacity-50 grayscale":"bg-brand-obsidian border-brand-red/20 shadow-[0_0_30px_rgba(217,35,35,0.05)]"}`,children:[x.jsxs("div",{className:"flex-1 space-y-4 text-center md:text-left",children:[x.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start",children:[x.jsx("div",{className:`w-2 h-2 rounded-full ${M.delivered?"bg-neutral-700":"bg-brand-red animate-pulse"}`}),x.jsxs("span",{className:"text-[10px] font-mono text-neutral-500 uppercase tracking-widest",children:["LOG_REF: ",M.id]})]}),x.jsxs("p",{className:"text-lg font-display text-white leading-relaxed font-light",children:["Member ",x.jsx("span",{className:"text-brand-gold font-bold",children:q(M.buyerId,M.buyerName)})," requisitioned ",x.jsxs("span",{className:"text-white bg-white/10 px-2 py-0.5 rounded font-bold",children:['"',M.artTitle,'"']})," for ",x.jsxs("span",{className:"text-brand-gold font-bold",children:[M.price," ",M.currencyUsed.toUpperCase()]}),"."]}),x.jsxs("p",{className:"text-[9px] text-neutral-600 font-mono uppercase tracking-[0.2em]",children:["Identity: ",M.buyerId]})]}),x.jsx("div",{className:"shrink-0",children:M.delivered?x.jsxs("div",{className:"px-8 py-4 bg-white/5 border border-white/10 rounded-xl flex items-center gap-3 text-emerald-500 text-[10px] font-black uppercase tracking-[0.2em]",children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Requisition Filled"]}):x.jsx("button",{onClick:()=>B(M.id),className:"px-8 py-4 bg-emerald-600 hover:bg-emerald-500 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-xl shadow-2xl shadow-emerald-900/20 transition-all active:scale-95",children:"Confirm Delivery"})})]},M.id))]})]}),n==="operatives"&&x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex gap-4",children:x.jsx("input",{type:"text",placeholder:"Search by Identity or Username...",value:v,onChange:M=>E(M.target.value),className:"flex-1 bg-black/50 border border-white/10 rounded-2xl p-5 text-white font-mono placeholder-neutral-700 focus:border-brand-red outline-none transition-all shadow-inner"})}),x.jsx("div",{className:"grid grid-cols-1 gap-4",children:k.map(M=>x.jsx("div",{className:`glass-panel p-6 rounded-2xl border ${M.isBanned?"border-red-500/30 bg-red-950/5":"border-white/5"} transition-all hover:bg-white/2`,children:S===M.studentId?x.jsxs("div",{className:"space-y-4 p-4 animate-in slide-in-from-left-2",children:[x.jsx("h3",{className:"text-xs font-bold text-brand-red uppercase tracking-widest mb-4 italic",children:"Override Member Identity"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] uppercase font-bold text-neutral-500 ml-1",children:"Username"}),x.jsx("input",{type:"text",value:T.username,onChange:V=>R({...T,username:V.target.value}),className:"w-full bg-black p-3 border border-white/10 rounded-xl text-sm text-white focus:border-brand-red outline-none"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] uppercase font-bold text-neutral-500 ml-1",children:"Points"}),x.jsx("input",{type:"number",value:T.points,onChange:V=>R({...T,points:parseInt(V.target.value)}),className:"w-full bg-black p-3 border border-white/10 rounded-xl text-sm text-white font-mono focus:border-brand-red outline-none"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] uppercase font-bold text-neutral-500 ml-1",children:"Spades"}),x.jsx("input",{type:"number",value:T.spades,onChange:V=>R({...T,spades:parseInt(V.target.value)}),className:"w-full bg-black p-3 border border-white/10 rounded-xl text-sm text-white font-mono focus:border-brand-red outline-none"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] uppercase font-bold text-neutral-500 ml-1",children:"Rank Card"}),x.jsx("select",{value:T.rank,onChange:V=>R({...T,rank:V.target.value}),className:"w-full bg-black p-3 border border-white/10 rounded-xl text-sm text-white focus:border-brand-red outline-none",children:O.map(V=>x.jsx("option",{value:V,children:V},V))})]})]}),x.jsxs("div",{className:"flex gap-4 justify-end pt-4",children:[x.jsx("button",{onClick:()=>A(null),className:"px-6 py-2 text-[10px] font-black text-neutral-500 uppercase tracking-widest",children:"Abort"}),x.jsx("button",{onClick:()=>D(M.studentId),className:"px-10 py-3 bg-emerald-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-emerald-500 transition-all",children:"Execute Identity Update"})]})]}):x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsx("div",{className:"transform group-hover:scale-110 transition-transform",children:x.jsx(Bo,{rankId:M.currentCard,size:"sm"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-display font-black text-white text-xl tracking-tight leading-none italic",children:M.username}),x.jsxs("p",{className:"text-[10px] text-neutral-500 font-mono uppercase tracking-[0.2em] mt-2",children:[M.currentRank,"  ",M.totalPoints.toLocaleString()," P  ",M.spadesBalance||0," S"]}),M.isBanned&&x.jsxs("div",{className:"flex items-center gap-1.5 mt-3",children:[x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"}),x.jsx("span",{className:"text-[8px] font-black text-red-500 uppercase tracking-[0.3em] border border-red-500/30 px-2 py-0.5 rounded-full bg-red-500/5",children:"Account Locked"})]})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx("button",{onClick:()=>F(M),className:"p-3 bg-white/5 hover:bg-white/10 rounded-xl text-neutral-400 hover:text-white transition-all shadow-xl border border-white/5",title:"Edit Data",children:x.jsx(RY,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>H(M),className:`p-3 rounded-xl border transition-all shadow-xl flex items-center justify-center ${M.isBanned?"bg-red-600 text-white border-red-500 hover:bg-red-700":"bg-emerald-600 text-white border-emerald-500 hover:bg-emerald-700"}`,title:M.isBanned?"Unlock Account":"Lock Account",children:M.isBanned?x.jsx(NY,{className:"w-5 h-5"}):x.jsx(CY,{className:"w-5 h-5"})})]})]})},M.studentId))})]}),n==="protocol"&&f&&x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:x.jsxs("div",{className:"glass-panel p-10 rounded-[32px] border border-white/5 space-y-8 shadow-2xl",children:[x.jsxs("h3",{className:"text-xl font-display font-black text-white uppercase tracking-[0.2em] border-b border-white/5 pb-6 flex items-center gap-3 italic",children:[x.jsx("div",{className:"w-2 h-8 bg-brand-red"}),"Network Infrastructure"]}),x.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 rounded-2xl border border-white/5",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Emergency Lockdown"}),x.jsx("p",{className:"text-[10px] text-neutral-500 font-mono mt-1",children:"Freezes all system activity immediately."})]}),x.jsx("button",{onClick:()=>L("emergencyLockdown",!f.emergencyLockdown),className:`w-14 h-7 rounded-full transition-all relative ${f.emergencyLockdown?"bg-red-600":"bg-neutral-800"}`,children:x.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow-lg transition-all ${f.emergencyLockdown?"left-8":"left-1"}`})})]}),x.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20 rounded-2xl border border-white/5",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-widest",children:"Guest Access"}),x.jsx("p",{className:"text-[10px] text-neutral-500 font-mono mt-1",children:"Allows read-only access for unregistered nodes."})]}),x.jsx("button",{onClick:()=>L("allowGuestAccess",!f.allowGuestAccess),className:`w-14 h-7 rounded-full transition-all relative ${f.allowGuestAccess?"bg-emerald-600":"bg-neutral-800"}`,children:x.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white shadow-lg transition-all ${f.allowGuestAccess?"left-8":"left-1"}`})})]})]})})]})},_fe=({expiresAt:t,onExpire:e})=>{const[n,r]=N.useState("");return N.useEffect(()=>{const i=()=>{const l=new Date().getTime(),u=new Date(t).getTime()-l;if(u<0)return e(),"EXPIRED";const f=Math.floor(u%(1e3*60*60*24)/(1e3*60*60)),d=Math.floor(u%(1e3*60*60)/(1e3*60)),h=Math.floor(u%(1e3*60)/1e3);return`${f.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`},o=setInterval(()=>{r(i())},1e3);return r(i()),()=>clearInterval(o)},[t,e]),x.jsxs("div",{className:"text-[10px] font-mono font-bold text-brand-red bg-black/80 px-2 py-1 rounded border border-brand-red/50 backdrop-blur-md shadow-lg",children:["EXPIRES IN: ",n]})};function xfe({currentUser:t,onPurchase:e}){const[n,r]=N.useState([]),[i,o]=N.useState(!0),[l,u]=N.useState(!1),[f,d]=N.useState({title:"",imageUrl:"",artistId:"",description:"",price:1e3,spadesPrice:1,allowPoints:!0,allowSpades:!1,itemType:"asset",durationHours:168});N.useEffect(()=>{h()},[]);const h=async()=>{o(!0);const S=await ke.getArtPieces(),A=new Date().getTime(),T=S.filter(R=>new Date(R.expiresAt).getTime()>A);r(T),o(!1)},m=async S=>{if(S.preventDefault(),!f.allowPoints&&!f.allowSpades){alert("Protocol Error: You must enable at least one currency for listing.");return}const A=new Date;A.setHours(A.getHours()+f.durationHours);const T={id:`art-${Date.now()}`,title:f.title,imageUrl:f.imageUrl||"https://images.unsplash.com/photo-1614850523296-d8c1af93d400?q=80&w=800&auto=format&fit=crop",studentArtistId:f.artistId||t.username,description:f.description,price:f.allowPoints?f.price:0,spadesPrice:f.allowSpades?f.spadesPrice:0,allowPoints:f.allowPoints,allowSpades:f.allowSpades,itemType:f.itemType,ownerId:null,ownerName:null,createdAt:new Date().toISOString(),expiresAt:A.toISOString()};await ke.uploadArt(T),u(!1),d({title:"",imageUrl:"",artistId:"",description:"",price:1e3,spadesPrice:1,allowPoints:!0,allowSpades:!1,itemType:"asset",durationHours:168}),h()},v=async(S,A)=>{const T=await ke.purchaseArt(t.studentId,S,A);alert(T.message),T.success&&(e(),h())},E=async(S,A)=>{S.preventDefault(),S.stopPropagation(),confirm("Confirm permanent removal?")&&(await ke.deleteArt(A),h())};return x.jsxs("div",{className:"pb-32 space-y-12 animate-in fade-in duration-1000 relative",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-brand-obsidian p-10 rounded-[40px] border border-white/5 relative overflow-hidden shadow-2xl",children:[x.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:x.jsx(jY,{className:"w-48 h-48"})}),x.jsxs("div",{className:"relative z-10 text-center md:text-left",children:[x.jsx("h1",{className:"text-5xl md:text-7xl font-display font-black text-white tracking-tighter uppercase italic",children:"The Vault"}),x.jsx("p",{className:"text-brand-gold font-mono text-[11px] uppercase tracking-[0.6em] mt-3 font-black",children:"Digital Asset Requisition Hub"}),x.jsxs("div",{className:"mt-8 flex flex-wrap gap-4 justify-center md:justify-start",children:[x.jsxs("div",{className:"flex items-center gap-3 bg-black/40 px-4 py-2 rounded-xl border border-white/10",children:[x.jsx("span",{className:"text-brand-gold font-display font-black text-xl",children:""}),x.jsxs("span",{className:"font-mono text-white text-lg font-bold",children:[t.spadesBalance||0," Spades"]})]}),x.jsxs("div",{className:"flex items-center gap-3 bg-black/40 px-4 py-2 rounded-xl border border-white/10",children:[x.jsx(ox,{size:20,className:"text-neutral-400"}),x.jsxs("span",{className:"font-mono text-white text-lg font-bold",children:[t.totalPoints.toLocaleString()," P"]})]})]})]}),t.isAdmin&&x.jsxs("button",{onClick:()=>u(!l),className:"mt-10 md:mt-0 px-10 py-4 bg-white text-black font-black text-xs uppercase tracking-widest rounded-2xl hover:bg-brand-gold transition-all shadow-xl relative z-[100] flex items-center gap-2",children:[x.jsx(bY,{size:18}),l?"Cancel":"New Listing"]})]}),l&&x.jsxs("form",{onSubmit:m,className:"glass-panel p-10 rounded-[32px] border border-brand-gold/30 space-y-8 animate-in slide-in-from-top-4 duration-500 relative z-[200]",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-black ml-1",children:"Asset Title"}),x.jsx("input",{type:"text",placeholder:"e.g. Master Hacker Role",value:f.title,onChange:S=>d({...f,title:S.target.value}),className:"w-full bg-black/50 p-4 rounded-2xl border border-white/10 text-white outline-none focus:border-brand-gold",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-black ml-1",children:"Category"}),x.jsxs("select",{value:f.itemType,onChange:S=>d({...f,itemType:S.target.value}),className:"w-full bg-black/50 p-4 rounded-2xl border border-white/10 text-white outline-none focus:border-brand-gold",children:[x.jsx("option",{value:"role",children:"Discord Role"}),x.jsx("option",{value:"asset",children:"Profile Asset"}),x.jsx("option",{value:"perk",children:"Community Perk"}),x.jsx("option",{value:"other",children:"Other"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-black ml-1",children:"Expires (Hours)"}),x.jsx("input",{type:"number",value:f.durationHours,onChange:S=>d({...f,durationHours:parseInt(S.target.value)}),className:"w-full bg-black/50 p-4 rounded-2xl border border-white/10 text-white font-mono",required:!0})]}),x.jsxs("div",{className:"col-span-full border-y border-white/5 py-6",children:[x.jsx("h4",{className:"text-[10px] text-brand-gold uppercase font-black mb-6 tracking-[0.2em]",children:"Currency Availability Configuration"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("button",{type:"button",onClick:()=>d({...f,allowPoints:!f.allowPoints}),className:"flex items-center gap-3 text-white group",children:[f.allowPoints?x.jsx(BN,{className:"text-brand-red"}):x.jsx(qN,{className:"text-neutral-600 group-hover:text-white"}),x.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Allow Point Purchase"})]}),f.allowPoints&&x.jsxs("div",{className:"animate-in slide-in-from-left-2 duration-300",children:[x.jsx("label",{className:"text-[9px] text-neutral-500 uppercase font-black ml-1 mb-1 block",children:"Point Cost"}),x.jsx("input",{type:"number",value:f.price,onChange:S=>d({...f,price:parseInt(S.target.value)}),className:"w-full bg-black/50 p-4 rounded-2xl border border-brand-red/20 text-white font-mono focus:border-brand-red",required:!0})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("button",{type:"button",onClick:()=>d({...f,allowSpades:!f.allowSpades}),className:"flex items-center gap-3 text-white group",children:[f.allowSpades?x.jsx(BN,{className:"text-brand-gold"}):x.jsx(qN,{className:"text-neutral-600 group-hover:text-white"}),x.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Allow Spade Purchase"})]}),f.allowSpades&&x.jsxs("div",{className:"animate-in slide-in-from-left-2 duration-300",children:[x.jsx("label",{className:"text-[9px] text-neutral-500 uppercase font-black ml-1 mb-1 block",children:"Spade Cost"}),x.jsx("input",{type:"number",value:f.spadesPrice,onChange:S=>d({...f,spadesPrice:parseInt(S.target.value)}),className:"w-full bg-black/50 p-4 rounded-2xl border border-brand-gold/20 text-white font-mono focus:border-brand-gold",required:!0})]})]})]})]}),x.jsxs("div",{className:"col-span-full space-y-2",children:[x.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-black ml-1",children:"Asset Image URL (Optional)"}),x.jsx("input",{type:"text",placeholder:"https://...",value:f.imageUrl,onChange:S=>d({...f,imageUrl:S.target.value}),className:"w-full bg-black/50 p-4 rounded-2xl border border-white/10 text-white"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] text-neutral-500 uppercase font-black ml-1",children:"Description"}),x.jsx("textarea",{placeholder:"Asset metadata and details...",value:f.description,onChange:S=>d({...f,description:S.target.value}),className:"w-full bg-black/50 p-4 rounded-2xl border border-white/10 h-32 text-white resize-none focus:border-brand-gold"})]}),x.jsx("button",{type:"submit",className:"w-full bg-brand-gold py-6 text-black font-black uppercase text-sm tracking-[0.4em] rounded-2xl shadow-2xl hover:scale-[1.01] transition-all",children:"Publish Requisition Entry"})]}),n.length===0&&!i?x.jsx("div",{className:"text-center py-40 glass-panel rounded-[40px] border-dashed border-2 border-white/5 opacity-30",children:x.jsx("p",{className:"text-4xl font-display font-black text-white uppercase italic",children:"Vault Clear"})}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:n.map(S=>x.jsxs("div",{className:"group relative flex flex-col h-full glass-panel rounded-[32px] border border-white/5 overflow-hidden transition-all duration-500 hover:border-brand-gold/30",children:[x.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-neutral-950",children:[x.jsx("img",{src:S.imageUrl,alt:S.title,className:"w-full h-full object-cover transform transition-transform duration-[2000ms] group-hover:scale-110 opacity-60 group-hover:opacity-100"}),x.jsx("div",{className:"absolute top-4 left-4 z-20",children:x.jsx(_fe,{expiresAt:S.expiresAt,onExpire:h})}),x.jsx("div",{className:"absolute top-4 right-4 z-20",children:x.jsx("span",{className:"px-3 py-1 bg-black/60 backdrop-blur-md rounded-full text-[9px] font-black text-white uppercase border border-white/10",children:S.itemType})}),t.isAdmin&&x.jsx("button",{onClick:A=>E(A,S.id),className:"absolute bottom-4 right-4 p-3 bg-red-600/20 text-red-500 hover:bg-red-600 hover:text-white rounded-xl transition-all border border-red-500/20 backdrop-blur-md",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),x.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[x.jsx("h3",{className:"text-2xl font-display font-black text-white uppercase tracking-tight mb-2 truncate group-hover:text-brand-gold transition-colors",children:S.title}),x.jsx("p",{className:"text-xs text-neutral-500 font-light leading-relaxed mb-8 line-clamp-2 italic",children:S.description}),x.jsxs("div",{className:"mt-auto space-y-4",children:[x.jsxs("div",{className:"flex gap-4",children:[S.allowPoints&&x.jsxs("button",{onClick:()=>v(S.id,"points"),disabled:!!S.ownerId||t.totalPoints<S.price,className:"flex-1 py-4 px-3 bg-white/5 border border-white/10 rounded-2xl text-center transition-all disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white hover:text-black",children:[x.jsx("p",{className:"text-[9px] font-bold uppercase tracking-widest text-neutral-500",children:"Points"}),x.jsx("p",{className:"text-base font-mono font-black",children:S.price.toLocaleString()})]}),S.allowSpades&&x.jsxs("button",{onClick:()=>v(S.id,"spades"),disabled:!!S.ownerId||t.spadesBalance<S.spadesPrice,className:"flex-1 py-4 px-3 bg-brand-gold/10 border border-brand-gold/30 rounded-2xl text-center transition-all disabled:opacity-30 disabled:cursor-not-allowed hover:bg-brand-gold hover:text-black shadow-[0_0_15px_rgba(226,177,91,0.1)]",children:[x.jsx("p",{className:"text-[9px] font-bold uppercase tracking-widest text-brand-gold",children:"Spades"}),x.jsx("p",{className:"text-base font-display font-black",children:S.spadesPrice})]})]}),S.ownerId?x.jsx("div",{className:"w-full py-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl text-center",children:x.jsxs("p",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest truncate px-2",children:["Held by ",S.ownerName]})}):x.jsx("div",{className:"w-full py-2 bg-white/5 rounded-xl text-[8px] font-black text-neutral-600 uppercase tracking-[0.2em] text-center",children:"Available for Requisition"})]})]})]},S.id))})]})}const Efe=({currentUser:t,onActivity:e})=>{const[n,r]=N.useState("timer"),[i,o]=N.useState(!1),[l,u]=N.useState(0),[f,d]=N.useState(1500),[h,m]=N.useState(0),[v,E]=N.useState([]),S=N.useRef(null);N.useEffect(()=>{u(n==="timer"?f:0),o(!1)},[n,f]),N.useEffect(()=>{(async()=>{const B=await ke.getAllUsers();E(B.filter(H=>!H.isGuest).sort((H,F)=>(F.stats.minutesStudied||0)-(H.stats.minutesStudied||0)).slice(0,5))})()},[i]),N.useEffect(()=>(i?S.current=window.setInterval(()=>{u(n==="stopwatch"?L=>L+1:L=>L<=1?(R(f),0):L-1)},1e3):S.current&&(clearInterval(S.current),S.current=null),()=>{S.current&&(clearInterval(S.current),S.current=null)}),[i,n,f]),N.useEffect(()=>{let L=0;n==="stopwatch"?L=Math.floor(l/60):L=Math.floor((f-l)/60),m(L*nm.FOCUS_MINUTE)},[l,n,f]);const A=()=>{if(t.isGuest){alert("ACCESS DENIED: Guest accounts cannot utilize the Focus Realm. Initialize Identity to begin earning power.");return}o(!i)},T=()=>{if(n==="stopwatch")R(l);else{const L=f-l;R(L)}},R=async L=>{o(!1),S.current&&(clearInterval(S.current),S.current=null);const B=Math.floor(L/60);if(B<1){u(n==="timer"?f:0);return}const H=B*nm.FOCUS_MINUTE;if(H>0){const F=await ke.getUser(t.studentId);if(F){const D={...F,totalPoints:F.totalPoints+H,stats:{...F.stats,minutesStudied:(F.stats.minutesStudied||0)+B}};await ke.saveUser(D),e(),alert(`PRODUCTIVITY REWARD: +${H} POINTS BANKED`)}}u(n==="timer"?f:0)},j=L=>{const B=Math.floor(L/60),H=L%60;return`${B.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`};return x.jsxs("div",{className:"pb-32 grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-700",children:[x.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[x.jsxs("div",{className:"glass-panel p-10 rounded-3xl text-center relative overflow-hidden border border-white/10",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-deepRed/20 via-transparent to-transparent pointer-events-none"}),x.jsxs("div",{className:"relative w-64 h-64 mx-auto mb-10 flex items-center justify-center",children:[x.jsx("div",{className:`absolute inset-0 rounded-full border-2 border-brand-red/20 ${i?"animate-ping opacity-20":""}`}),x.jsx("div",{className:`absolute inset-4 rounded-full border border-brand-red/40 ${i?"animate-spin opacity-40":""}`,style:{animationDuration:"10s"}}),x.jsx("div",{className:`w-48 h-48 rounded-full bg-gradient-to-br from-neutral-900 to-black border-4 border-brand-red shadow-[0_0_50px_rgba(217,35,35,0.2)] flex items-center justify-center z-10 transition-all duration-1000 ${i?"shadow-[0_0_80px_rgba(217,35,35,0.6)] scale-105":""}`,children:x.jsx("span",{className:"text-6xl font-mono font-bold text-white tracking-wider",children:j(l)})})]}),x.jsxs("div",{className:"flex flex-col items-center gap-4 mb-8",children:[x.jsx("h2",{className:"text-white font-display font-bold text-xl uppercase tracking-widest",children:"Focus Realm"}),x.jsx("p",{className:"text-neutral-500 text-xs italic",children:"Log your coding, studying, or project sessions."})]}),x.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[x.jsx("button",{onClick:()=>{o(!1),r("timer")},className:`px-6 py-2 rounded-full text-xs font-bold uppercase tracking-widest transition-all ${n==="timer"?"bg-white text-black":"text-neutral-500 hover:text-white"}`,children:"Timer"}),x.jsx("button",{onClick:()=>{o(!1),r("stopwatch")},className:`px-6 py-2 rounded-full text-xs font-bold uppercase tracking-widest transition-all ${n==="stopwatch"?"bg-white text-black":"text-neutral-500 hover:text-white"}`,children:"Stopwatch"})]}),n==="timer"&&!i&&x.jsx("div",{className:"flex justify-center gap-2 mb-8",children:[15,25,45,60,90,120].map(L=>x.jsx("button",{onClick:()=>{d(L*60),u(L*60)},className:`w-12 h-12 rounded-full border border-white/10 text-xs font-mono hover:border-brand-red hover:text-brand-red transition-all ${f===L*60?"border-brand-red text-brand-red bg-brand-red/10":"text-neutral-500"}`,children:L},L))}),x.jsx("div",{className:"flex justify-center gap-6",children:t.isGuest?x.jsx("button",{disabled:!0,className:"px-12 py-4 rounded-xl font-bold uppercase tracking-[0.2em] bg-neutral-900 text-neutral-600 border border-neutral-800 cursor-not-allowed",children:"Identity Required"}):x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:A,className:`px-12 py-4 rounded-xl font-bold uppercase tracking-[0.2em] transition-all shadow-xl ${i?"bg-neutral-800 text-neutral-400 border border-neutral-700 hover:text-white":"bg-brand-red text-white hover:bg-white hover:text-black shadow-brand-red/30"}`,children:i?"Pause Session":"Start Focus"}),i&&x.jsx("button",{onClick:T,className:"px-8 py-4 rounded-xl font-bold uppercase tracking-[0.2em] border border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition-all",children:"Finish"})]})}),i&&x.jsxs("div",{className:"mt-8 text-brand-gold font-mono text-xs uppercase tracking-widest animate-pulse",children:["Generating Impact: +",h," PTS"]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-white/5",children:[x.jsx("p",{className:"text-neutral-500 text-[10px] uppercase tracking-widest mb-2",children:"My Total Discipline"}),x.jsxs("p",{className:"text-3xl font-display font-bold text-white",children:[Math.floor((t.stats.minutesStudied||0)/60),x.jsx("span",{className:"text-sm text-neutral-500 ml-1",children:"h"})," ",(t.stats.minutesStudied||0)%60,x.jsx("span",{className:"text-sm text-neutral-500 ml-1",children:"m"})]})]}),x.jsxs("div",{className:"glass-panel p-6 rounded-2xl border border-white/5",children:[x.jsx("p",{className:"text-neutral-500 text-[10px] uppercase tracking-widest mb-2",children:"Pending Gain"}),x.jsxs("p",{className:"text-3xl font-display font-bold text-brand-gold",children:["+",h]})]})]})]}),x.jsxs("div",{className:"lg:col-span-1 glass-panel rounded-2xl p-6 border border-white/5 h-fit",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-white/5",children:[x.jsx("div",{className:"w-8 h-8 rounded bg-brand-gold/10 flex items-center justify-center text-brand-gold",children:""}),x.jsx("h3",{className:"font-bold text-white uppercase tracking-widest text-sm",children:"Discipline Elite"})]}),x.jsxs("div",{className:"space-y-4",children:[v.map((L,B)=>x.jsxs("div",{className:"flex items-center gap-4 group",children:[x.jsx("div",{className:`w-6 h-6 rounded flex items-center justify-center font-mono text-xs font-bold ${B===0?"bg-brand-gold text-black":"bg-neutral-800 text-neutral-500"}`,children:B+1}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:"text-sm font-bold text-neutral-300 group-hover:text-white",children:L.username}),x.jsxs("div",{className:"text-[10px] text-neutral-600 font-mono",children:[Math.floor((L.stats.minutesStudied||0)/60),"h ",(L.stats.minutesStudied||0)%60,"m logged"]})]}),B===0&&x.jsx("span",{className:"text-lg",children:""})]},L.studentId)),v.length===0&&x.jsx("div",{className:"text-neutral-600 text-xs italic",children:"No node activity recorded."})]})]})]})},wfe=()=>{const t=N.useRef(null);return N.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;let r,i=Date.now();const o=60,l=50,u=()=>{const d=e.parentElement;d&&(e.width=d.clientWidth,e.height=d.clientWidth*.7)};u(),window.addEventListener("resize",u);const f=()=>{const d=Date.now(),m=(d-i)%8e3,v=e.width,E=e.height,S=v*.05,A=E*.05,T=v-S*2,R=E-A*2,j=T/o,L=R/l,B=Math.min(j,L)*.35;n.fillStyle="#050505",n.fillRect(0,0,v,E);const H=Math.floor(o/2),F=Math.floor(l/2);let D=0;m>3500&&m<5500?D=(m-3500)/2e3:m>=5500&&(D=1);for(let O=0;O<o;O++)for(let k=0;k<l;k++){const G=S+O*j+j/2,q=A+k*L+L/2,M=O===H&&k===F;if(n.beginPath(),n.arc(G,q,B,0,Math.PI*2),m<3500)if(M){const V=Math.sin(d/200)*.5+.5;n.fillStyle=`rgba(217, 35, 35, ${.5+V*.5})`,n.shadowBlur=10*V,n.shadowColor="#d92323"}else n.fillStyle="#1a1a1a",n.shadowBlur=0;else{const V=A+D*R;if(q<V){if(m>=5500){const de=Math.sqrt(Math.pow(O-H,2)+Math.pow(k-F,2)),ye=Math.sin(de*.2-d/200)*.3+.7;n.fillStyle=`rgba(226, 177, 91, ${ye})`}else n.fillStyle="#e2b15b";n.shadowBlur=0}else q>=V&&q<V+L*2?(n.fillStyle="#ffffff",n.shadowBlur=10,n.shadowColor="#ffffff"):M?n.fillStyle="#d92323":n.fillStyle="#1a1a1a"}n.fill()}n.font=`bold ${Math.max(12,v/40)}px "JetBrains Mono"`,n.textAlign="right",n.textBaseline="bottom",m<3500?(n.fillStyle="#d92323",n.fillText("STATUS: OFFLINE",v-20,E-20)):m<5500?(n.fillStyle="#ffffff",n.fillText("INITIALIZING NODE...",v-20,E-20)):(n.fillStyle="#e2b15b",n.fillText("PROTOCOL: ACTIVE",v-20,E-20)),n.textAlign="left",n.fillStyle="#333",n.fillText("SPADES CORE",20,E-20),r=requestAnimationFrame(f)};return f(),()=>{window.removeEventListener("resize",u),cancelAnimationFrame(r)}},[]),x.jsx("canvas",{ref:t,className:"w-full h-auto rounded-2xl border border-white/10 bg-black shadow-2xl"})};function mD({onEnterSystem:t}){return x.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-brand-red selection:text-white font-sans",children:[x.jsxs("section",{className:"relative min-h-[100dvh] flex flex-col items-center justify-center overflow-hidden px-6 py-20",children:[x.jsxs("div",{className:"absolute inset-0 z-0 bg-black",children:[x.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-40"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-black/40 to-black z-10"})]}),x.jsxs("div",{className:"relative z-20 text-center max-w-6xl animate-in fade-in slide-in-from-bottom-12 duration-1000 mt-auto mb-auto",children:[x.jsxs("div",{className:"mb-6 flex items-center justify-center gap-4",children:[x.jsx("div",{className:"h-px w-8 md:w-16 bg-brand-red"}),x.jsx("h2",{className:"text-brand-red font-mono text-xs md:text-sm uppercase tracking-[0.3em] font-bold drop-shadow-[0_0_10px_rgba(217,35,35,0.8)]",children:"The Spades Community"}),x.jsx("div",{className:"h-px w-8 md:w-16 bg-brand-red"})]}),x.jsxs("h1",{className:"text-6xl sm:text-7xl md:text-9xl font-display font-black tracking-tighter mb-8 leading-[0.9] drop-shadow-xl relative break-words uppercase",children:[x.jsx("span",{className:"text-white/30 backdrop-blur-[2px]",children:"ELEVATE YOUR"})," ",x.jsx("br",{}),x.jsx("span",{className:"text-brand-red",children:"PRODUCTIVITY"})]}),x.jsxs("p",{className:"max-w-xl mx-auto text-neutral-200 text-lg md:text-xl font-light mb-12 leading-relaxed drop-shadow-md mix-blend-screen px-4",children:["A gamified Discord ecosystem designed for focus, governance, and collective growth. ",x.jsx("br",{}),"Turn your grind into influence."]}),x.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6 w-full px-4",children:[x.jsx("button",{onClick:()=>{var e;return(e=document.getElementById("manifesto"))==null?void 0:e.scrollIntoView({behavior:"smooth"})},className:"w-full sm:w-auto px-8 py-4 border border-white/20 rounded-full hover:bg-white hover:text-black transition-all font-bold uppercase tracking-widest text-xs min-w-[200px] backdrop-blur-sm bg-black/20",children:"The Pillars"}),x.jsxs("button",{onClick:t,className:"w-full sm:w-auto group px-8 py-4 bg-brand-red rounded-full hover:scale-105 transition-all font-bold uppercase tracking-widest text-xs shadow-[0_0_30px_rgba(217,35,35,0.4)] min-w-[200px] flex items-center justify-center gap-2",children:[x.jsx("span",{children:"Access System"}),x.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]})]}),x.jsxs("section",{id:"manifesto",className:"bg-[#050505] py-32 border-y border-white/5 relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-brand-red/50 to-transparent"}),x.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[x.jsxs("div",{className:"text-center mb-20",children:[x.jsx("h3",{className:"font-mono text-brand-gold text-xs uppercase tracking-[0.5em] mb-4",children:"Core Directives"}),x.jsx("h2",{className:"text-4xl md:text-5xl font-display font-black text-white",children:"WHAT IS SPADES?"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{id:"01",title:"Collaborative Governance",subtitle:"Shared Decisions",desc:"This isn't a top-down server. Propose bot features, server rules, or event themes. Your rank determines the weight of your vote in the community.",icon:"M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},{id:"02",title:"Focus Incentivized",subtitle:"Productivity Rewards",desc:"Log your hours in the Focus Realm (coding, studying, deep work). Earn points for every minute of discipline. Rise through the ranks to gain prestige.",icon:"M13 10V3L4 14h7v7l9-11h-7z"},{id:"03",title:"Asset Distribution",subtitle:"The Vault",desc:"Redeem your hard-earned points for exclusive Discord roles, profile assets, and community-curated digital rewards. A true merit-based economy.",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}].map((e,n)=>x.jsxs("div",{className:"group relative p-10 bg-[#0a0a0a] border border-white/5 rounded-3xl hover:border-brand-red/30 transition-all duration-500 hover:-translate-y-2",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-red/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-3xl"}),x.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[x.jsx("div",{className:"w-16 h-16 rounded-2xl bg-black border border-white/10 flex items-center justify-center mb-8 group-hover:border-brand-red/50 group-hover:shadow-[0_0_30px_rgba(217,35,35,0.2)] transition-all",children:x.jsx("svg",{className:"w-8 h-8 text-neutral-400 group-hover:text-brand-red transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:e.icon})})}),x.jsx("div",{className:"text-brand-red/50 font-mono text-6xl font-black absolute top-4 right-6 opacity-20 select-none",children:e.id}),x.jsx("h4",{className:"text-2xl font-bold mb-2 text-white",children:e.title}),x.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-widest mb-6",children:e.subtitle}),x.jsx("p",{className:"text-neutral-500 text-sm leading-relaxed",children:e.desc})]})]},n))})]})]}),x.jsxs("section",{className:"py-24 bg-[#030303] border-y border-white/5 relative overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),x.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 gap-16 items-center",children:[x.jsxs("div",{className:"relative z-10 space-y-10 order-2 md:order-1",children:[x.jsx("div",{className:"border-l-4 border-brand-red pl-8 py-2",children:x.jsxs("h2",{className:"text-4xl md:text-5xl font-display font-black text-white leading-[1.1] mb-2 uppercase",children:["RADICAL ",x.jsx("br",{}),x.jsx("span",{className:"text-neutral-600",children:"ACCOUNTABILITY."})]})}),x.jsx("div",{className:"space-y-6",children:x.jsxs("p",{className:"text-2xl text-neutral-300 font-light leading-relaxed",children:["The community monitors the system. ",x.jsx("br",{}),x.jsx("span",{className:"text-white font-bold",children:"No fakes. No shortcuts."})]})}),x.jsxs("div",{className:"pt-6 border-t border-white/10",children:[x.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed max-w-lg mb-6",children:"Through societal pressure and transparent logs, the Spades Protocol ensures that those at the top actually put in the work. Every member can challenge evidence on Discord."}),x.jsxs("div",{className:"inline-flex items-center gap-3 text-brand-gold font-bold uppercase tracking-widest text-xs bg-brand-gold/10 px-4 py-2 rounded border border-brand-gold/20",children:[x.jsx("span",{className:"w-2 h-2 bg-brand-gold rounded-full animate-pulse"}),"Node Synchronization Active"]})]})]}),x.jsx("div",{className:"relative z-10 order-1 md:order-2",children:x.jsxs("div",{className:"relative group cursor-crosshair",children:[x.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-brand-red to-brand-gold opacity-20 blur-xl group-hover:opacity-40 transition-opacity duration-1000"}),x.jsx(wfe,{}),x.jsx("div",{className:"absolute bottom-4 right-4 text-[10px] text-neutral-500 font-mono pointer-events-none uppercase",children:"Community Matrix Monitoring"})]})})]})]}),x.jsxs("section",{className:"py-40 text-center px-6 relative overflow-hidden",children:[x.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-20"}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black"}),x.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[x.jsxs("h2",{className:"text-6xl md:text-9xl font-display font-black mb-12 text-white tracking-tighter",children:["JOIN THE ",x.jsx("br",{})," ",x.jsx("span",{className:"text-brand-red",children:"PROTOCOL"})]}),x.jsxs("p",{className:"text-neutral-400 text-lg mb-12 max-w-2xl mx-auto",children:["Ready to turn your productivity into digital power? ",x.jsx("br",{}),"Register with your Discord username to begin."]}),x.jsxs("button",{onClick:t,className:"group relative px-16 py-6 bg-white text-black font-black uppercase tracking-[0.3em] text-sm hover:bg-brand-red hover:text-white transition-all transform hover:scale-105 overflow-hidden rounded-lg",children:[x.jsx("span",{className:"relative z-10",children:"Initialize Identity"}),x.jsx("div",{className:"absolute inset-0 bg-brand-red transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300 -z-0"})]})]})]}),x.jsx("footer",{className:"py-12 border-t border-white/5 bg-black",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6 text-neutral-600 font-mono text-[10px] uppercase tracking-widest",children:[x.jsx("div",{children:" 2025 Spades Community. All Rights Reserved."}),x.jsx("div",{children:"Built for the Grind."})]})})]})}const Sfe=()=>x.jsxs("div",{className:"max-w-4xl mx-auto space-y-12 pb-32 animate-in fade-in duration-700",children:[x.jsxs("div",{className:"text-center py-12 relative",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-red/5 to-transparent blur-3xl rounded-full opacity-20 pointer-events-none"}),x.jsx("h1",{className:"text-5xl md:text-7xl font-display font-black text-white tracking-tighter mb-4 drop-shadow-[0_0_30px_rgba(255,255,255,0.1)]",children:"SYSTEM GUIDE"}),x.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.5em] font-bold bg-black/50 inline-block px-4 py-2 rounded-full border border-brand-gold/20",children:"Protocol Manual v2.5"})]}),x.jsxs("div",{className:"glass-panel p-10 rounded-3xl border border-white/10 bg-gradient-to-br from-neutral-900/80 to-black relative overflow-hidden group hover:border-brand-red/30 transition-colors duration-500",children:[x.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-red/10 blur-[80px] rounded-full group-hover:bg-brand-red/20 transition-all"}),x.jsx("h3",{className:"text-2xl font-bold text-white mb-6 uppercase tracking-widest text-center",children:"The Spades Philosophy"}),x.jsxs("p",{className:"text-neutral-300 text-lg font-light leading-relaxed text-center max-w-3xl mx-auto",children:["Spades is a meritocratic ecosystem for the Discord era. We reward ",x.jsx("span",{className:"text-white font-medium",children:"consistent effort"})," over mere presence. Whether you are coding, studying, or building projects, your discipline translates to protocol power."]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10 bg-gradient-to-b from-brand-red/5 to-transparent text-center hover:transform hover:-translate-y-2 transition-all duration-300",children:[x.jsx("div",{className:"w-12 h-12 bg-brand-red/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-brand-red/20",children:x.jsx("span",{className:"text-2xl",children:""})}),x.jsx("h3",{className:"text-brand-red font-bold uppercase tracking-widest text-xs mb-3",children:"Pillar I"}),x.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"Governance"}),x.jsx("p",{className:"text-sm text-neutral-400 font-light leading-relaxed",children:"Shape the community. High-rank members hold more weight in server decisions."})]}),x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10 bg-gradient-to-b from-brand-gold/5 to-transparent text-center hover:transform hover:-translate-y-2 transition-all duration-300",children:[x.jsx("div",{className:"w-12 h-12 bg-brand-gold/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-brand-gold/20",children:x.jsx("span",{className:"text-2xl",children:""})}),x.jsx("h3",{className:"text-brand-gold font-bold uppercase tracking-widest text-xs mb-3",children:"Pillar II"}),x.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"Focus Economy"}),x.jsx("p",{className:"text-sm text-neutral-400 font-light leading-relaxed",children:"Earn points for every minute of deep productivity. Discipline is the only currency."})]}),x.jsxs("div",{className:"glass-panel p-8 rounded-3xl border border-white/10 bg-gradient-to-b from-blue-500/5 to-transparent text-center hover:transform hover:-translate-y-2 transition-all duration-300",children:[x.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-blue-500/20",children:x.jsx("span",{className:"text-2xl",children:""})}),x.jsx("h3",{className:"text-blue-400 font-bold uppercase tracking-widest text-xs mb-3",children:"Pillar III"}),x.jsx("h4",{className:"text-white font-bold text-xl mb-3",children:"Hierarchy"}),x.jsx("p",{className:"text-sm text-neutral-400 font-light leading-relaxed",children:"Climb from Prospect to System Ace. Unlock exclusive roles and Vault items."})]})]}),x.jsxs("div",{className:"glass-panel p-10 rounded-3xl border border-white/10",children:[x.jsxs("h3",{className:"text-2xl font-bold text-white mb-8 uppercase tracking-widest flex items-center gap-3",children:[x.jsx("span",{className:"w-2 h-2 bg-brand-gold rounded-full animate-pulse"}),"Influence Dynamics"]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[x.jsxs("div",{children:[x.jsxs("p",{className:"text-neutral-400 text-sm mb-8 leading-relaxed",children:["Points are gained through ",x.jsx("strong",{children:"Deep Focus"})," and ",x.jsx("strong",{children:"Civic Action"}),". Chatting alone earns nothing; contribution and work do."]}),x.jsxs("ul",{className:"space-y-4",children:[x.jsxs("li",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-brand-gold/20 hover:bg-white/10 transition-colors",children:[x.jsx("span",{className:"text-white font-bold text-sm",children:"Focus Realm (Work/Study/Code)"}),x.jsx("span",{className:"text-brand-gold font-mono font-bold text-sm",children:"2 PTS / MIN"})]}),x.jsxs("li",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-brand-gold/20 hover:bg-white/10 transition-colors",children:[x.jsx("span",{className:"text-white font-bold text-sm",children:"Casting a Vote (Council)"}),x.jsx("span",{className:"text-brand-gold font-mono font-bold text-sm",children:"10 PTS"})]}),x.jsxs("li",{className:"flex justify-between items-center p-4 bg-white/5 rounded-xl border border-white/5 opacity-50",children:[x.jsx("span",{className:"text-neutral-500 text-sm",children:"Idle Presence"}),x.jsx("span",{className:"text-neutral-600 font-mono text-sm",children:"0 PTS"})]})]})]}),x.jsxs("div",{className:"flex flex-col justify-center text-center p-8 bg-black/40 rounded-2xl border border-white/10 relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-brand-gold/20 via-brand-gold to-brand-gold/20"}),x.jsx("div",{className:"text-5xl mb-6",children:""}),x.jsx("h4",{className:"text-white font-bold text-xl mb-2",children:"Weighted Impact"}),x.jsx("p",{className:"text-xs text-neutral-400 mb-6 px-4",children:"Rank determines your power within the Spades ecosystem."}),x.jsxs("ul",{className:"text-xs text-neutral-500 font-mono space-y-2",children:[x.jsxs("li",{className:"flex justify-between px-4",children:[x.jsx("span",{children:"Prospect / Member"})," ",x.jsx("span",{className:"text-white",children:"1x Influence"})]}),x.jsxs("li",{className:"flex justify-between px-4",children:[x.jsx("span",{children:"Contributor"})," ",x.jsx("span",{className:"text-white",children:"2x Influence"})]}),x.jsxs("li",{className:"flex justify-between px-4",children:[x.jsx("span",{children:"Scholar / Architect"})," ",x.jsx("span",{className:"text-white",children:"5x Influence"})]}),x.jsxs("li",{className:"flex justify-between px-4 border-t border-white/10 pt-2 mt-2",children:[x.jsx("span",{className:"text-brand-gold font-bold",children:"COUNCIL"})," ",x.jsx("span",{className:"text-brand-gold font-bold",children:"50x Influence"})]})]})]})]})]}),x.jsx("div",{className:"glass-panel p-10 rounded-3xl border border-emerald-500/20 bg-gradient-to-br from-emerald-950/30 to-black",children:x.jsxs("div",{className:"flex items-start gap-6",children:[x.jsx("div",{className:"p-4 bg-emerald-500/10 rounded-2xl border border-emerald-500/20 hidden md:block",children:x.jsx("svg",{className:"w-8 h-8 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-bold text-white mb-4 uppercase tracking-widest",children:"Vault & Community Integrity"}),x.jsxs("p",{className:"text-neutral-300 text-sm leading-relaxed mb-6",children:["The Vault is a showcase of community-sourced assets. Points represent real productivity sessions.",x.jsx("br",{}),x.jsx("br",{}),x.jsx("strong",{className:"text-emerald-400",children:"RADICAL ACCOUNTABILITY:"})," The Spades community holds itself responsible. Every member's focus time is visible on the leaderboard."]}),x.jsxs("div",{className:"p-4 bg-black/40 border border-white/10 rounded-xl text-xs text-neutral-400 font-mono leading-relaxed",children:[x.jsx("span",{className:"text-red-400 font-bold mr-2",children:"SOCIETAL CHALLENGE PROTOCOL:"}),"If a member is suspected of inflating their hours (leaving timers running while idle), the community can request evidence in the #council Discord channel. Failure to provide proof leads to a community-voted point purge and potential ban. Integrity is enforced by the many, not the few."]})]})]})}),x.jsxs("div",{className:"glass-panel p-10 rounded-3xl border border-white/10",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("h3",{className:"text-2xl font-bold text-white uppercase tracking-widest mb-2",children:"Rank Structure"}),x.jsx("p",{className:"text-brand-red text-xs font-mono uppercase tracking-[0.2em] font-bold",children:"The Spades High Council: Jack  Queen  King  Ace"})]}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Object.values(rs).map(t=>x.jsxs("div",{className:`p-5 rounded-2xl border flex flex-col items-center text-center hover:bg-white/5 transition-all duration-300 hover:scale-105 ${["J","Q","K","A"].includes(t.id)?"bg-brand-red/5 border-brand-red/30 shadow-[0_0_20px_rgba(217,35,35,0.1)]":"bg-black/40 border-white/5"}`,children:[x.jsx("div",{className:"text-3xl font-display font-bold text-white mb-3",children:t.id.replace("","")}),x.jsx("div",{className:"text-[10px] text-brand-red uppercase font-bold mb-1 tracking-wider",children:t.tier}),x.jsxs("div",{className:"text-[9px] text-neutral-500 font-mono mb-2",children:[t.minPoints," PTS"]}),x.jsxs("div",{className:"text-[9px] text-brand-gold font-mono bg-brand-gold/10 px-2 py-0.5 rounded border border-brand-gold/20",children:["Power: ",t.voteWeight,"x"]})]},t.id))})]}),x.jsxs("div",{className:"glass-panel p-10 rounded-3xl border border-brand-red/20 bg-gradient-to-r from-brand-red/10 to-transparent text-center",children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Focus = Power"}),x.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed mb-6 mx-auto max-w-2xl",children:"Utilizing the Focus Realm for coding, studying, or building is the fastest path to influence. A focused operative is a powerful operative."})]})]}),Tfe=({currentUser:t,onUpdate:e})=>{const[n,r]=N.useState({current:"",new:"",confirm:""}),[i,o]=N.useState({text:"",type:""}),l=async u=>{if(u.preventDefault(),o({text:"",type:""}),n.new!==n.confirm){o({text:"New passwords do not match.",type:"error"});return}if(n.new.length<8){o({text:"Password must be at least 8 characters.",type:"error"});return}if(t.passwordHash!==n.current){o({text:"Current password incorrect.",type:"error"});return}await ke.updatePassword(t.studentId,n.new),o({text:"Security key updated successfully.",type:"success"}),r({current:"",new:"",confirm:""}),e()};return x.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 pb-32 animate-in fade-in duration-700",children:[x.jsxs("div",{className:"text-center py-8",children:[x.jsx("h1",{className:"text-4xl font-display font-black text-white tracking-tight mb-2",children:"SETTINGS"}),x.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.4em]",children:"Account Security"})]}),x.jsxs("div",{className:"glass-panel p-8 rounded-2xl border border-white/5",children:[x.jsx("h3",{className:"text-lg font-bold text-white mb-6 uppercase tracking-wider",children:"Update Security Key"}),x.jsxs("form",{onSubmit:l,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] uppercase font-bold text-neutral-500 mb-2",children:"Current Security Key"}),x.jsx("input",{type:"password",value:n.current,onChange:u=>r({...n,current:u.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-red outline-none",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] uppercase font-bold text-neutral-500 mb-2",children:"New Security Key"}),x.jsx("input",{type:"password",value:n.new,onChange:u=>r({...n,new:u.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-red outline-none",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] uppercase font-bold text-neutral-500 mb-2",children:"Confirm New Key"}),x.jsx("input",{type:"password",value:n.confirm,onChange:u=>r({...n,confirm:u.target.value}),className:"w-full bg-black/50 border border-white/10 rounded-xl p-3 text-white focus:border-brand-red outline-none",required:!0})]}),i.text&&x.jsx("div",{className:`p-3 rounded text-xs font-bold uppercase ${i.type==="error"?"bg-red-900/20 text-red-500":"bg-emerald-900/20 text-emerald-500"}`,children:i.text}),x.jsx("button",{type:"submit",className:"px-8 py-3 bg-brand-red text-white font-bold uppercase tracking-widest text-xs rounded-lg hover:bg-red-600 transition-colors",children:"Update Key"})]})]}),x.jsxs("div",{className:"glass-panel p-8 rounded-2xl border border-white/5 opacity-50",children:[x.jsx("h3",{className:"text-lg font-bold text-white mb-2 uppercase tracking-wider",children:"Protocol Info"}),x.jsxs("p",{className:"text-sm text-neutral-400 font-mono",children:["Username: ",t.studentId]}),x.jsxs("p",{className:"text-sm text-neutral-400 font-mono",children:["Current Rank: ",t.currentCard]}),x.jsxs("p",{className:"text-sm text-neutral-400 font-mono",children:["Initialized: ",new Date(t.joinDate).toLocaleDateString()]})]})]})},Afe=({onLogin:t,onBack:e})=>{const[n,r]=N.useState("login"),[i,o]=N.useState(""),[l,u]=N.useState(""),[f,d]=N.useState(""),[h,m]=N.useState(!1),[v,E]=N.useState(null);N.useEffect(()=>{ke.getSettings().then(E)},[]);const S=async T=>{if(T.preventDefault(),d(""),m(!0),!i.trim()||i.length<2){d("ACCESS DENIED // USERNAME INVALID"),m(!1);return}if(n==="login"){const R=await ke.getUser(i);if(R){if(R.isBanned){d("your account has been locked."),m(!1);return}if(R.passwordHash===l){await ke.processLoginStreak(R.studentId);const j=await ke.getUser(R.studentId);j&&t(j)}else d("AUTHENTICATION FAILED // INVALID KEY")}else d("ACCESS DENIED // ACCOUNT NOT FOUND.")}else if(l.length<8)d("REGISTRATION FAILED // KEY MUST BE AT LEAST 8 CHARS");else if(await ke.userExists(i))d("REGISTRATION FAILED // USERNAME TAKEN");else{const j={studentId:i,username:i,passwordHash:l,currentRank:"2 of Spades",currentCard:"2",totalPoints:0,spadesBalance:0,streak:1,streakFreezes:0,lastLoginDate:new Date().toISOString(),joinDate:new Date().toISOString(),lastActive:new Date().toISOString(),yearGroup:13,house:["Phoenix","Dragon","Griffin","Raven"][Math.floor(Math.random()*4)],stats:{postsCreated:0,commentsCreated:0,votesGiven:0,resourcesShared:0,moderationsPerformed:0,minutesStudied:0},isAdmin:i==="ACE_PROTOCOL",requiresPasswordChange:!1,inventory:[]};await ke.saveUser(j),t(j)}m(!1)},A=async()=>{m(!0);const R={studentId:`GUEST-${Math.floor(1e3+Math.random()*9e3)}`,username:"Visitor",passwordHash:"",currentRank:"2 of Spades",currentCard:"2",totalPoints:0,spadesBalance:0,streak:0,streakFreezes:0,lastLoginDate:"",joinDate:new Date().toISOString(),lastActive:new Date().toISOString(),yearGroup:13,house:"Phoenix",stats:{postsCreated:0,commentsCreated:0,votesGiven:0,resourcesShared:0,moderationsPerformed:0,minutesStudied:0},isAdmin:!1,requiresPasswordChange:!1,inventory:[],isGuest:!0};await ke.saveUser(R),t(R)};return x.jsxs("div",{className:"min-h-screen bg-[#020202] flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[x.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] opacity-[0.4] mix-blend-overlay"}),x.jsxs("div",{className:"max-w-[900px] w-full grid grid-cols-1 md:grid-cols-2 bg-[#050505]/80 backdrop-blur-3xl border border-white/5 rounded-[32px] shadow-2xl relative overflow-hidden",children:[x.jsx("button",{onClick:e,className:"absolute top-6 left-6 text-neutral-600 hover:text-white transition-colors z-30",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),x.jsxs("div",{className:"relative p-12 bg-black/50 flex flex-col justify-center",children:[x.jsxs("h1",{className:"text-6xl font-display font-black text-white tracking-tighter mb-4 uppercase italic leading-none",children:["Spa",x.jsx("span",{className:"text-brand-red",children:"des"})]}),x.jsx("p",{className:"text-brand-gold font-mono text-xs uppercase tracking-[0.4em] font-bold opacity-80",children:"Community Protocol"}),x.jsxs("div",{className:"mt-12 space-y-6",children:[x.jsxs("div",{className:"flex items-center gap-4 text-neutral-500 group transition-all hover:text-white",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-orange-500",children:x.jsx(Yp,{className:"w-5 h-5 fill-current"})}),x.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Global Streak Tracking"})]}),x.jsxs("div",{className:"flex items-center gap-4 text-neutral-500 group transition-all hover:text-white",children:[x.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-brand-gold",children:x.jsx("span",{className:"font-display font-black",children:""})}),x.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"Dual-Currency Economy"})]})]})]}),x.jsxs("div",{className:"p-12 bg-[#080808] border-l border-white/5 flex flex-col justify-center",children:[x.jsx("div",{className:"flex gap-4 mb-10 border-b border-white/5",children:["login","register"].map(T=>x.jsx("button",{onClick:()=>{r(T),d("")},className:`pb-2 text-xs font-bold uppercase tracking-widest transition-all ${n===T?"text-white border-b-2 border-brand-red":"text-neutral-500 hover:text-white"}`,children:T},T))}),x.jsxs("form",{onSubmit:S,className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Discord Identity"}),x.jsx("input",{type:"text",value:i,onChange:T=>o(T.target.value),placeholder:"Username",className:"w-full bg-[#111] border border-[#222] rounded-xl p-4 text-white font-mono placeholder-neutral-700 outline-none focus:border-brand-red"}),n==="register"&&x.jsx("p",{className:"text-[9px] text-red-500/80 uppercase font-mono tracking-tighter",children:"MUST match your Discord name exactly."})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Security Key"}),x.jsx("input",{type:"password",value:l,onChange:T=>u(T.target.value),placeholder:"",className:"w-full bg-[#111] border border-[#222] rounded-xl p-4 text-white font-mono placeholder-neutral-700 outline-none focus:border-brand-red"}),n==="register"&&x.jsx("p",{className:"text-[9px] text-neutral-600 uppercase font-mono tracking-tighter",children:"Site-specific key (not Discord PW)."})]}),f&&x.jsx("div",{className:"p-3 bg-red-950/20 border border-red-900/40 rounded-lg text-red-400 text-[10px] font-mono uppercase leading-relaxed text-center",children:f}),x.jsx("button",{type:"submit",disabled:h,className:"w-full bg-white text-black font-black py-4 rounded-xl hover:scale-[1.01] transition-all uppercase tracking-[0.2em] text-xs shadow-2xl",children:h?"Processing Matrix...":n==="login"?"Authenticate":"Initialize Identity"})]}),(v==null?void 0:v.allowGuestAccess)&&x.jsx("div",{className:"mt-6 pt-6 border-t border-white/5",children:x.jsxs("button",{onClick:A,disabled:h,className:"w-full py-3 text-neutral-500 hover:text-white font-mono text-[10px] uppercase tracking-widest transition-colors flex items-center justify-center gap-2 font-bold",children:[x.jsx("span",{children:"Continue as Guest"}),x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})]})},Cfe=({user:t,onSuccess:e})=>{const[n,r]=N.useState(""),[i,o]=N.useState(""),[l,u]=N.useState(""),[f,d]=N.useState(!1),h=async m=>{if(m.preventDefault(),u(""),n.length<8)return u("Key must be at least 8 characters.");if(n!==i)return u("Keys do not match.");d(!0),await ke.updatePassword(t.studentId,n),d(!1),e()};return x.jsx("div",{className:"min-h-screen bg-[#020202] flex items-center justify-center p-4",children:x.jsxs("div",{className:"max-w-md w-full bg-[#080808] border border-red-900/40 rounded-3xl p-10 shadow-[0_0_50px_rgba(220,38,38,0.2)]",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-16 h-16 rounded-full bg-red-900/20 flex items-center justify-center animate-pulse",children:x.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),x.jsx("h2",{className:"text-2xl font-display font-bold text-white text-center mb-2 uppercase",children:"Security Reset"}),x.jsx("p",{className:"text-center text-neutral-500 text-[10px] font-mono uppercase tracking-widest mb-8",children:"Mandatory Protocol Update"}),x.jsxs("form",{onSubmit:h,className:"space-y-4",children:[x.jsx("input",{type:"password",value:n,onChange:m=>r(m.target.value),placeholder:"New Security Key",className:"w-full bg-[#111] border border-[#222] rounded-xl p-4 text-white font-mono placeholder-neutral-700 outline-none focus:border-brand-red"}),x.jsx("input",{type:"password",value:i,onChange:m=>o(m.target.value),placeholder:"Confirm Key",className:"w-full bg-[#111] border border-[#222] rounded-xl p-4 text-white font-mono placeholder-neutral-700 outline-none focus:border-brand-red"}),l&&x.jsx("div",{className:"p-3 bg-red-950/20 text-red-400 text-xs font-bold text-center border border-red-900/40 rounded-xl",children:l}),x.jsx("button",{type:"submit",disabled:f,className:"w-full bg-brand-red text-white font-black py-4 rounded-xl uppercase tracking-widest text-xs hover:bg-red-600 transition-colors shadow-2xl",children:f?"Securing...":"Establish Key"})]})]})})},Ife=()=>{const[t,e]=N.useState(null),[n,r]=N.useState("portfolio"),[i,o]=N.useState("dashboard"),[l,u]=N.useState(0),f=N.useCallback(async v=>{const E=["2","3","4","5","6","7","8","9","10","J","Q","K","A"];let S=E.indexOf(v.currentCard),A=0;for(let T=0;T<E.length;T++)v.totalPoints>=rs[E[T]].minPoints&&(A=T);if(A>S){const T=E[A],R={...v,currentCard:T,currentRank:rs[T].name};await ke.saveUser(R),e(R)}else e(v)},[]),d=N.useCallback(async()=>{const v=localStorage.getItem("session_user_id");if(!v)return;const E=await ke.getUser(v);E&&(E.isBanned?m():(e(E),f(E),u(S=>S+1)))},[f]);N.useEffect(()=>{const v=localStorage.getItem("session_user_id");v&&ke.getUser(v).then(A=>{A&&(A.isBanned?m():(e(A),r("app"),f(A)))});const E=A=>{(A.key==="users"||A.key==="art_pieces")&&d()},S=()=>{d()};return window.addEventListener("storage",E),window.addEventListener("storage_update",S),()=>{window.removeEventListener("storage",E),window.removeEventListener("storage_update",S)}},[d,f]);const h=v=>{localStorage.setItem("session_user_id",v.studentId),e(v),r("app"),f(v)},m=()=>{localStorage.removeItem("session_user_id"),e(null),r("portfolio")};return n==="portfolio"?x.jsx(mD,{onEnterSystem:()=>r("auth")}):n==="auth"&&!t?x.jsx(Afe,{onLogin:h,onBack:()=>r("portfolio")}):t?t.requiresPasswordChange&&!t.isGuest?x.jsx(Cfe,{user:t,onSuccess:d}):x.jsxs("div",{className:"min-h-screen bg-[#020202] text-neutral-100 flex font-sans",children:[x.jsx(Yq,{user:t,activeTab:i,onTabChange:o,onLogout:m}),x.jsx("main",{className:"flex-1 md:ml-72 p-4 md:p-10 overflow-x-hidden relative",children:x.jsxs("div",{className:"max-w-6xl mx-auto mt-20 md:mt-0 relative z-10",children:[i==="dashboard"&&x.jsx(gfe,{user:t}),i==="feed"&&x.jsx(aY,{currentUser:t,refreshTrigger:l,onActivity:d}),i==="focus"&&x.jsx(Efe,{currentUser:t,onActivity:d}),i==="gallery"&&x.jsx(xfe,{currentUser:t,onPurchase:d}),i==="leaderboard"&&x.jsx(vfe,{}),i==="council"&&x.jsx(yfe,{currentUser:t,refreshTrigger:l,onActivity:d}),i==="guide"&&x.jsx(Sfe,{}),i==="settings"&&x.jsx(Tfe,{currentUser:t,onUpdate:d}),i==="admin"&&t.isAdmin&&x.jsx(bfe,{currentUser:t,onActivity:d})]})})]}):x.jsx(mD,{onEnterSystem:()=>r("auth")})};ke.init().then(()=>{const t=document.getElementById("root");if(!t)throw new Error("Failed to find the root element");B6.createRoot(t).render(x.jsx(gD.StrictMode,{children:x.jsx(Ife,{})}))});

</script>
</head>
  <body>
    <div class="cinematic-bg"></div>
    <div class="noise-overlay"></div>
    <div id="root"></div>
  </body>
</html>
